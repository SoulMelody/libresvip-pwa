const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/data-grid-overlay-editor-D5P9YQq8-DjvWG0M9-DYg42jKy.js","assets/index-Dl0ak3r9.js","assets/withFullScreenWrapper-B889WJvl-c2i4pZwi-D-zXcpaP.js","assets/Toolbar-B07m0vY1-lBr543XL-BM-TaUlB.js","assets/FormClearHelper-C8nMSLiM-ZOoPDlL1-Bkd7LQt0.js","assets/sprintf-D5E86llw-yUkJWEcD-CuWy5xoB.js","assets/checkbox-BmD8lkx_-CgLKivWd-DZbwOWvY.js","assets/createDownloadLinkElement-CbRjLJ8e-BjJEUuqX-BXneJz2V.js","assets/slicedToArray-CA_WQOyU-kqNo8cqF-_rTNnS2m.js","assets/inherits-68_ZF_a0-CAwOmpvN-CRuXoZbP.js","assets/createSuper-B9Amsxb--Cab4W5gL-DdWIcOhb.js","assets/FileDownload.esm-BbD3IZMb-BLEPqTAs-CsSNqdZW.js","assets/number-overlay-editor-DqZDp47w-BU9rDKjf-C_JbBsOL.js","assets/es6--XPcqeHG-D1VmO9CH-BEgR1dll.js"])))=>i.map(i=>d[i]);
import{Q as St,j as me,r as d,F as uu,H as on,I as vr,J as sp,K as nl,e as cu,M as up,N as cp,L as dp,v as Te,c as Jn,b as sd,R as hp,O as rn,m as Zr,T as fp,U as pp,V as xo,x as ot,W as gp,y as rl,X as ns,l as rs,E as os,_ as Le,Y as ud,Z as mp,$ as vp,a0 as bp,D as wp,a1 as zl,a2 as cd,a3 as yp,a4 as Xr,a5 as xp,d as Tr,a6 as Oa,a7 as Da,a8 as dd,a9 as Pa,aa as hd,ab as kp,ac as Cp,ad as Sp,ae as Kn,af as Mp,ag as Rp,ah as Ep,A as Ip,B as Tp,ai as Op,aj as Dp,ak as fd,z as Pp,al as Hp,am as Ap,an as Fp,ao as ol,ap as Lp,aq as zp,ar as pd,as as $p,at as Np,au as Vp,av as _p,aw as Wp,ax as jp,ay as Bp,az as gd,C as Up,aA as Xp,aB as Gp,aC as Yp,aD as Kp,aE as qp,aF as Zp,aG as Qp,aH as ur,aI as Io,aJ as li,aK as du,aL as Jp,aM as eg,aN as si,aO as tg,aP as md,aQ as ng,aR as vd,aS as bd,aT as rg,aU as og,aV as ig,aW as ag,aX as lg,aY as sg,aZ as ug,a_ as cg,a$ as dg,b0 as wd,b1 as hg,b2 as fg,b3 as pg,b4 as gg,b5 as mg,b6 as vg,b7 as bg,b8 as wg,b9 as yg,ba as aa,bb as Xo,bc as Lt,bd as Ct,be as ha,bf as vn,bg as xg,bh as kg,bi as Cg,bj as Sg,bk as Mg,bl as Rg,bm as Eg,bn as jr,bo as hu,bp as fu,bq as yd,br as xd,bs as Ig,bt as $l,bu as Tg,bv as Og,bw as kd,bx as Dg}from"./index-Dl0ak3r9.js";import{E as Pg,m as Hg}from"./withFullScreenWrapper-B889WJvl-c2i4pZwi-D-zXcpaP.js";import{k as Ag,h as wo}from"./Toolbar-B07m0vY1-lBr543XL-BM-TaUlB.js";import{l as Fg}from"./FormClearHelper-C8nMSLiM-ZOoPDlL1-Bkd7LQt0.js";import{S as Lg}from"./sprintf-D5E86llw-yUkJWEcD-CuWy5xoB.js";import{h as zg,v as $g,S as Ng}from"./checkbox-BmD8lkx_-CgLKivWd-DZbwOWvY.js";import{o as Vg}from"./createDownloadLinkElement-CbRjLJ8e-BjJEUuqX-BXneJz2V.js";import{d as _g,E as gr}from"./slicedToArray-CA_WQOyU-kqNo8cqF-_rTNnS2m.js";import{s as Wg,l as jg,b as Bg}from"./inherits-68_ZF_a0-CAwOmpvN-CRuXoZbP.js";import{f as Ug}from"./createSuper-B9Amsxb--Cab4W5gL-DdWIcOhb.js";import{i as Xg,a as Gg}from"./FileDownload.esm-BbD3IZMb-BLEPqTAs-CsSNqdZW.js";var Cd=d.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement(os,Le({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),d.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),d.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))});Cd.displayName="Add";var Sd=d.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement(os,Le({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),d.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),d.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))});Sd.displayName="Search";var Md=d.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return d.createElement(os,Le({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),d.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),d.createElement("path",{d:"M12 6a9.77 9.77 0 018.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0112 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 010 5 2.5 2.5 0 010-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}))});Md.displayName="Visibility";var il,pu;function Yg(){if(pu)return il;pu=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,o){return r!=null&&t.call(r,o)}return il=n,il}var al,gu;function Kg(){if(gu)return al;gu=1;var e=Yg(),t=sp();function n(r,o){return r!=null&&t(r,o,e)}return al=n,al}var qg=Kg();const Zg=vr(qg);function Rd(e="This should not happen"){throw new Error(e)}function zn(e,t="Assertion failed"){if(!e)return Rd(t)}function mi(e,t){return Rd(t??"Hell froze over")}function Qg(e,t){try{return e()}catch{return t}}const mu=Object.prototype.hasOwnProperty;function Oo(e,t){let n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Oo(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(mu.call(e,n)&&++r&&!mu.call(t,n)||!(n in t)||!Oo(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const fa=null,is=void 0;var Z;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(Z||(Z={}));var vu;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(vu||(vu={}));var pa;(function(e){e.Triangle="triangle",e.Dots="dots"})(pa||(pa={}));function Gi(e){return"width"in e&&typeof e.width=="number"}async function bu(e){return typeof e=="object"?e:await e()}function ko(e){return!(e.kind===Z.Loading||e.kind===Z.Bubble||e.kind===Z.RowID||e.kind===Z.Protected||e.kind===Z.Drilldown)}function Mo(e){return e.kind===Bn.Marker||e.kind===Bn.NewRow}function Co(e){if(!ko(e)||e.kind===Z.Image)return!1;switch(e.kind){case Z.Text:case Z.Number:case Z.Markdown:case Z.Uri:case Z.Custom:case Z.Boolean:return e.readonly!==!0;default:mi(e,"A cell was passed with an invalid kind")}}function Jg(e){return Zg(e,"editor")}function as(e){return!(e.readonly??!1)}var Bn;(function(e){e.NewRow="new-row",e.Marker="marker"})(Bn||(Bn={}));const ga={shape:"square",size:4,offsetX:-2,offsetY:-2,outline:0};function ll(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(r,o){return r[0]-o[0]}),n.push([...t[0]]);for(const r of t.slice(1)){const o=n[n.length-1];o[1]<r[0]?n.push([...r]):o[1]<r[1]&&(o[1]=r[1])}return n}let wu;class Ze{items;constructor(t){this.items=t}static create=t=>new Ze(ll(t));static empty=()=>wu??(wu=new Ze([]));static fromSingleSelection=t=>Ze.empty().add(t);static fromArray=t=>{if(t.length===0)return Ze.empty();const n=t.map(o=>[o,o+1]),r=ll(n);return new Ze(r)};offset(t){if(t===0)return this;const n=this.items.map(r=>[r[0]+t,r[1]+t]);return new Ze(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,r=ll([...this.items,n]);return new Ze(r)}remove(t){const n=[...this.items],r=typeof t=="number"?t:t[0],o=typeof t=="number"?t+1:t[1];for(const[i,a]of n.entries()){const[l,s]=a;if(l<=o&&r<=s){const u=[];l<r&&u.push([l,r]),o<s&&u.push([o,s]),n.splice(i,1,...u)}}return new Ze(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[r,o]=this.items[n];if(t>=r&&t<o)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const r=t.items[n],o=this.items[n];if(r[0]!==o[0]||r[1]!==o[1])return!1}return!0}toArray(){const t=[];for(const[n,r]of this.items)for(let o=n;o<r;o++)t.push(o);return t}get length(){let t=0;for(const[n,r]of this.items)t+=r-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let r=t;r<n;r++)yield r}}var em=function(){const e=Array.prototype.slice.call(arguments).filter(Boolean),t={},n=[];e.forEach(o=>{(o?o.split(" "):[]).forEach(i=>{if(i.startsWith("atm_")){const[,a]=i.split("_");t[a]=i}else n.push(i)})});const r=[];for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.push(t[o]);return r.push(...n),r.join(" ")},yu=em,tm=e=>e.toUpperCase()===e,nm=e=>t=>e.indexOf(t)===-1,Ed=(e,t)=>{const n={};return Object.keys(e).filter(nm(t)).forEach(r=>{n[r]=e[r]}),n};function rm(e,t,n){const r=Ed(t,n);if(!e){const o=typeof nl=="function"?{default:nl}:nl;Object.keys(r).forEach(i=>{o.default(i)||delete r[i]})}return r}var om=(e,t)=>{};function im(e){let t="";return n=>{const r=(i,a)=>{const{as:l=e,class:s=t}=i,u=n.propsAsIs===void 0?!(typeof l=="string"&&l.indexOf("-")===-1&&!tm(l[0])):n.propsAsIs,c=rm(u,i,["as","class"]);c.ref=a,c.className=n.atomic?yu(n.class,c.className||s):yu(c.className||s,n.class);const{vars:h}=n;if(h){const g={};for(const m in h){const y=h[m],w=y[0],v=y[1]||"",x=typeof w=="function"?w(i):w;om(x,n.name),g[`--${m}`]=`${x}${v}`}const f=c.style||{},p=Object.keys(f);p.length>0&&p.forEach(m=>{g[m]=f[m]}),c.style=g}return e.__wyw_meta&&e!==l?(c.as=l,d.createElement(e,c)):d.createElement(l,c)},o=d.forwardRef?d.forwardRef(r):(i=>{const a=Ed(i,["innerRef"]);return r(a,i.innerRef)});return o.displayName=n.name,o.__wyw_meta={className:n.class||t,extends:e},o}}var cn=im;const am=cn("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var xu={},Go={},sl={},ul={},ku;function lm(){return ku||(ku=1,(function(e){(function(t,n){n(e,St,lg())})(ul,function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=p;var o=a(n),i=a(r);function a(v){return v&&v.__esModule?v:{default:v}}var l=Object.assign||function(v){for(var x=1;x<arguments.length;x++){var E=arguments[x];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(v[O]=E[O])}return v};function s(v,x){var E={};for(var O in v)x.indexOf(O)>=0||Object.prototype.hasOwnProperty.call(v,O)&&(E[O]=v[O]);return E}function u(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}var c=(function(){function v(x,E){for(var O=0;O<E.length;O++){var M=E[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}return function(x,E,O){return E&&v(x.prototype,E),O&&v(x,O),x}})();function h(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function g(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var f=!1;function p(v){f=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){p(!0)}}))}catch{}function m(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return f?v:v.capture}function y(v){if("touches"in v){var x=v.touches[0],E=x.pageX,O=x.pageY;return{x:E,y:O}}var M=v.screenX,P=v.screenY;return{x:M,y:P}}var w=(function(v){g(x,v);function x(){var E;u(this,x);for(var O=arguments.length,M=Array(O),P=0;P<O;P++)M[P]=arguments[P];var S=h(this,(E=x.__proto__||Object.getPrototypeOf(x)).call.apply(E,[this].concat(M)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return c(x,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(E){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(E))}},{key:"_onMouseMove",value:function(E){this.mouseDown&&this._handleSwipeMove(E)}},{key:"_onMouseUp",value:function(E){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(E)}},{key:"_handleSwipeStart",value:function(E){var O=y(E),M=O.x,P=O.y;this.moveStart={x:M,y:P},this.props.onSwipeStart(E)}},{key:"_handleSwipeMove",value:function(E){if(this.moveStart){var O=y(E),M=O.x,P=O.y,S=M-this.moveStart.x,k=P-this.moveStart.y;this.moving=!0;var H=this.props.onSwipeMove({x:S,y:k},E);H&&E.cancelable&&E.preventDefault(),this.movePosition={deltaX:S,deltaY:k}}}},{key:"_handleSwipeEnd",value:function(E){this.props.onSwipeEnd(E);var O=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-O?this.props.onSwipeLeft(1,E):this.movePosition.deltaX>O&&this.props.onSwipeRight(1,E),this.movePosition.deltaY<-O?this.props.onSwipeUp(1,E):this.movePosition.deltaY>O&&this.props.onSwipeDown(1,E)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(E){this.swiper=E,this.props.innerRef(E)}},{key:"render",value:function(){var E=this.props;E.tagName;var O=E.className,M=E.style,P=E.children;E.allowMouseEvents,E.onSwipeUp,E.onSwipeDown,E.onSwipeLeft,E.onSwipeRight,E.onSwipeStart,E.onSwipeMove,E.onSwipeEnd,E.innerRef,E.tolerance;var S=s(E,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return o.default.createElement(this.props.tagName,l({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:O,style:M},S),P)}}]),x})(n.Component);w.displayName="ReactSwipe",w.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},w.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=w})})(ul)),ul}var Cu;function Id(){return Cu||(Cu=1,(function(e){(function(t,n){n(e,lm())})(sl,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}t.default=r.default})})(sl)),sl}var Yo={},Su;function Td(){if(Su)return Yo;Su=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.default=void 0;var e=t(og());function t(o){return o&&o.__esModule?o:{default:o}}function n(o,i,a){return i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o}var r={ROOT:function(o){return(0,e.default)(n({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,e.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,i){return(0,e.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":i==="horizontal","axis-vertical":i!=="horizontal"})},SLIDER:function(o,i){return(0,e.default)({thumbs:!o,slider:o,animated:!i})},ITEM:function(o,i,a){return(0,e.default)({thumb:!o,slide:o,selected:i,previous:a})},ARROW_PREV:function(o){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,e.default)({dot:!0,selected:o})}};return Yo.default=r,Yo}var Ko={},qo={},Mu;function sm(){if(Mu)return qo;Mu=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.outerWidth=void 0;var e=function(t){var n=t.offsetWidth,r=getComputedStyle(t);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};return qo.outerWidth=e,qo}var Zo={},Ru;function ls(){if(Ru)return Zo;Ru=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.default=void 0;var e=function(t,n,r){var o=t===0?t:t+n,i=r==="horizontal"?[o,0,0]:[0,o,0],a="translate3d",l="("+i.join(",")+")";return a+l};return Zo.default=e,Zo}var Qo={},Eu;function Od(){if(Eu)return Qo;Eu=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=void 0;var e=function(){return window};return Qo.default=e,Qo}var Iu;function Dd(){if(Iu)return Ko;Iu=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.default=void 0;var e=s(St),t=a(Td()),n=sm(),r=a(ls()),o=a(Id()),i=a(Od());function a(S){return S&&S.__esModule?S:{default:S}}function l(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return l=function(){return S},S}function s(S){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var k=l();if(k&&k.has(S))return k.get(S);var H={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in S)if(Object.prototype.hasOwnProperty.call(S,R)){var T=I?Object.getOwnPropertyDescriptor(S,R):null;T&&(T.get||T.set)?Object.defineProperty(H,R,T):H[R]=S[R]}return H.default=S,k&&k.set(S,H),H}function u(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(k){return typeof k}:u=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},u(S)}function c(){return c=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var H=arguments[k];for(var I in H)Object.prototype.hasOwnProperty.call(H,I)&&(S[I]=H[I])}return S},c.apply(this,arguments)}function h(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function g(S,k){for(var H=0;H<k.length;H++){var I=k[H];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}function f(S,k,H){return k&&g(S.prototype,k),S}function p(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),k&&m(S,k)}function m(S,k){return m=Object.setPrototypeOf||function(H,I){return H.__proto__=I,H},m(S,k)}function y(S){var k=x();return function(){var H=E(S),I;if(k){var R=E(this).constructor;I=Reflect.construct(H,arguments,R)}else I=H.apply(this,arguments);return w(this,I)}}function w(S,k){return k&&(u(k)==="object"||typeof k=="function")?k:v(S)}function v(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(S){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},E(S)}function O(S,k,H){return k in S?Object.defineProperty(S,k,{value:H,enumerable:!0,configurable:!0,writable:!0}):S[k]=H,S}var M=function(S){return S.hasOwnProperty("key")},P=(function(S){p(H,S);var k=y(H);function H(I){var R;return h(this,H),R=k.call(this,I),O(v(R),"itemsWrapperRef",void 0),O(v(R),"itemsListRef",void 0),O(v(R),"thumbsRef",void 0),O(v(R),"setItemsWrapperRef",function(T){R.itemsWrapperRef=T}),O(v(R),"setItemsListRef",function(T){R.itemsListRef=T}),O(v(R),"setThumbsRef",function(T,D){R.thumbsRef||(R.thumbsRef=[]),R.thumbsRef[D]=T}),O(v(R),"updateSizes",function(){if(!(!R.props.children||!R.itemsWrapperRef||!R.thumbsRef)){var T=e.Children.count(R.props.children),D=R.itemsWrapperRef.clientWidth,C=R.props.thumbWidth?R.props.thumbWidth:(0,n.outerWidth)(R.thumbsRef[0]),Q=Math.floor(D/C),j=Q<T,q=j?T-Q:0;R.setState(function(ue,te){return{itemSize:C,visibleItems:Q,firstItem:j?R.getFirstItem(te.selectedItem):0,lastPosition:q,showArrows:j}})}}),O(v(R),"handleClickItem",function(T,D,C){if(!M(C)||C.key==="Enter"){var Q=R.props.onSelectItem;typeof Q=="function"&&Q(T,D)}}),O(v(R),"onSwipeStart",function(){R.setState({swiping:!0})}),O(v(R),"onSwipeEnd",function(){R.setState({swiping:!1})}),O(v(R),"onSwipeMove",function(T){var D=T.x;if(!R.state.itemSize||!R.itemsWrapperRef||!R.state.visibleItems)return!1;var C=0,Q=e.Children.count(R.props.children),j=-(R.state.firstItem*100)/R.state.visibleItems,q=Math.max(Q-R.state.visibleItems,0),ue=-q*100/R.state.visibleItems;j===C&&D>0&&(D=0),j===ue&&D<0&&(D=0);var te=R.itemsWrapperRef.clientWidth,K=j+100/(te/D);return R.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ge){R.itemsListRef.style[ge]=(0,r.default)(K,"%",R.props.axis)}),!0}),O(v(R),"slideRight",function(T){R.moveTo(R.state.firstItem-(typeof T=="number"?T:1))}),O(v(R),"slideLeft",function(T){R.moveTo(R.state.firstItem+(typeof T=="number"?T:1))}),O(v(R),"moveTo",function(T){T=T<0?0:T,T=T>=R.state.lastPosition?R.state.lastPosition:T,R.setState({firstItem:T})}),R.state={selectedItem:I.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},R}return f(H,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(I){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==I.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,i.default)().addEventListener("resize",this.updateSizes),(0,i.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,i.default)().removeEventListener("resize",this.updateSizes),(0,i.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(I){var R=I;return I>=this.state.lastPosition&&(R=this.state.lastPosition),I<this.state.firstItem+this.state.visibleItems&&(R=this.state.firstItem),I<this.state.firstItem&&(R=I),R}},{key:"renderItems",value:function(){var I=this;return this.props.children.map(function(R,T){var D=t.default.ITEM(!1,T===I.state.selectedItem),C={key:T,ref:function(Q){return I.setThumbsRef(Q,T)},className:D,onClick:I.handleClickItem.bind(I,T,I.props.children[T]),onKeyDown:I.handleClickItem.bind(I,T,I.props.children[T]),"aria-label":"".concat(I.props.labels.item," ").concat(T+1),style:{width:I.props.thumbWidth}};return e.default.createElement("li",c({},C,{role:"button",tabIndex:0}),R)})}},{key:"render",value:function(){var I=this;if(!this.props.children)return null;var R=e.Children.count(this.props.children)>1,T=this.state.showArrows&&this.state.firstItem>0,D=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,C={},Q=-this.state.firstItem*(this.state.itemSize||0),j=(0,r.default)(Q,"px",this.props.axis),q=this.props.transitionTime+"ms";return C={WebkitTransform:j,MozTransform:j,MsTransform:j,OTransform:j,transform:j,msTransform:j,WebkitTransitionDuration:q,MozTransitionDuration:q,MsTransitionDuration:q,OTransitionDuration:q,transitionDuration:q,msTransitionDuration:q},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!T),onClick:function(){return I.slideRight()},"aria-label":this.props.labels.leftArrow}),R?e.default.createElement(o.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:C,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(ue){return I.setItemsListRef(ue)},style:C},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!D),onClick:function(){return I.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),H})(e.Component);return Ko.default=P,O(P,"displayName","Thumbs"),O(P,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Ko}var Jo={},Tu;function um(){if(Tu)return Jo;Tu=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.default=void 0;var e=function(){return document};return Jo.default=e,Jo}var Fn={},Ou;function Pd(){if(Ou)return Fn;Ou=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.setPosition=Fn.getPosition=Fn.isKeyboardEvent=Fn.defaultStatusFormatter=Fn.noop=void 0;var e=St,t=n(ls());function n(s){return s&&s.__esModule?s:{default:s}}var r=function(){};Fn.noop=r;var o=function(s,u){return"".concat(s," of ").concat(u)};Fn.defaultStatusFormatter=o;var i=function(s){return s?s.hasOwnProperty("key"):!1};Fn.isKeyboardEvent=i;var a=function(s,u){if(u.infiniteLoop&&++s,s===0)return 0;var c=e.Children.count(u.children);if(u.centerMode&&u.axis==="horizontal"){var h=-s*u.centerSlidePercentage,g=c-1;return s&&(s!==g||u.infiniteLoop)?h+=(100-u.centerSlidePercentage)/2:s===g&&(h+=100-u.centerSlidePercentage),h}return-s*100};Fn.getPosition=a;var l=function(s,u){var c={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(h){c[h]=(0,t.default)(s,"%",u)}),c};return Fn.setPosition=l,Fn}var Yn={},Du;function cm(){if(Du)return Yn;Du=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.fadeAnimationHandler=Yn.slideStopSwipingHandler=Yn.slideSwipeAnimationHandler=Yn.slideAnimationHandler=void 0;var e=St,t=r(ls()),n=Pd();function r(h){return h&&h.__esModule?h:{default:h}}function o(h,g){var f=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);g&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(h,m).enumerable})),f.push.apply(f,p)}return f}function i(h){for(var g=1;g<arguments.length;g++){var f=arguments[g]!=null?arguments[g]:{};g%2?o(Object(f),!0).forEach(function(p){a(h,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(f)):o(Object(f)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(f,p))})}return h}function a(h,g,f){return g in h?Object.defineProperty(h,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[g]=f,h}var l=function(h,g){var f={},p=g.selectedItem,m=p,y=e.Children.count(h.children)-1,w=h.infiniteLoop&&(p<0||p>y);if(w)return m<0?h.centerMode&&h.centerSlidePercentage&&h.axis==="horizontal"?f.itemListStyle=(0,n.setPosition)(-(y+2)*h.centerSlidePercentage-(100-h.centerSlidePercentage)/2,h.axis):f.itemListStyle=(0,n.setPosition)(-(y+2)*100,h.axis):m>y&&(f.itemListStyle=(0,n.setPosition)(0,h.axis)),f;var v=(0,n.getPosition)(p,h),x=(0,t.default)(v,"%",h.axis),E=h.transitionTime+"ms";return f.itemListStyle={WebkitTransform:x,msTransform:x,OTransform:x,transform:x},g.swiping||(f.itemListStyle=i(i({},f.itemListStyle),{},{WebkitTransitionDuration:E,MozTransitionDuration:E,OTransitionDuration:E,transitionDuration:E,msTransitionDuration:E})),f};Yn.slideAnimationHandler=l;var s=function(h,g,f,p){var m={},y=g.axis==="horizontal",w=e.Children.count(g.children),v=0,x=(0,n.getPosition)(f.selectedItem,g),E=g.infiniteLoop?(0,n.getPosition)(w-1,g)-100:(0,n.getPosition)(w-1,g),O=y?h.x:h.y,M=O;x===v&&O>0&&(M=0),x===E&&O<0&&(M=0);var P=x+100/(f.itemSize/M),S=Math.abs(O)>g.swipeScrollTolerance;return g.infiniteLoop&&S&&(f.selectedItem===0&&P>-100?P-=w*100:f.selectedItem===w-1&&P<-w*100&&(P+=w*100)),(!g.preventMovementUntilSwipeScrollTolerance||S||f.swipeMovementStarted)&&(f.swipeMovementStarted||p({swipeMovementStarted:!0}),m.itemListStyle=(0,n.setPosition)(P,g.axis)),S&&!f.cancelClick&&p({cancelClick:!0}),m};Yn.slideSwipeAnimationHandler=s;var u=function(h,g){var f=(0,n.getPosition)(g.selectedItem,h),p=(0,n.setPosition)(f,h.axis);return{itemListStyle:p}};Yn.slideStopSwipingHandler=u;var c=function(h,g){var f=h.transitionTime+"ms",p="ease-in-out",m={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:p,msTransitionTimingFunction:p,MozTransitionTimingFunction:p,WebkitTransitionTimingFunction:p,OTransitionTimingFunction:p};return g.swiping||(m=i(i({},m),{},{WebkitTransitionDuration:f,MozTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f})),{slideStyle:m,selectedStyle:i(i({},m),{},{opacity:1,position:"relative"}),prevStyle:i({},m)}};return Yn.fadeAnimationHandler=c,Yn}var Pu;function dm(){if(Pu)return Go;Pu=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.default=void 0;var e=c(St),t=s(Id()),n=s(Td()),r=s(Dd()),o=s(um()),i=s(Od()),a=Pd(),l=cm();function s(I){return I&&I.__esModule?I:{default:I}}function u(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return u=function(){return I},I}function c(I){if(I&&I.__esModule)return I;if(I===null||h(I)!=="object"&&typeof I!="function")return{default:I};var R=u();if(R&&R.has(I))return R.get(I);var T={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in I)if(Object.prototype.hasOwnProperty.call(I,C)){var Q=D?Object.getOwnPropertyDescriptor(I,C):null;Q&&(Q.get||Q.set)?Object.defineProperty(T,C,Q):T[C]=I[C]}return T.default=I,R&&R.set(I,T),T}function h(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(R){return typeof R}:h=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},h(I)}function g(){return g=Object.assign||function(I){for(var R=1;R<arguments.length;R++){var T=arguments[R];for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(I[D]=T[D])}return I},g.apply(this,arguments)}function f(I,R){var T=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);R&&(D=D.filter(function(C){return Object.getOwnPropertyDescriptor(I,C).enumerable})),T.push.apply(T,D)}return T}function p(I){for(var R=1;R<arguments.length;R++){var T=arguments[R]!=null?arguments[R]:{};R%2?f(Object(T),!0).forEach(function(D){k(I,D,T[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(T)):f(Object(T)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(T,D))})}return I}function m(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function y(I,R){for(var T=0;T<R.length;T++){var D=R[T];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}function w(I,R,T){return R&&y(I.prototype,R),I}function v(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),R&&x(I,R)}function x(I,R){return x=Object.setPrototypeOf||function(T,D){return T.__proto__=D,T},x(I,R)}function E(I){var R=P();return function(){var T=S(I),D;if(R){var C=S(this).constructor;D=Reflect.construct(T,arguments,C)}else D=T.apply(this,arguments);return O(this,D)}}function O(I,R){return R&&(h(R)==="object"||typeof R=="function")?R:M(I)}function M(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function S(I){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},S(I)}function k(I,R,T){return R in I?Object.defineProperty(I,R,{value:T,enumerable:!0,configurable:!0,writable:!0}):I[R]=T,I}var H=(function(I){v(T,I);var R=E(T);function T(D){var C;m(this,T),C=R.call(this,D),k(M(C),"thumbsRef",void 0),k(M(C),"carouselWrapperRef",void 0),k(M(C),"listRef",void 0),k(M(C),"itemsRef",void 0),k(M(C),"timer",void 0),k(M(C),"animationHandler",void 0),k(M(C),"setThumbsRef",function(j){C.thumbsRef=j}),k(M(C),"setCarouselWrapperRef",function(j){C.carouselWrapperRef=j}),k(M(C),"setListRef",function(j){C.listRef=j}),k(M(C),"setItemsRef",function(j,q){C.itemsRef||(C.itemsRef=[]),C.itemsRef[q]=j}),k(M(C),"autoPlay",function(){e.Children.count(C.props.children)<=1||(C.clearAutoPlay(),C.props.autoPlay&&(C.timer=setTimeout(function(){C.increment()},C.props.interval)))}),k(M(C),"clearAutoPlay",function(){C.timer&&clearTimeout(C.timer)}),k(M(C),"resetAutoPlay",function(){C.clearAutoPlay(),C.autoPlay()}),k(M(C),"stopOnHover",function(){C.setState({isMouseEntered:!0},C.clearAutoPlay)}),k(M(C),"startOnLeave",function(){C.setState({isMouseEntered:!1},C.autoPlay)}),k(M(C),"isFocusWithinTheCarousel",function(){return C.carouselWrapperRef?!!((0,o.default)().activeElement===C.carouselWrapperRef||C.carouselWrapperRef.contains((0,o.default)().activeElement)):!1}),k(M(C),"navigateWithKeyboard",function(j){if(C.isFocusWithinTheCarousel()){var q=C.props.axis,ue=q==="horizontal",te={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},K=ue?te.ArrowRight:te.ArrowDown,ge=ue?te.ArrowLeft:te.ArrowUp;K===j.keyCode?C.increment():ge===j.keyCode&&C.decrement()}}),k(M(C),"updateSizes",function(){if(!(!C.state.initialized||!C.itemsRef||C.itemsRef.length===0)){var j=C.props.axis==="horizontal",q=C.itemsRef[0];if(q){var ue=j?q.clientWidth:q.clientHeight;C.setState({itemSize:ue}),C.thumbsRef&&C.thumbsRef.updateSizes()}}}),k(M(C),"setMountState",function(){C.setState({hasMount:!0}),C.updateSizes()}),k(M(C),"handleClickItem",function(j,q){if(e.Children.count(C.props.children)!==0){if(C.state.cancelClick){C.setState({cancelClick:!1});return}C.props.onClickItem(j,q),j!==C.state.selectedItem&&C.setState({selectedItem:j})}}),k(M(C),"handleOnChange",function(j,q){e.Children.count(C.props.children)<=1||C.props.onChange(j,q)}),k(M(C),"handleClickThumb",function(j,q){C.props.onClickThumb(j,q),C.moveTo(j)}),k(M(C),"onSwipeStart",function(j){C.setState({swiping:!0}),C.props.onSwipeStart(j)}),k(M(C),"onSwipeEnd",function(j){C.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),C.props.onSwipeEnd(j),C.clearAutoPlay(),C.state.autoPlay&&C.autoPlay()}),k(M(C),"onSwipeMove",function(j,q){C.props.onSwipeMove(q);var ue=C.props.swipeAnimationHandler(j,C.props,C.state,C.setState.bind(M(C)));return C.setState(p({},ue)),!!Object.keys(ue).length}),k(M(C),"decrement",function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;C.moveTo(C.state.selectedItem-(typeof j=="number"?j:1))}),k(M(C),"increment",function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;C.moveTo(C.state.selectedItem+(typeof j=="number"?j:1))}),k(M(C),"moveTo",function(j){if(typeof j=="number"){var q=e.Children.count(C.props.children)-1;j<0&&(j=C.props.infiniteLoop?q:0),j>q&&(j=C.props.infiniteLoop?0:q),C.selectItem({selectedItem:j}),C.state.autoPlay&&C.state.isMouseEntered===!1&&C.resetAutoPlay()}}),k(M(C),"onClickNext",function(){C.increment(1)}),k(M(C),"onClickPrev",function(){C.decrement(1)}),k(M(C),"onSwipeForward",function(){C.increment(1),C.props.emulateTouch&&C.setState({cancelClick:!0})}),k(M(C),"onSwipeBackwards",function(){C.decrement(1),C.props.emulateTouch&&C.setState({cancelClick:!0})}),k(M(C),"changeItem",function(j){return function(q){(!(0,a.isKeyboardEvent)(q)||q.key==="Enter")&&C.moveTo(j)}}),k(M(C),"selectItem",function(j){C.setState(p({previousItem:C.state.selectedItem},j),function(){C.setState(C.animationHandler(C.props,C.state))}),C.handleOnChange(j.selectedItem,e.Children.toArray(C.props.children)[j.selectedItem])}),k(M(C),"getInitialImage",function(){var j=C.props.selectedItem,q=C.itemsRef&&C.itemsRef[j],ue=q&&q.getElementsByTagName("img")||[];return ue[0]}),k(M(C),"getVariableItemHeight",function(j){var q=C.itemsRef&&C.itemsRef[j];if(C.state.hasMount&&q&&q.children.length){var ue=q.children[0].getElementsByTagName("img")||[];if(ue.length>0){var te=ue[0];if(!te.complete){var K=function fe(){C.forceUpdate(),te.removeEventListener("load",fe)};te.addEventListener("load",K)}}var ge=ue[0]||q.children[0],ae=ge.clientHeight;return ae>0?ae:null}return null});var Q={initialized:!1,previousItem:D.selectedItem,selectedItem:D.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:D.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return C.animationHandler=typeof D.animationHandler=="function"&&D.animationHandler||D.animationHandler==="fade"&&l.fadeAnimationHandler||l.slideAnimationHandler,C.state=p(p({},Q),C.animationHandler(D,Q)),C}return w(T,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(D,C){!D.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!D.autoFocus&&this.props.autoFocus&&this.forceFocus(),C.swiping&&!this.state.swiping&&this.setState(p({},this.props.stopSwipingHandler(this.props,this.state))),(D.selectedItem!==this.props.selectedItem||D.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),D.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var D=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var C=D.getInitialImage();C&&!C.complete?C.addEventListener("load",D.setMountState):D.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var D=this.carouselWrapperRef;this.props.stopOnHover&&D&&(D.addEventListener("mouseenter",this.stopOnHover),D.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var D=this.carouselWrapperRef;this.props.stopOnHover&&D&&(D.removeEventListener("mouseenter",this.stopOnHover),D.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,i.default)().addEventListener("resize",this.updateSizes),(0,i.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,o.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,i.default)().removeEventListener("resize",this.updateSizes),(0,i.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var D=this.getInitialImage();D&&D.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,o.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var D;(D=this.carouselWrapperRef)===null||D===void 0||D.focus()}},{key:"renderItems",value:function(D){var C=this;return this.props.children?e.Children.map(this.props.children,function(Q,j){var q=j===C.state.selectedItem,ue=j===C.state.previousItem,te=q&&C.state.selectedStyle||ue&&C.state.prevStyle||C.state.slideStyle||{};C.props.centerMode&&C.props.axis==="horizontal"&&(te=p(p({},te),{},{minWidth:C.props.centerSlidePercentage+"%"})),C.state.swiping&&C.state.swipeMovementStarted&&(te=p(p({},te),{},{pointerEvents:"none"}));var K={ref:function(ge){return C.setItemsRef(ge,j)},key:"itemKey"+j+(D?"clone":""),className:n.default.ITEM(!0,j===C.state.selectedItem,j===C.state.previousItem),onClick:C.handleClickItem.bind(C,j,Q),style:te};return e.default.createElement("li",K,C.props.renderItem(Q,{isSelected:j===C.state.selectedItem,isPrevious:j===C.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var D=this,C=this.props,Q=C.showIndicators,j=C.labels,q=C.renderIndicator,ue=C.children;return Q?e.default.createElement("ul",{className:"control-dots"},e.Children.map(ue,function(te,K){return q&&q(D.changeItem(K),K===D.state.selectedItem,K,j.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var D=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var C=this.props.swipeable&&e.Children.count(this.props.children)>1,Q=this.props.axis==="horizontal",j=this.props.showArrows&&e.Children.count(this.props.children)>1,q=j&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,ue=j&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,te=this.renderItems(!0),K=te.shift(),ge=te.pop(),ae={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},fe={};if(Q){if(ae.onSwipeLeft=this.onSwipeForward,ae.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var he=this.getVariableItemHeight(this.state.selectedItem);fe.height=he||"auto"}}else ae.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ae.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ae.style=p(p({},ae.style),{},{height:this.state.itemSize}),fe.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,q,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:fe},C?e.default.createElement(t.default,g({tagName:"ul",innerRef:this.setListRef},ae,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ge,this.renderItems(),this.props.infiniteLoop&&K):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(oe){return D.setListRef(oe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ge,this.renderItems(),this.props.infiniteLoop&&K)),this.props.renderArrowNext(this.onClickNext,ue,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),T})(e.default.Component);return Go.default=H,k(H,"displayName","Carousel"),k(H,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:a.noop,onClickThumb:a.noop,onChange:a.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(I,R,T){return e.default.createElement("button",{type:"button","aria-label":T,className:n.default.ARROW_PREV(!R),onClick:I})},renderArrowNext:function(I,R,T){return e.default.createElement("button",{type:"button","aria-label":T,className:n.default.ARROW_NEXT(!R),onClick:I})},renderIndicator:function(I,R,T,D){return e.default.createElement("li",{className:n.default.DOT(R),onClick:I,onKeyDown:I,value:T,key:T,role:"button",tabIndex:0,"aria-label":"".concat(D," ").concat(T+1)})},renderItem:function(I){return I},renderThumbs:function(I){var R=e.Children.map(I,function(T){var D=T;if(T.type!=="img"&&(D=e.Children.toArray(T.props.children).find(function(C){return C.type==="img"})),!!D)return D});return R.filter(function(T){return T}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):R},statusFormatter:a.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:l.slideSwipeAnimationHandler,stopSwipingHandler:l.slideStopSwipingHandler}),Go}var hm={};function fm(){return hm}var Hu;function pm(){return Hu||(Hu=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return r.default}});var t=o(dm()),n=fm(),r=o(Dd());function o(i){return i&&i.__esModule?i:{default:i}}})(xu)),xu}var gm=pm(),cl,Au;function mm(){if(Au)return cl;Au=1;var e=ig(),t=function(){return e.Date.now()};return cl=t,cl}var dl,Fu;function Hd(){if(Fu)return dl;Fu=1;var e=md(),t=mm(),n=bd(),r="Expected a function",o=Math.max,i=Math.min;function a(l,s,u){var c,h,g,f,p,m,y=0,w=!1,v=!1,x=!0;if(typeof l!="function")throw new TypeError(r);s=n(s)||0,e(u)&&(w=!!u.leading,v="maxWait"in u,g=v?o(n(u.maxWait)||0,s):g,x="trailing"in u?!!u.trailing:x);function E(T){var D=c,C=h;return c=h=void 0,y=T,f=l.apply(C,D),f}function O(T){return y=T,p=setTimeout(S,s),w?E(T):f}function M(T){var D=T-m,C=T-y,Q=s-D;return v?i(Q,g-C):Q}function P(T){var D=T-m,C=T-y;return m===void 0||D>=s||D<0||v&&C>=g}function S(){var T=t();if(P(T))return k(T);p=setTimeout(S,M(T))}function k(T){return p=void 0,x&&c?E(T):(c=h=void 0,f)}function H(){p!==void 0&&clearTimeout(p),y=0,c=m=h=p=void 0}function I(){return p===void 0?f:k(t())}function R(){var T=t(),D=P(T);if(c=arguments,h=this,m=T,D){if(p===void 0)return O(m);if(v)return clearTimeout(p),p=setTimeout(S,s),E(m)}return p===void 0&&(p=setTimeout(S,s)),f}return R.cancel=H,R.flush=I,R}return dl=a,dl}var vm=Hd();const Ad=vr(vm);function xn(e,t,n,r,o=!1){const i=d.useRef();i.current=t,d.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const a=n,l=s=>{i.current?.call(a,s)};return a.addEventListener(e,l,{passive:r,capture:o}),()=>{a.removeEventListener(e,l,{capture:o})}},[e,n,r,o])}function Rr(e,t){return e===void 0?void 0:t}const bm=Math.PI;function Lu(e){return e*bm/180}const Fd=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Ld=(e,t,n,r,o)=>{switch(e){case"left":return Math.floor(t)+r+o/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-o/2}},zd=(e,t,n)=>Math.min(e,t-n*2),$d=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,ss=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),d.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},wm=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function ym(e,t,n){const[r,o]=d.useState(e),i=d.useRef(!0);d.useEffect(()=>()=>{i.current=!1},[]);const a=d.useRef(Ad(l=>{i.current&&o(l)},n));return d.useLayoutEffect(()=>{i.current&&a.current(()=>e())},t),r}const xm="---",km="A-Za-z--------",Cm=new RegExp("^[^"+km+"]*["+xm+"]");function us(e){return Cm.test(e)?"rtl":"not-rtl"}let Yi;function Nl(){if(typeof document>"u")return 0;if(Yi!==void 0)return Yi;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),Yi=n-r,Yi}const Br=Symbol();function Sm(e){const t=d.useRef([Br,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=d.useState(e),[,o]=d.useState(),i=d.useCallback(l=>{const s=t.current[0];s!==Br&&(l=typeof l=="function"?l(s):l,l===s)||(s!==Br&&o({}),r(u=>typeof l=="function"?l(s===Br?u:s):l),t.current[0]=Br)},[]),a=d.useCallback(()=>{t.current[0]=Br,o({})},[]);return[t.current[0]===Br?n:t.current[0],i,a]}function Nd(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function Mm(e){const t=d.useRef(e);return Oo(e,t.current)||(t.current=e),t.current}const Rm=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:o}=e,i=t.filter(l=>l!=="");if(i.length===0)return null;const a=i.length>1;return d.createElement(am,{"data-testid":"GDG-default-image-overlay-editor"},d.createElement(gm.Carousel,{showArrows:a,showThumbs:!1,swipeable:a,emulateTouch:a,infiniteLoop:a},i.map(l=>{const s=o?.(l)??d.createElement("img",{draggable:!1,src:l});return d.createElement("div",{className:"gdg-centering-container",key:l},s)})),n&&r&&d.createElement("button",{className:"gdg-edit-icon",onClick:r},d.createElement(ss,null)))};function cs(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Qr=cs();function Vd(e){Qr=e}const _d=/[&<>"']/,Em=new RegExp(_d.source,"g"),Wd=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Im=new RegExp(Wd.source,"g"),Tm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zu=e=>Tm[e];function Ln(e,t){if(t){if(_d.test(e))return e.replace(Em,zu)}else if(Wd.test(e))return e.replace(Im,zu);return e}const Om=/(^|[^\[])\^/g;function Pt(e,t){let n=typeof e=="string"?e:e.source;t=t||"";const r={replace:(o,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(Om,"$1"),n=n.replace(o,a),r},getRegex:()=>new RegExp(n,t)};return r}function $u(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const di={exec:()=>null};function Nu(e,t){const n=e.replace(/\|/g,(i,a,l)=>{let s=!1,u=a;for(;--u>=0&&l[u]==="\\";)s=!s;return s?"|":" |"}),r=n.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function ei(e,t,n){const r=e.length;if(r===0)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function Dm(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function Vu(e,t,n,r){const o=t.href,i=t.title?Ln(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:o,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:o,title:i,text:Ln(a)}}function Pm(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(o=>{const i=o.match(/^\s+/);if(i===null)return o;const[a]=i;return a.length>=r.length?o.slice(r.length):o}).join(`
`)}class ma{options;rules;lexer;constructor(t){this.options=t||Qr}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ei(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],o=Pm(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:o}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=ei(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:ei(n[0],`
`)}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){let r=ei(n[0],`
`).split(`
`),o="",i="";const a=[];for(;r.length>0;){let l=!1;const s=[];let u;for(u=0;u<r.length;u++)if(/^ {0,3}>/.test(r[u]))s.push(r[u]),l=!0;else if(!l)s.push(r[u]);else break;r=r.slice(u);const c=s.join(`
`),h=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");o=o?`${o}
${c}`:c,i=i?`${i}
${h}`:h;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=g,r.length===0)break;const f=a[a.length-1];if(f?.type==="code")break;if(f?.type==="blockquote"){const p=f,m=p.raw+`
`+r.join(`
`),y=this.blockquote(m);a[a.length-1]=y,o=o.substring(0,o.length-p.raw.length)+y.raw,i=i.substring(0,i.length-p.text.length)+y.text;break}else if(f?.type==="list"){const p=f,m=p.raw+`
`+r.join(`
`),y=this.list(m);a[a.length-1]=y,o=o.substring(0,o.length-f.raw.length)+y.raw,i=i.substring(0,i.length-p.raw.length)+y.raw,r=m.substring(a[a.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:a,text:i}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim();const o=r.length>1,i={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");const a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;t;){let s=!1,u="",c="";if(!(n=a.exec(t))||this.rules.block.hr.test(t))break;u=n[0],t=t.substring(u.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),g=t.split(`
`,1)[0],f=!h.trim(),p=0;if(this.options.pedantic?(p=2,c=h.trimStart()):f?p=n[1].length+1:(p=n[2].search(/[^ ]/),p=p>4?1:p,c=h.slice(p),p+=n[1].length),f&&/^ *$/.test(g)&&(u+=g+`
`,t=t.substring(g.length+1),s=!0),!s){const w=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;t;){const O=t.split(`
`,1)[0];if(g=O,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),x.test(g)||E.test(g)||w.test(g)||v.test(t))break;if(g.search(/[^ ]/)>=p||!g.trim())c+=`
`+g.slice(p);else{if(f||h.search(/[^ ]/)>=4||x.test(h)||E.test(h)||v.test(h))break;c+=`
`+g}!f&&!g.trim()&&(f=!0),u+=O+`
`,t=t.substring(O.length+1),h=g.slice(p)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(u)&&(l=!0));let m=null,y;this.options.gfm&&(m=/^\[[ xX]\] /.exec(c),m&&(y=m[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!m,checked:y,loose:!1,text:c,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let s=0;s<i.items.length;s++)if(this.lexer.state.top=!1,i.items[s].tokens=this.lexer.blockTokens(i.items[s].text,[]),!i.loose){const u=i.items[s].tokens.filter(h=>h.type==="space"),c=u.length>0&&u.some(h=>/\n.*\n/.test(h.raw));i.loose=c}if(i.loose)for(let s=0;s<i.items.length;s++)i.items[s].loose=!0;return i}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:i}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;const r=Nu(n[1]),o=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===o.length){for(const l of o)/^ *-+: *$/.test(l)?a.align.push("right"):/^ *:-+: *$/.test(l)?a.align.push("center"):/^ *:-+ *$/.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<r.length;l++)a.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:a.align[l]});for(const l of i)a.rows.push(Nu(l,a.header.length).map((s,u)=>({text:s,tokens:this.lexer.inline(s),header:!1,align:a.align[u]})));return a}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:Ln(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=ei(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=Dm(n[2],"()");if(a>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let o=n[2],i="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);a&&(o=a[1],i=a[3])}else i=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),Vu(n,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const o=(r[2]||r[1]).replace(/\s+/g," "),i=n[o.toLowerCase()];if(!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return Vu(r,i,r[0],this.lexer)}}emStrong(t,n,r=""){let o=this.rules.inline.emStrongLDelim.exec(t);if(!(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(o[1]||o[2])||!r||this.rules.inline.punctuation.exec(r))){const i=[...o[0]].length-1;let a,l,s=i,u=0;const c=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,n=n.slice(-1*t.length+i);(o=c.exec(n))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){s+=l;continue}else if((o[5]||o[6])&&i%3&&!((i+l)%3)){u+=l;continue}if(s-=l,s>0)continue;l=Math.min(l,l+s+u);const h=[...o[0]][0].length,g=t.slice(0,i+o.index+h+l);if(Math.min(i,l)%2){const p=g.slice(1,-1);return{type:"em",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}const f=g.slice(2,-2);return{type:"strong",raw:g,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Ln(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let r,o;return n[2]==="@"?(r=Ln(n[1]),o="mailto:"+r):(r=Ln(n[1]),o=r),{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let n;if(n=this.rules.inline.url.exec(t)){let r,o;if(n[2]==="@")r=Ln(n[0]),o="mailto:"+r;else{let i;do i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(i!==n[0]);r=Ln(n[0]),n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Ln(n[0]),{type:"text",raw:n[0],text:r}}}}const Hm=/^(?: *(?:\n|$))+/,Am=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Fm=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Si=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Lm=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,jd=/(?:[*+-]|\d{1,9}[.)])/,Bd=Pt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,jd).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ds=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,zm=/^[^\n]+/,hs=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$m=Pt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",hs).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Nm=Pt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,jd).getRegex(),Ha="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fs=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Vm=Pt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",fs).replace("tag",Ha).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ud=Pt(ds).replace("hr",Si).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ha).getRegex(),_m=Pt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ud).getRegex(),ps={blockquote:_m,code:Am,def:$m,fences:Fm,heading:Lm,hr:Si,html:Vm,lheading:Bd,list:Nm,newline:Hm,paragraph:Ud,table:di,text:zm},_u=Pt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Si).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ha).getRegex(),Wm={...ps,table:_u,paragraph:Pt(ds).replace("hr",Si).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",_u).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ha).getRegex()},jm={...ps,html:Pt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fs).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:di,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Pt(ds).replace("hr",Si).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Bd).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Xd=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Bm=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Gd=/^( {2,}|\\)\n(?!\s*$)/,Um=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Mi="\\p{P}\\p{S}",Xm=Pt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Mi).getRegex(),Gm=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Ym=Pt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Mi).getRegex(),Km=Pt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Mi).getRegex(),qm=Pt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Mi).getRegex(),Zm=Pt(/\\([punct])/,"gu").replace(/punct/g,Mi).getRegex(),Qm=Pt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Jm=Pt(fs).replace("(?:-->|$)","-->").getRegex(),e0=Pt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Jm).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),va=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,t0=Pt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",va).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Yd=Pt(/^!?\[(label)\]\[(ref)\]/).replace("label",va).replace("ref",hs).getRegex(),Kd=Pt(/^!?\[(ref)\](?:\[\])?/).replace("ref",hs).getRegex(),n0=Pt("reflink|nolink(?!\\()","g").replace("reflink",Yd).replace("nolink",Kd).getRegex(),gs={_backpedal:di,anyPunctuation:Zm,autolink:Qm,blockSkip:Gm,br:Gd,code:Bm,del:di,emStrongLDelim:Ym,emStrongRDelimAst:Km,emStrongRDelimUnd:qm,escape:Xd,link:t0,nolink:Kd,punctuation:Xm,reflink:Yd,reflinkSearch:n0,tag:e0,text:Um,url:di},r0={...gs,link:Pt(/^!?\[(label)\]\((.*?)\)/).replace("label",va).getRegex(),reflink:Pt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",va).getRegex()},Vl={...gs,escape:Pt(Xd).replace("])","~|])").getRegex(),url:Pt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},o0={...Vl,br:Pt(Gd).replace("{2,}","*").getRegex(),text:Pt(Vl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ki={normal:ps,gfm:Wm,pedantic:jm},ti={normal:gs,gfm:Vl,breaks:o0,pedantic:r0};class lr{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Qr,this.options.tokenizer=this.options.tokenizer||new ma,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Ki.normal,inline:ti.normal};this.options.pedantic?(n.block=Ki.pedantic,n.inline=ti.pedantic):this.options.gfm&&(n.block=Ki.gfm,this.options.breaks?n.inline=ti.breaks:n.inline=ti.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ki,inline:ti}}static lex(t,n){return new lr(n).lex(t)}static lexInline(t,n){return new lr(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,s,u)=>s+"    ".repeat(u.length));let o,i,a;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(o=l.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(a=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const s=t.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},s),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(a=t.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(a))){i=n[n.length-1],r&&i?.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o),r=a.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,o,i,a=t,l,s,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)c.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(s||(u=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,a,u)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),n.push(r);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const h=t.slice(1);let g;this.options.extensions.startInline.forEach(f=>{g=f.call({lexer:this},h),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(i=t.substring(0,c+1))}if(r=this.tokenizer.inlineText(i)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),s=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class ba{options;parser;constructor(t){this.options=t||Qr}space(t){return""}code({text:t,lang:n,escaped:r}){const o=(n||"").match(/^\S*/)?.[0],i=t.replace(/\n$/,"")+`
`;return o?'<pre><code class="language-'+Ln(o)+'">'+(r?i:Ln(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Ln(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){const n=t.ordered,r=t.start;let o="";for(let l=0;l<t.items.length;l++){const s=t.items[l];o+=this.listitem(s)}const i=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+o+"</"+i+`>
`}listitem(t){let n="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):n+=r+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",r="";for(let i=0;i<t.header.length;i++)r+=this.tablecell(t.header[i]);n+=this.tablerow({text:r});let o="";for(let i=0;i<t.rows.length;i++){const a=t.rows[i];r="";for(let l=0;l<a.length;l++)r+=this.tablecell(a[l]);o+=this.tablerow({text:r})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+o+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const n=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:r}){const o=this.parser.parseInline(r),i=$u(t);if(i===null)return o;t=i;let a='<a href="'+t+'"';return n&&(a+=' title="'+n+'"'),a+=">"+o+"</a>",a}image({href:t,title:n,text:r}){const o=$u(t);if(o===null)return r;t=o;let i=`<img src="${t}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class ms{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class sr{options;renderer;textRenderer;constructor(t){this.options=t||Qr,this.options.renderer=this.options.renderer||new ba,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ms}static parse(t,n){return new sr(n).parse(t)}static parseInline(t,n){return new sr(n).parseInline(t)}parse(t,n=!0){let r="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const l=i,s=this.options.extensions.renderers[l.type].call({parser:this},l);if(s!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=s||"";continue}}const a=i;switch(a.type){case"space":{r+=this.renderer.space(a);continue}case"hr":{r+=this.renderer.hr(a);continue}case"heading":{r+=this.renderer.heading(a);continue}case"code":{r+=this.renderer.code(a);continue}case"table":{r+=this.renderer.table(a);continue}case"blockquote":{r+=this.renderer.blockquote(a);continue}case"list":{r+=this.renderer.list(a);continue}case"html":{r+=this.renderer.html(a);continue}case"paragraph":{r+=this.renderer.paragraph(a);continue}case"text":{let l=a,s=this.renderer.text(l);for(;o+1<t.length&&t[o+1].type==="text";)l=t[++o],s+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s}]}):r+=s;continue}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(t,n){n=n||this.renderer;let r="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=l||"";continue}}const a=i;switch(a.type){case"escape":{r+=n.text(a);break}case"html":{r+=n.html(a);break}case"link":{r+=n.link(a);break}case"image":{r+=n.image(a);break}case"strong":{r+=n.strong(a);break}case"em":{r+=n.em(a);break}case"codespan":{r+=n.codespan(a);break}case"br":{r+=n.br(a);break}case"del":{r+=n.del(a);break}case"text":{r+=n.text(a);break}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}}class la{options;constructor(t){this.options=t||Qr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}class i0{defaults=cs();options=this.setOptions;parse=this.parseMarkdown(lr.lex,sr.parse);parseInline=this.parseMarkdown(lr.lexInline,sr.parseInline);Parser=sr;Renderer=ba;TextRenderer=ms;Lexer=lr;Tokenizer=ma;Hooks=la;constructor(...t){this.use(...t)}walkTokens(t,n){let r=[];for(const o of t)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const i=o;for(const a of i.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of i.rows)for(const l of a)r=r.concat(this.walkTokens(l.tokens,n));break}case"list":{const i=o;r=r.concat(this.walkTokens(i.items,n));break}default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{const l=i[a].flat(1/0);r=r.concat(this.walkTokens(l,n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}}return r}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const o={...r};if(o.async=this.defaults.async||o.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const a=n.renderers[i.name];a?n.renderers[i.name]=function(...l){let s=i.renderer.apply(this,l);return s===!1&&(s=a.apply(this,l)),s}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[i.level];a?a.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),o.extensions=n),r.renderer){const i=this.defaults.renderer||new ba(this.defaults);for(const a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const l=a,s=r.renderer[l],u=i[l];i[l]=(...c)=>{let h=s.apply(i,c);return h===!1&&(h=u.apply(i,c)),h||""}}o.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new ma(this.defaults);for(const a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const l=a,s=r.tokenizer[l],u=i[l];i[l]=(...c)=>{let h=s.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}o.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new la;for(const a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const l=a,s=r.hooks[l],u=i[l];la.passThroughHooks.has(a)?i[l]=c=>{if(this.defaults.async)return Promise.resolve(s.call(i,c)).then(g=>u.call(i,g));const h=s.call(i,c);return u.call(i,h)}:i[l]=(...c)=>{let h=s.apply(i,c);return h===!1&&(h=u.apply(i,c)),h}}o.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,a=r.walkTokens;o.walkTokens=function(l){let s=[];return s.push(a.call(this,l)),i&&(s=s.concat(i.call(this,l))),s}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return lr.lex(t,n??this.defaults)}parser(t,n){return sr.parse(t,n??this.defaults)}parseMarkdown(t,n){return(r,o)=>{const i={...o},a={...this.defaults,...i},l=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(s=>t(s,a)).then(s=>a.hooks?a.hooks.processAllTokens(s):s).then(s=>a.walkTokens?Promise.all(this.walkTokens(s,a.walkTokens)).then(()=>s):s).then(s=>n(s,a)).then(s=>a.hooks?a.hooks.postprocess(s):s).catch(l);try{a.hooks&&(r=a.hooks.preprocess(r));let s=t(r,a);a.hooks&&(s=a.hooks.processAllTokens(s)),a.walkTokens&&this.walkTokens(s,a.walkTokens);let u=n(s,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(s){return l(s)}}}onError(t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const o="<p>An error occurred:</p><pre>"+Ln(r.message+"",!0)+"</pre>";return n?Promise.resolve(o):o}if(n)return Promise.reject(r);throw r}}}const Kr=new i0;function It(e,t){return Kr.parse(e,t)}It.options=It.setOptions=function(e){return Kr.setOptions(e),It.defaults=Kr.defaults,Vd(It.defaults),It};It.getDefaults=cs;It.defaults=Qr;It.use=function(...e){return Kr.use(...e),It.defaults=Kr.defaults,Vd(It.defaults),It};It.walkTokens=function(e,t){return Kr.walkTokens(e,t)};It.parseInline=Kr.parseInline;It.Parser=sr;It.parser=sr.parse;It.Renderer=ba;It.TextRenderer=ms;It.Lexer=lr;It.lexer=lr.lex;It.Tokenizer=ma;It.Hooks=la;It.parse=It;It.options;It.setOptions;It.use;It.walkTokens;It.parseInline;sr.parse;lr.lex;const a0=cn("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class l0 extends St.PureComponent{targetElement=null;renderMarkdownIntoDiv(){const{targetElement:t,props:n}=this;if(t===null)return;const{contents:r,createNode:o}=n,i=It(r),a=document.createRange();a.selectNodeContents(t),a.deleteContents();let l=o?.(i);if(l===void 0){const u=document.createElement("template");u.innerHTML=i,l=u.content}t.append(l);const s=t.getElementsByTagName("a");for(const u of s)u.target="_blank",u.rel="noreferrer noopener"}containerRefHook=t=>{this.targetElement=t,this.renderMarkdownIntoDiv()};render(){return this.renderMarkdownIntoDiv(),St.createElement(a0,{ref:this.containerRefHook})}}const s0=cn("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),u0=cn("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),c0=cn("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let Wu=0;const Jr=e=>{const{placeholder:t,value:n,onKeyDown:r,highlight:o,altNewline:i,validatedSelection:a,...l}=e,{onChange:s,className:u}=l,c=d.useRef(null),h=n??"";zn(s!==void 0,"GrowingEntry must be a controlled input area");const[g]=d.useState(()=>"input-box-"+(Wu=(Wu+1)%1e7));d.useEffect(()=>{const p=c.current;if(p===null||p.disabled)return;const m=h.toString().length;p.focus(),p.setSelectionRange(o?0:m,m)},[]),d.useLayoutEffect(()=>{if(a!==void 0){const p=typeof a=="number"?[a,null]:a;c.current?.setSelectionRange(p[0],p[1])}},[a]);const f=d.useCallback(p=>{p.key==="Enter"&&p.shiftKey&&i===!0||r?.(p)},[i,r]);return d.createElement(c0,{className:"gdg-growing-entry"},d.createElement(u0,{className:u},h+`
`),d.createElement(s0,{...l,className:(u??"")+" gdg-input",id:g,ref:c,onKeyDown:f,value:h,placeholder:t,dir:"auto"}))},hl={};let Sr=null;function d0(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function vi(e){const t=e.toLowerCase().trim();if(hl[t]!==void 0)return hl[t];Sr=Sr||d0(),Sr.style.color="#000",Sr.style.color=t;const n=getComputedStyle(Sr).color;Sr.style.color="#fff",Sr.style.color=t;const r=getComputedStyle(Sr).color;if(r!==n)return[0,0,0,1];let o=r.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return o.length<4&&o.push(1),o=o.map(i=>Number.isNaN(i)?0:i),hl[t]=o,o}function qr(e,t){const[n,r,o]=vi(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const ju=new Map;function Bu(e,t){const n=`${e}-${t}`,r=ju.get(n);if(r!==void 0)return r;const o=$n(e,t);return ju.set(n,o),o}function $n(e,t){if(t===void 0)return e;const[n,r,o,i]=vi(e);if(i===1)return e;const[a,l,s,u]=vi(t),c=i+u*(1-i),h=(i*n+u*a*(1-i))/c,g=(i*r+u*l*(1-i))/c,f=(i*o+u*s*(1-i))/c;return`rgba(${h}, ${g}, ${f}, ${c})`}function _l(e){if(e==="transparent")return 0;function t(i){const a=i/255;return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}const[n,r,o]=vi(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}var So=new Map,Ro=new Map,Wl=new Map;function h0(){So.clear(),Wl.clear(),Ro.clear()}function f0(e,t,n,r,o){var i,a,l;let s=0,u={};for(let h of e)s+=(i=n.get(h))!=null?i:o,u[h]=((a=u[h])!=null?a:0)+1;let c=t-s;for(let h of Object.keys(u)){let g=u[h],f=(l=n.get(h))!=null?l:o,p=f*g/s,m=c*p*r/g,y=f+m;n.set(h,y)}}function p0(e,t){var n;let r=new Map,o=0;for(let u of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let c=e.measureText(u).width;r.set(u,c),o+=c}let i=o/r.size,a=3,l=(t/i+a)/(a+1),s=r.keys();for(let u of s)r.set(u,((n=r.get(u))!=null?n:i)*l);return r}function hi(e,t,n,r){var o,i;let a=Ro.get(n);if(r&&a!==void 0&&a.count>2e4){let u=Wl.get(n);if(u===void 0&&(u=p0(e,a.size),Wl.set(n,u)),a.count>5e5){let h=0;for(let g of t)h+=(o=u.get(g))!=null?o:a.size;return h*1.01}let c=e.measureText(t);return f0(t,c.width,u,Math.max(.05,1-a.count/2e5),a.size),Ro.set(n,{count:a.count+t.length,size:a.size}),c.width}let l=e.measureText(t),s=l.width/t.length;if(((i=a?.count)!=null?i:0)>2e4)return l.width;if(a===void 0)Ro.set(n,{count:t.length,size:s});else{let u=s-a.size,c=t.length/(a.count+t.length),h=a.size+u*c;Ro.set(n,{count:a.count+t.length,size:h})}return l.width}function g0(e,t,n,r,o,i,a,l){if(t.length<=1)return t.length;if(o<n)return-1;let s=Math.floor(n/o*i),u=hi(e,t.slice(0,Math.max(0,s)),r,a);if(u!==n)if(u<n){for(;u<n;)s++,u=hi(e,t.slice(0,Math.max(0,s)),r,a);s--}else for(;u>n;){let c=t.lastIndexOf(" ",s-1);c>0?s=c:s--,u=hi(e,t.slice(0,Math.max(0,s)),r,a)}if(t[s]!==" "){let c=0;c=t.lastIndexOf(" ",s),c>0&&(s=c)}return s}function m0(e,t,n,r,o,i){let a=`${t}_${n}_${r}px`,l=So.get(a);if(l!==void 0)return l;if(r<=0)return[];let s=[],u=t.split(`
`),c=Ro.get(n),h=c===void 0?t.length:r/c.size*1.5,g=o&&c!==void 0&&c.count>2e4;for(let f of u){let p=hi(e,f.slice(0,Math.max(0,h)),n,g),m=Math.min(f.length,h);if(p<=r)s.push(f);else{for(;p>r;){let y=g0(e,f,r,n,p,m,g),w=f.slice(0,Math.max(0,y));f=f.slice(w.length),s.push(w),p=hi(e,f.slice(0,Math.max(0,h)),n,g),m=Math.min(f.length,h)}p>0&&s.push(f)}}return s=s.map((f,p)=>p===0?f.trimEnd():f.trim()),So.set(a,s),So.size>500&&So.delete(So.keys().next().value),s}function v0(e,t){return St.useMemo(()=>e.map((n,r)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:r,sticky:r<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled})),[e,t])}function b0(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if(fi(e.current.cell,t))return!0;const o=[e.current.range,...e.current.rangeStack];for(const i of o)if(n>=i.x&&n<i.x+i.width&&r>=i.y&&r<i.y+i.height)return!0}return!1}function bi(e,t){return(e??"")===(t??"")}function w0(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function qd(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function fi(e,t){return e?.[0]===t?.[0]&&e?.[1]===t?.[1]}function Zd(e){return[e.x+e.width-1,e.y+e.height-1]}function Uu(e,t,n){const r=n.x,o=n.x+n.width-1,i=n.y,a=n.y+n.height-1,[l,s]=e;if(s<i||s>a)return!1;if(t.span===void 0)return l>=r&&l<=o;const[u,c]=t.span;return u>=r&&u<=o||c>=r&&u<=o||u<r&&c>o}function y0(e,t,n,r){let o=0;if(n.current===void 0)return o;const i=n.current.range;(r||i.height*i.width>1)&&Uu(e,t,i)&&o++;for(const a of n.current.rangeStack)Uu(e,t,a)&&o++;return o}function Qd(e,t){let n=e;if(t!==void 0){let r=[...e];const o=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,o)):(r.splice(t.dest+1,0,o),r.splice(t.src,1)),r=r.map((i,a)=>({...i,sticky:e[a].sticky})),n=r}return n}function Do(e,t){let n=0;const r=Qd(e,t);for(let o=0;o<r.length;o++){const i=r[o];if(i.sticky)n+=i.width;else break}return n}function eo(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let o=e-t;o<e;o++)r+=n(o);return r}}function jl(e,t,n,r,o){const i=Qd(e,r),a=[];for(const u of i)if(u.sticky)a.push(u);else break;if(a.length>0)for(const u of a)n-=u.width;let l=t,s=o??0;for(;s<=n&&l<i.length;)s+=i[l].width,l++;for(let u=t;u<l;u++){const c=i[u];c.sticky||a.push(c)}return a}function x0(e,t,n){let r=0;for(const o of t){const i=o.sticky?r:r+(n??0);if(e<=i+o.width)return o.sourceIndex;r+=o.width}return-1}function k0(e,t,n,r,o,i,a,l,s,u){const c=r+o;if(n&&e<=o)return-2;if(e<=c)return-1;let h=t;for(let p=0;p<u;p++){const m=i-1-p,y=typeof a=="number"?a:a(m);if(h-=y,e>=h)return m}const g=i-u,f=e-(s??0);if(typeof a=="number"){const p=Math.floor((f-c)/a)+l;return p>=g?void 0:p}else{let p=c;for(let m=l;m<g;m++){const y=a(m);if(f<=p+y)return m;p+=y}return}}let sa=0,pi={};const C0=typeof window>"u";async function S0(){C0||document?.fonts?.ready===void 0||(await document.fonts.ready,sa=0,pi={},h0())}S0();function Jd(e,t,n,r){return`${e}_${r??t?.font}_${n}`}function Dr(e,t,n,r="middle"){const o=Jd(e,t,r,n);let i=pi[o];return i===void 0&&(i=t.measureText(e),pi[o]=i,sa++),sa>1e4&&(pi={},sa=0),i}function eh(e,t){const n=Jd(e,void 0,"middle",t);return pi[n]}function er(e,t){return typeof t!="string"&&(t=t.baseFontFull),M0(e,t)}function Xu(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const Gu=[];function M0(e,t){for(const o of Gu)if(o.key===t)return o.val;const n=Xu(e,"alphabetic"),r=-(Xu(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return Gu.push({key:t,val:r}),r}function R0(e,t,n,r,o,i){const{ctx:a,rect:l,theme:s}=e;let u=Number.MAX_SAFE_INTEGER;const c=500;if(t!==void 0&&(u=n-t,u<c)){const h=1-u/c;a.globalAlpha=h,a.fillStyle=s.bgSearchResult,a.fillRect(l.x+1,l.y+1,l.width-(o?2:1),l.height-(i?2:1)),a.globalAlpha=1,r!==void 0&&(r.fillStyle=s.bgSearchResult)}return u<c}function Ri(e,t,n){const{ctx:r,theme:o}=e,i=t??{},a=n??o.textDark;return a!==i.fillStyle&&(r.fillStyle=a,i.fillStyle=a),i}function vs(e,t,n,r,o){const{rect:i,ctx:a,theme:l}=e;a.fillStyle=l.textDark,ar({ctx:a,rect:i,theme:l},t,n,r,o)}function th(e,t,n,r,o,i,a,l,s){s==="right"?e.fillText(t,n+o-(l.cellHorizontalPadding+.5),r+i/2+a):s==="center"?e.fillText(t,n+o/2,r+i/2+a):e.fillText(t,n+l.cellHorizontalPadding+.5,r+i/2+a)}function bs(e,t){const n=Dr("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function E0(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function I0(e,t,n,r,o,i,a,l,s,u){const c=l.baseFontFull,h=m0(e,t,c,o-l.cellHorizontalPadding*2,u??!1),g=bs(e,c),f=l.lineHeight*g,p=g+f*(h.length-1),m=p+l.cellVerticalPadding>i;m&&(e.save(),e.rect(n,r,o,i),e.clip());const y=r+i/2-p/2;let w=Math.max(r+l.cellVerticalPadding,y);for(const v of h)if(th(e,v,n,w,o,g,a,l,s),w+=f,w>r+i)break;m&&e.restore()}function ar(e,t,n,r,o){const{ctx:i,rect:a,theme:l}=e,{x:s,y:u,width:c,height:h}=a;r=r??!1,r||(t=E0(t,c));const g=er(i,l),f=us(t)==="rtl";if(n===void 0&&f&&(n="right"),f&&(i.direction="rtl"),t.length>0){let p=!1;n==="right"?(i.textAlign="right",p=!0):n!==void 0&&n!=="left"&&(i.textAlign=n,p=!0),r?I0(i,t,s,u,c,h,g,l,n,o):th(i,t,s,u,c,h,g,l,n),p&&(i.textAlign="start"),f&&(i.direction="inherit")}}function Qn(e,t,n,r,o,i){typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.max(0,Math.min(i.tl,o/2,r/2)),tr:Math.max(0,Math.min(i.tr,o/2,r/2)),bl:Math.max(0,Math.min(i.bl,o/2,r/2)),br:Math.max(0,Math.min(i.br,o/2,r/2))},e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}function T0(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function O0(e,t,n){const r=function(l,s){const u=s.x-l.x,c=s.y-l.y,h=Math.sqrt(u*u+c*c),g=u/h,f=c/h;return{x:u,y:s.y-l.y,len:h,nx:g,ny:f,ang:Math.atan2(f,g)}};let o;const i=t.length;let a=t[i-1];for(let l=0;l<i;l++){let s=t[l%i];const u=t[(l+1)%i],c=r(s,a),h=r(s,u),g=c.nx*h.ny-c.ny*h.nx,f=c.nx*h.nx-c.ny*-h.ny;let p=Math.asin(g<-1?-1:g>1?1:g),m=1,y=!1;f<0?p<0?p=Math.PI+p:(p=Math.PI-p,m=-1,y=!0):p>0&&(m=-1,y=!0),o=s.radius!==void 0?s.radius:n;const w=p/2;let v=Math.abs(Math.cos(w)*o/Math.sin(w)),x;v>Math.min(c.len/2,h.len/2)?(v=Math.min(c.len/2,h.len/2),x=Math.abs(v*Math.sin(w)/Math.cos(w))):x=o;let E=s.x+h.nx*v,O=s.y+h.ny*v;E+=-h.ny*x*m,O+=h.nx*x*m,e.arc(E,O,x,c.ang+Math.PI/2*m,h.ang-Math.PI/2*m,y),a=s,s=u}e.closePath()}function Bl(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p){const m={x:0,y:i+u,width:0,height:0};if(e>=f.length||t>=c||t<-2||e<0)return m;const y=i-o;if(e>=h){const w=a>e?-1:1,v=Do(f);m.x+=v+s;for(let x=a;x!==e;x+=w)m.x+=f[w===1?x:x-1].width*w}else for(let w=0;w<e;w++)m.x+=f[w].width;if(m.width=f[e].width+1,t===-1)m.y=o,m.height=y;else if(t===-2){m.y=0,m.height=o;let w=e;const v=f[e].group,x=f[e].sticky;for(;w>0&&bi(f[w-1].group,v)&&f[w-1].sticky===x;){const O=f[w-1];m.x-=O.width,m.width+=O.width,w--}let E=e;for(;E+1<f.length&&bi(f[E+1].group,v)&&f[E+1].sticky===x;){const O=f[E+1];m.width+=O.width,E++}if(!x){const O=Do(f),M=m.x-O;M<0&&(m.x-=M,m.width+=M),m.x+m.width>n&&(m.width=n-m.x)}}else if(t>=c-g){let w=c-t;for(m.y=r;w>0;){const v=t+w-1;m.height=typeof p=="number"?p:p(v),m.y-=m.height,w--}m.height+=1}else{const w=l>t?-1:1;if(typeof p=="number"){const v=t-l;m.y+=v*p}else for(let v=l;v!==t;v+=w)m.y+=p(v)*w;m.height=(typeof p=="number"?p:p(t))+1}return m}const ws=1<<21;function Zn(e,t){return(t+2)*ws+e}function nh(e){return e%ws}function ys(e){return Math.floor(e/ws)-2}function xs(e){const t=nh(e),n=ys(e);return[t,n]}class rh{visibleWindow={x:0,y:0,width:0,height:0};freezeCols=0;freezeRows=[];isInWindow=t=>{const n=nh(t),r=ys(t),o=this.visibleWindow,i=n>=o.x&&n<=o.x+o.width||n<this.freezeCols,a=r>=o.y&&r<=o.y+o.height||this.freezeRows.includes(r);return i&&a};setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&Oo(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class D0 extends rh{cache=new Map;setValue=(t,n)=>{this.cache.set(Zn(t[0],t[1]),n)};getValue=t=>this.cache.get(Zn(t[0],t[1]));clearOutOfWindow=()=>{for(const[t]of this.cache.entries())this.isInWindow(t)||this.cache.delete(t)}}class gi{cells;constructor(t=[]){this.cells=new Set(t.map(n=>Zn(n[0],n[1])))}add(t){this.cells.add(Zn(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(Zn(t[0],t[1]))}remove(t){this.cells.delete(Zn(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(ys(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(Zn(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield xs(t)}}function P0(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-bg-group-header":e.bgGroupHeader??e.bgHeader,"--gdg-bg-group-header-hovered":e.bgGroupHeaderHovered??e.bgHeaderHovered,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bubble-height":`${e.bubbleHeight}px`,"--gdg-bubble-padding":`${e.bubblePadding}px`,"--gdg-bubble-margin":`${e.bubbleMargin}px`,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,"--gdg-checkbox-max-size":`${e.checkboxMaxSize}px`,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const oh={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bubbleHeight:20,bubblePadding:6,bubbleMargin:4,bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4,checkboxMaxSize:18};function ih(){return oh}const ah=St.createContext(oh);function lh(){return St.useContext(ah)}function mr(e,...t){const n={...e};for(const r of t)if(r!==void 0)for(const o in r)r.hasOwnProperty(o)&&(o==="bgCell"?n[o]=$n(r[o],n[o]):n[o]=r[o]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const Ul=150;function H0(e,t,n,r){return r(t)?.measure?.(e,t,n)??Ul}function sh(e,t,n,r,o,i,a,l,s){let u=0;const c=o===void 0?[]:o.map(f=>{const p=H0(e,f[r],t,s);return u=Math.max(u,p),p});if(c.length>5&&l){u=0;let f=0;for(const m of c)f+=m;const p=f/c.length;for(let m=0;m<c.length;m++)c[m]>=p*2?c[m]=0:u=Math.max(u,c[m])}const h=e.font;e.font=t.headerFontFull,u=Math.max(u,e.measureText(n.title).width+t.cellHorizontalPadding*2+(n.icon===void 0?0:28)),e.font=h;const g=Math.max(Math.ceil(i),Math.min(Math.floor(a),Math.ceil(u)));return{...n,width:g}}function A0(e,t,n,r,o,i,a,l,s){const u=d.useRef(t),c=d.useRef(n),h=d.useRef(a);u.current=t,c.current=n,h.current=a;const[g,f]=d.useMemo(()=>{if(typeof window>"u")return[null,null];const v=document.createElement("canvas");return v.style.display="none",v.style.opacity="0",v.style.position="fixed",[v,v.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>(g&&document.documentElement.append(g),()=>{g?.remove()}),[g]);const p=d.useRef({}),m=d.useRef(),[y,w]=d.useState();return d.useLayoutEffect(()=>{const v=c.current;if(v===void 0||e.every(Gi))return;let x=Math.max(1,10-Math.floor(e.length/1e4)),E=0;x<u.current&&x>1&&(x--,E=1);const O={x:0,y:0,width:e.length,height:Math.min(u.current,x)},M={x:0,y:u.current-1,width:e.length,height:1};(async()=>{const P=v(O,s.signal),S=E>0?v(M,s.signal):void 0;let k;typeof P=="object"?k=P:k=await bu(P),S!==void 0&&(typeof S=="object"?k=[...k,...S]:k=[...k,...await bu(S)]),m.current=e,w(k)})()},[s.signal,e]),d.useMemo(()=>{let v=e.every(Gi)?e:f===null?e.map(M=>Gi(M)?M:{...M,width:Ul}):(f.font=h.current.baseFontFull,e.map((M,P)=>{if(Gi(M))return M;if(p.current[M.id]!==void 0)return{...M,width:p.current[M.id]};if(y===void 0||m.current!==e||M.id===void 0)return{...M,width:Ul};const S=sh(f,a,M,P,y,o,i,!0,l);return p.current[M.id]=S.width,S})),x=0,E=0;const O=[];for(const[M,P]of v.entries())x+=P.width,P.grow!==void 0&&P.grow>0&&(E+=P.grow,O.push(M));if(x<r&&O.length>0){const M=[...v],P=r-x;let S=P;for(let k=0;k<O.length;k++){const H=O[k],I=(v[H].grow??0)/E,R=k===O.length-1?S:Math.min(S,Math.floor(P*I));M[H]={...v[H],growOffset:R,width:v[H].width+R},S-=R}v=M}return{sizedColumns:v,nonGrowWidth:x}},[r,e,f,y,a,o,i,l])}var fl,Yu;function F0(){if(Yu)return fl;Yu=1;function e(t,n,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),n!==void 0&&(t=t>=n?t:n)),t}return fl=e,fl}var pl,Ku;function L0(){if(Ku)return pl;Ku=1;var e=F0(),t=bd();function n(r,o,i){return i===void 0&&(i=o,o=void 0),i!==void 0&&(i=t(i),i=i===i?i:0),o!==void 0&&(o=t(o),o=o===o?o:0),e(t(r),o,i)}return pl=n,pl}var z0=L0();const jn=vr(z0);var gl,qu;function $0(){if(qu)return gl;qu=1;function e(){}return gl=e,gl}var ml,Zu;function N0(){if(Zu)return ml;Zu=1;var e=dg(),t=$0(),n=wd(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return ml=o,ml}var vl,Qu;function V0(){if(Qu)return vl;Qu=1;var e=sg(),t=ug(),n=fg(),r=cg(),o=N0(),i=wd(),a=200;function l(s,u,c){var h=-1,g=t,f=s.length,p=!0,m=[],y=m;if(c)p=!1,g=n;else if(f>=a){var w=u?null:o(s);if(w)return i(w);p=!1,g=r,y=new e}else y=u?[]:m;e:for(;++h<f;){var v=s[h],x=u?u(v):v;if(v=c||v!==0?v:0,p&&x===x){for(var E=y.length;E--;)if(y[E]===x)continue e;u&&y.push(x),m.push(v)}else g(y,x,c)||(y!==m&&y.push(x),m.push(v))}return m}return vl=l,vl}var bl,Ju;function _0(){if(Ju)return bl;Ju=1;var e=V0();function t(n){return n&&n.length?e(n):[]}return bl=t,bl}var W0=_0();const j0=vr(W0);var B0=rg();const ec=vr(B0),$t='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',U0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},X0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},G0=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},Y0=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},K0=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},uh=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},q0=e=>{const t=e.bgColor;return`${$t}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},Z0=uh,Q0=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},J0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},ev=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},tv=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},nv=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},rv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},ov=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},iv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},av=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},lv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},sv=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},uv=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},cv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},dv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},hv=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},fv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},pv=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${$t}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},gv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},mv=e=>{const t=e.fgColor,n=e.bgColor;return`${$t}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},vv=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},bv=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},wv={headerRowID:U0,headerNumber:G0,headerCode:X0,headerString:Y0,headerBoolean:K0,headerAudioUri:Z0,headerVideoUri:Q0,headerEmoji:J0,headerImage:ev,headerUri:uh,headerPhone:tv,headerMarkdown:nv,headerDate:rv,headerTime:ov,headerEmail:iv,headerReference:av,headerIfThenElse:lv,headerSingleValue:sv,headerLookup:uv,headerTextTemplate:cv,headerMath:dv,headerRollup:hv,headerJoinStrings:fv,headerSplitString:pv,headerGeoDistance:gv,headerArray:mv,rowOwnerOverlay:vv,protectedColumnOverlay:bv,renameIcon:q0};function yv(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class xv{onSettled;spriteMap=new Map;headerIcons;inFlight=0;constructor(t,n){this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,r,o,i,a,l,s=1){const[u,c]=yv(n,l),h=a*Math.ceil(window.devicePixelRatio),g=`${u}_${c}_${h}_${t}`;let f=this.spriteMap.get(g);if(f===void 0){const p=this.headerIcons[t];if(p===void 0)return;f=document.createElement("canvas");const m=f.getContext("2d");if(m===null)return;const y=new Image;y.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(p({fgColor:c,bgColor:u}))}`,this.spriteMap.set(g,f);const w=y.decode();if(w===void 0)return;this.inFlight++,w.then(()=>{m.drawImage(y,0,0,h,h)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else s<1&&(r.globalAlpha=s),r.drawImage(f,0,0,h,h,o,i,a,a),s<1&&(r.globalAlpha=1)}}function ch(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y);return t}function Aa(e,t,n,r,o,i,a,l,s){l=l??t;let u=t,c=e;const h=r-i;let g=!1;for(;u<n&&c<h;){const f=o(c);if(u+f>l&&s(u,c,f,!1,a&&c===r-1)===!0){g=!0;break}u+=f,c++}if(!g){u=n;for(let f=0;f<i;f++){c=r-1-f;const p=o(c);u-=p,s(u,c,p,!0,a&&c===r-1)}}}function Pr(e,t,n,r,o,i){let a=0,l=0;const s=o+r;for(const u of e){const c=u.sticky?l:a+n;if(i(u,c,s,u.sticky?0:l,t)===!0)break;a+=u.width,l+=u.sticky?u.width:0}}function dh(e,t,n,r,o){let i=0,a=0;for(let l=0;l<e.length;l++){const s=e[l];let u=l+1,c=s.width;for(s.sticky&&(a+=c);u<e.length&&bi(e[u].group,s.group)&&e[u].sticky===e[l].sticky;){const m=e[u];c+=m.width,u++,l++,m.sticky&&(a+=m.width)}const h=s.sticky?0:n,g=i+h,f=s.sticky?0:Math.max(0,a-g),p=Math.min(c-f,t-(g+f));o([s.sourceIndex,e[u-1].sourceIndex],s.group??"",g+f,0,p,r),i+=c}}function hh(e,t,n,r,o,i,a){const[l,s]=e;let u,c;const h=a.find(g=>!g.sticky)?.sourceIndex??0;if(s>h){const g=Math.max(l,h);let f=t,p=r;for(let m=i.sourceIndex-1;m>=g;m--)f-=a[m].width,p+=a[m].width;for(let m=i.sourceIndex+1;m<=s;m++)p+=a[m].width;c={x:f,y:n,width:p,height:o}}if(h>l){const g=Math.min(s,h-1);let f=t,p=r;for(let m=i.sourceIndex-1;m>=l;m--)f-=a[m].width,p+=a[m].width;for(let m=i.sourceIndex+1;m<=g;m++)p+=a[m].width;u={x:f,y:n,width:p,height:o}}return[u,c]}function kv(e,t,n,r){if(r==="any")return fh(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),qd([t,n],e))return;const o=t-e.x,i=e.x+e.width-t,a=n-e.y+1,l=e.y+e.height-n,s=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:o,r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="horizontal"?Number.MAX_SAFE_INTEGER:a,r==="horizontal"?Number.MAX_SAFE_INTEGER:l);return s===l?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:s===a?{x:e.x,y:n,width:e.width,height:e.y-n}:s===i?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function wi(e,t,n,r,o,i,a,l){return e<=o+a&&o<=e+n&&t<=i+l&&i<=t+r}function Yr(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function fh(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.x+e.width,t.x+t.width)-n,i=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:o,height:i}}function Cv(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function Sv(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const o=-4,i=-4,a=t+4,l=n+4,s=o-e.x,u=e.x+e.width-a,c=i-e.y,h=e.y+e.height-l,g=s>0?e.x+Math.floor(s/r)*r:e.x,f=u>0?e.x+e.width-Math.floor(u/r)*r:e.x+e.width,p=c>0?e.y+Math.floor(c/r)*r:e.y,m=h>0?e.y+e.height-Math.floor(h/r)*r:e.y+e.height;return{x:g,y:p,width:f-g,height:m-p}}function Mv(e,t,n,r,o){const[i,a,l,s]=t,[u,c,h,g]=o,{x:f,y:p,width:m,height:y}=e,w=[];if(m<=0||y<=0)return w;const v=f+m,x=p+y,E=f<i,O=p<a,M=f+m>l,P=p+y>s,S=f>=i&&f<l||v>i&&v<=l||f<i&&v>l,k=p>=a&&p<s||x>a&&x<=s||p<a&&x>s;if(S&&k){const H=Math.max(f,i),I=Math.max(p,a),R=Math.min(v,l),T=Math.min(x,s);w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:u,y:c,width:h-u+1,height:g-c+1}})}if(E&&O){const H=f,I=p,R=Math.min(v,i),T=Math.min(x,a);w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:0,y:0,width:u+1,height:c+1}})}if(O&&S){const H=Math.max(f,i),I=p,R=Math.min(v,l),T=Math.min(x,a);w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:u,y:0,width:h-u+1,height:c+1}})}if(O&&M){const H=Math.max(f,l),I=p,R=v,T=Math.min(x,a);w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:h,y:0,width:n-h+1,height:c+1}})}if(E&&k){const H=f,I=Math.max(p,a),R=Math.min(v,i),T=Math.min(x,s);w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:0,y:c,width:u+1,height:g-c+1}})}if(M&&k){const H=Math.max(f,l),I=Math.max(p,a),R=v,T=Math.min(x,s);w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:h,y:c,width:n-h+1,height:g-c+1}})}if(E&&P){const H=f,I=Math.max(p,s),R=Math.min(v,i),T=x;w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:0,y:g,width:u+1,height:r-g+1}})}if(P&&S){const H=Math.max(f,i),I=Math.max(p,s),R=Math.min(v,l),T=x;w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:u,y:g,width:h-u+1,height:r-g+1}})}if(M&&P){const H=Math.max(f,l),I=Math.max(p,s),R=v,T=x;w.push({rect:{x:H,y:I,width:R-H,height:T-I},clip:{x:h,y:g,width:n-h+1,height:r-g+1}})}return w}const Rv={kind:Z.Loading,allowOverlay:!1};function tc(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y,w,v,x,E,O,M,P,S,k,H,I,R,T,D,C,Q,j,q){let ue=x?.size??Number.MAX_SAFE_INTEGER;const te=performance.now();let K=T.baseFontFull;e.font=K;const ge={ctx:e},ae=[0,0],fe=y>0?eo(s,y,u):0;let he,oe;const $=ch(v);return Pr(t,l,i,a,o,(A,U,re,le,Ee)=>{const we=Math.max(0,le-U),at=U+we,Ce=o+1,ft=A.width-we,vt=r-o-1;if(v.length>0){let ze=!1;for(let $e=0;$e<v.length;$e++){const Qe=v[$e];if(wi(at,Ce,ft,vt,Qe.x,Qe.y,Qe.width,Qe.height)){ze=!0;break}}if(!ze)return}const _e=()=>{e.save(),e.beginPath(),e.rect(at,Ce,ft,vt),e.clip()},ne=E.columns.hasIndex(A.sourceIndex),ie=h(A.group??"").overrideTheme,be=A.themeOverride===void 0&&ie===void 0?T:mr(T,ie,A.themeOverride),ce=be.baseFontFull;ce!==K&&(K=ce,e.font=ce),_e();let ve;return Aa(Ee,re,r,s,u,y,w,$,(ze,$e,Qe,Se,qe)=>{if($e<0||(ae[0]=A.sourceIndex,ae[1]=$e,x!==void 0&&!x.has(ae)))return;if(v.length>0){let De=!1;for(let et=0;et<v.length;et++){const bt=v[et];if(wi(U,ze,A.width,Qe,bt.x,bt.y,bt.width,bt.height)){De=!0;break}}if(!De)return}const Ie=E.rows.hasIndex($e),Me=f.hasIndex($e),Oe=$e<s?c(ae):Rv;let ct=U,Je=A.width,Xe=!1,yt=!1;if(Oe.span!==void 0){const[De,et]=Oe.span,bt=`${$e},${De},${et},${A.sticky}`;if(oe===void 0&&(oe=new Set),oe.has(bt)){ue--;return}else{const Tn=hh(Oe.span,U,ze,A.width,Qe,A,n),ln=A.sticky?Tn[0]:Tn[1];if(!A.sticky&&Tn[0]!==void 0&&(yt=!0),ln!==void 0){ct=ln.x,Je=ln.width,oe.add(bt),e.restore(),ve=void 0,e.save(),e.beginPath();const sn=Math.max(0,le-ln.x);e.rect(ln.x+sn,ze,ln.width-sn,Qe),he===void 0&&(he=[]),he.push({x:ln.x+sn,y:ze,width:ln.width-sn,height:Qe}),e.clip(),Xe=!0}}}const gt=g?.($e),Tt=qe&&A.trailingRowOptions?.themeOverride!==void 0?A.trailingRowOptions?.themeOverride:void 0,Ot=Oe.themeOverride===void 0&&gt===void 0&&Tt===void 0?be:mr(be,gt,Tt,Oe.themeOverride);e.beginPath();const an=w0(ae,Oe,E);let Kt=y0(ae,Oe,E,m);const En=Oe.span!==void 0&&E.columns.some(De=>Oe.span!==void 0&&De>=Oe.span[0]&&De<=Oe.span[1]);an&&!p&&m?Kt=0:an&&m&&(Kt=Math.max(Kt,1)),En&&Kt++,an||(Ie&&Kt++,ne&&!qe&&Kt++);const Mt=Oe.kind===Z.Protected?Ot.bgCellMedium:Ot.bgCell;let dt;if((Se||Mt!==T.bgCell)&&(dt=$n(Mt,dt)),Kt>0||Me){Me&&(dt=$n(Ot.bgHeader,dt));for(let De=0;De<Kt;De++)dt=$n(Ot.accentLight,dt)}else if(O!==void 0){for(const De of O)if(De[0]===A.sourceIndex&&De[1]===$e){dt=$n(Ot.bgSearchResult,dt);break}}if(M!==void 0)for(let De=0;De<M.length;De++){const et=M[De],bt=et.range;et.style!=="solid-outline"&&bt.x<=A.sourceIndex&&A.sourceIndex<bt.x+bt.width&&bt.y<=$e&&$e<bt.y+bt.height&&(dt=$n(et.color,dt))}let In=!1;if(x!==void 0){const De=ze+1,et=(Se?De+Qe-1:Math.min(De+Qe-1,r-fe))-De;(et!==Qe-1||ct+1<=le)&&(In=!0,e.save(),e.beginPath(),e.rect(ct+1,De,Je-1,et),e.clip()),dt=dt===void 0?Ot.bgCell:$n(dt,Ot.bgCell)}const mt=A.sourceIndex===n.length-1,qt=$e===s-1;dt!==void 0&&(e.fillStyle=dt,ve!==void 0&&(ve.fillStyle=dt),x!==void 0?e.fillRect(ct+1,ze+1,Je-(mt?2:1),Qe-(qt?2:1)):e.fillRect(ct,ze,Je,Qe)),Oe.style==="faded"&&(e.globalAlpha=.6);let kn;for(let De=0;De<k.length;De++){const et=k[De];if(et.item[0]===A.sourceIndex&&et.item[1]===$e){kn=et;break}}if(Je>q&&!yt){const De=Ot.baseFontFull;De!==K&&(e.font=De,K=De),ve=ph(e,Oe,A.sourceIndex,$e,mt,qt,ct,ze,Je,Qe,Kt>0,Ot,dt??Ot.bgCell,P,S,kn?.hoverAmount??0,H,R,te,I,ve,D,C,Q,j)}return In&&e.restore(),Oe.style==="faded"&&(e.globalAlpha=1),ue--,Xe&&(e.restore(),ve?.deprep?.(ge),ve=void 0,_e(),K=ce,e.font=ce),ue<=0}),e.restore(),ue<=0}),he}const ni=[0,0],ri={x:0,y:0,width:0,height:0},wl=[void 0,()=>{}];let Xl=!1;function Ev(){Xl=!0}function ph(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y,w,v,x,E,O,M,P,S){let k,H;y!==void 0&&y[0][0]===n&&y[0][1]===r&&(k=y[1][0],H=y[1][1]);let I;ni[0]=n,ni[1]=r,ri.x=a,ri.y=l,ri.width=s,ri.height=u,wl[0]=M.getValue(ni),wl[1]=C=>M.setValue(ni,C),Xl=!1;const R={ctx:e,theme:h,col:n,row:r,cell:t,rect:ri,highlighted:c,cellFillColor:g,hoverAmount:m,frameTime:v,hoverX:k,drawState:wl,hoverY:H,imageLoader:f,spriteManager:p,hyperWrapping:w,overrideCursor:k!==void 0?S:void 0,requestAnimationFrame:Ev},T=R0(R,t.lastUpdated,v,E,o,i),D=P(t);if(D!==void 0){E?.renderer!==D&&(E?.deprep?.(R),E=void 0);const C=D.drawPrep?.(R,E);x!==void 0&&!Mo(R.cell)?x(R,()=>D.draw(R,t)):D.draw(R,t),I=C===void 0?void 0:{deprep:C?.deprep,fillStyle:C?.fillStyle,font:C?.font,renderer:D}}return(T||Xl)&&O?.(ni),I}function ks(e,t,n,r,o,i,a,l,s=-20,u=-20,c=void 0,h="center",g="square"){const f=Math.floor(o+a/2),p=g==="circle"?1e4:t.roundingRadius??4;let m=zd(c??t.checkboxMaxSize,a,t.cellVerticalPadding),y=m/2;const w=Ld(h,r,i,t.cellHorizontalPadding,m),v=Fd(w,f,m),x=$d(r+s,o+u,v);switch(n){case!0:{e.beginPath(),Qn(e,w-m/2,f-m/2,m,m,p),g==="circle"&&(y*=.8,m*=.8),e.fillStyle=l?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(w-y+m/4.23,f-y+m/1.97),e.lineTo(w-y+m/2.42,f-y+m/1.44),e.lineTo(w-y+m/1.29,f-y+m/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case fa:case!1:{e.beginPath(),Qn(e,w-m/2+.5,f-m/2+.5,m-1,m-1,p),e.lineWidth=1,e.strokeStyle=x?t.textDark:t.textMedium,e.stroke();break}case is:{e.beginPath(),Qn(e,w-m/2,f-m/2,m,m,p),e.fillStyle=x?t.textMedium:t.textLight,e.fill(),g==="circle"&&(y*=.8,m*=.8),e.beginPath(),e.moveTo(w-m/3,f),e.lineTo(w+m/3,f),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:mi()}}function Iv(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y,w,v){const x=a+l;if(x<=0)return;e.fillStyle=h.bgHeader,e.fillRect(0,0,o,x);const E=r?.[0]?.[0],O=r?.[0]?.[1],M=r?.[1]?.[0],P=r?.[1]?.[1],S=h.headerFontFull;e.font=S,Pr(t,0,i,0,x,(k,H,I,R)=>{if(y!==void 0&&!y.has([k.sourceIndex,-1]))return;const T=Math.max(0,R-H);e.save(),e.beginPath(),e.rect(H+T,l,k.width-T,a),e.clip();const D=m(k.group??"").overrideTheme,C=k.themeOverride===void 0&&D===void 0?h:mr(h,D,k.themeOverride);C.bgHeader!==h.bgHeader&&(e.fillStyle=C.bgHeader,e.fill()),C!==h&&(e.font=C.headerFontFull);const Q=c.columns.hasIndex(k.sourceIndex),j=s!==void 0||u||k.headerRowMarkerDisabled===!0,q=!j&&O===-1&&E===k.sourceIndex,ue=j?0:f.find(fe=>fe.item[0]===k.sourceIndex&&fe.item[1]===-1)?.hoverAmount??0,te=c?.current!==void 0&&c.current.cell[0]===k.sourceIndex,K=Q?C.accentColor:te?C.bgHeaderHasFocus:C.bgHeader,ge=n?l:0,ae=k.sourceIndex===0?0:1;Q?(e.fillStyle=K,e.fillRect(H+ae,ge,k.width-ae,a)):(te||ue>0)&&(e.beginPath(),e.rect(H+ae,ge,k.width-ae,a),te&&(e.fillStyle=C.bgHeaderHasFocus,e.fill()),ue>0&&(e.globalAlpha=ue,e.fillStyle=C.bgHeaderHovered,e.fill(),e.globalAlpha=1)),vh(e,H,ge,k.width,a,k,Q,C,q,q?M:void 0,q?P:void 0,te,ue,g,w,v),e.restore()}),n&&Tv(e,t,o,i,l,r,h,g,f,p,m,y)}function Tv(e,t,n,r,o,i,a,l,s,u,c,h){const[g,f]=i?.[0]??[];let p=0;dh(t,n,r,o,(m,y,w,v,x,E)=>{if(h!==void 0&&!h.hasItemInRectangle({x:m[0],y:-2,width:m[1]-m[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(w,v,x,E),e.clip();const O=c(y),M=O?.overrideTheme===void 0?a:mr(a,O.overrideTheme),P=f===-2&&g!==void 0&&g>=m[0]&&g<=m[1],S=P?M.bgGroupHeaderHovered??M.bgHeaderHovered:M.bgGroupHeader??M.bgHeader;if(S!==a.bgHeader&&(e.fillStyle=S,e.fill()),e.fillStyle=M.textGroupHeader??M.textHeader,O!==void 0){let k=w;if(O.icon!==void 0&&(l.drawSprite(O.icon,"normal",e,k+8,(o-20)/2,20,M),k+=26),e.fillText(O.name,k+8,o/2+er(e,a.headerFontFull)),O.actions!==void 0&&P){const H=gh({x:w,y:v,width:x,height:E},O.actions);e.beginPath();const I=H[0].x-10,R=w+x-I;e.rect(I,0,R,o);const T=e.createLinearGradient(I,0,I+R,0),D=qr(S,0);T.addColorStop(0,D),T.addColorStop(10/R,S),T.addColorStop(1,S),e.fillStyle=T,e.fill(),e.globalAlpha=.6;const[C,Q]=i?.[1]??[-1,-1];for(let j=0;j<O.actions.length;j++){const q=O.actions[j],ue=H[j],te=Yr(ue,C+w,Q);te&&(e.globalAlpha=1),l.drawSprite(q.icon,"normal",e,ue.x+ue.width/2-10,ue.y+ue.height/2-10,20,M),te&&(e.globalAlpha=.6)}e.globalAlpha=1}}w!==0&&u(m[0])&&(e.beginPath(),e.moveTo(w+.5,0),e.lineTo(w+.5,o),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()),e.restore(),p=w+x}),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,o),e.moveTo(0,o+.5),e.lineTo(n,o+.5),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()}const qi=30;function Ov(e,t,n,r,o){return{x:e+n-qi,y:Math.max(t,t+r/2-qi/2),width:qi,height:Math.min(qi,r)}}function gh(e,t){const n=[];let r=e.x+e.width-26*t.length;const o=e.y+e.height/2-13,i=26,a=26;for(let l=0;l<t.length;l++)n.push({x:r,y:o,width:a,height:i}),r+=26;return n}function oi(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function mh(e,t,n,r,o,i,a,l){const s=a.cellHorizontalPadding,u=a.headerIconSize,c=Ov(n,r,o,i);let h=n+s;const g=t.icon===void 0?void 0:{x:h,y:r+(i-u)/2,width:u,height:u},f=g===void 0||t.overlayIcon===void 0?void 0:{x:g.x+9,y:g.y+6,width:18,height:18};g!==void 0&&(h+=Math.ceil(u*1.3));const p={x:h,y:r,width:o-h,height:i};let m;if(t.indicatorIcon!==void 0){const w=e===void 0?eh(t.title,a.headerFontFull)?.width??0:Dr(t.title,e,a.headerFontFull).width;p.width=w,h+=w+s,m={x:h,y:r+(i-u)/2,width:u,height:u}}const y=n+o/2;return{menuBounds:oi(c,y,l),iconBounds:oi(g,y,l),iconOverlayBounds:oi(f,y,l),textBounds:oi(p,y,l),indicatorIconBounds:oi(m,y,l)}}function nc(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m){if(i.rowMarker!==void 0&&i.headerRowMarkerDisabled!==!0){const v=i.rowMarkerChecked;v!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=h);const x=i.headerRowMarkerTheme!==void 0?mr(l,i.headerRowMarkerTheme):l;ks(e,x,v,t,n,r,o,!1,void 0,void 0,l.checkboxMaxSize,"center",i.rowMarker),v!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const y=a?l.textHeaderSelected:l.textHeader,w=i.hasMenu===!0&&(s||f&&a)&&m.menuBounds!==void 0;if(i.icon!==void 0&&m.iconBounds!==void 0){let v=a?"selected":"normal";i.style==="highlight"&&(v=a?"selected":"special"),g.drawSprite(i.icon,v,e,m.iconBounds.x,m.iconBounds.y,m.iconBounds.width,l),i.overlayIcon!==void 0&&m.iconOverlayBounds!==void 0&&g.drawSprite(i.overlayIcon,a?"selected":"special",e,m.iconOverlayBounds.x,m.iconOverlayBounds.y,m.iconOverlayBounds.width,l)}if(w&&r>35){const v=p?35:r-35,x=p?35*.7:r-35*.7,E=v/r,O=x/r,M=e.createLinearGradient(t,0,t+r,0),P=qr(y,0);M.addColorStop(p?1:0,y),M.addColorStop(E,y),M.addColorStop(O,P),M.addColorStop(p?0:1,P),e.fillStyle=M}else e.fillStyle=y;if(p&&(e.textAlign="right"),m.textBounds!==void 0&&e.fillText(i.title,p?m.textBounds.x+m.textBounds.width:m.textBounds.x,n+o/2+er(e,l.headerFontFull)),p&&(e.textAlign="left"),i.indicatorIcon!==void 0&&m.indicatorIconBounds!==void 0&&(!w||!wi(m.menuBounds.x,m.menuBounds.y,m.menuBounds.width,m.menuBounds.height,m.indicatorIconBounds.x,m.indicatorIconBounds.y,m.indicatorIconBounds.width,m.indicatorIconBounds.height))){let v=a?"selected":"normal";i.style==="highlight"&&(v=a?"selected":"special"),g.drawSprite(i.indicatorIcon,v,e,m.indicatorIconBounds.x,m.indicatorIconBounds.y,m.indicatorIconBounds.width,l)}if(w&&m.menuBounds!==void 0){const v=m.menuBounds,x=u!==void 0&&c!==void 0&&Yr(v,u+t,c+n);if(x||(e.globalAlpha=.7),i.menuIcon===void 0||i.menuIcon===pa.Triangle){e.beginPath();const E=v.x+v.width/2-5.5,O=v.y+v.height/2-3;O0(e,[{x:E,y:O},{x:E+11,y:O},{x:E+5.5,y:O+6}],1),e.fillStyle=y,e.fill()}else if(i.menuIcon===pa.Dots){e.beginPath();const E=v.x+v.width/2,O=v.y+v.height/2;T0(e,E,O),e.fillStyle=y,e.fill()}else{const E=v.x+(v.width-l.headerIconSize)/2,O=v.y+(v.height-l.headerIconSize)/2;g.drawSprite(i.menuIcon,"normal",e,E,O,l.headerIconSize,l)}x||(e.globalAlpha=1)}}function vh(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m){const y=us(i.title)==="rtl",w=mh(e,i,t,n,r,o,l,y);p!==void 0?p({ctx:e,theme:l,rect:{x:t,y:n,width:r,height:o},column:i,columnIndex:i.sourceIndex,isSelected:a,hoverAmount:g,isHovered:s,hasSelectedCell:h,spriteManager:f,menuBounds:w?.menuBounds??{x:0,y:0,height:0,width:0},hoverX:u,hoverY:c},()=>nc(e,t,n,r,o,i,a,l,s,u,c,g,f,m,y,w)):nc(e,t,n,r,o,i,a,l,s,u,c,g,f,m,y,w)}function Dv(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y,w,v){if(w!==void 0||t[t.length-1]!==n[t.length-1])return;const x=ch(y);Pr(t,s,a,l,i,(E,O,M,P,S)=>{if(E!==t[t.length-1])return;O+=E.width;const k=Math.max(O,P);k>r||(e.save(),e.beginPath(),e.rect(k,i+1,1e4,o-i-1),e.clip(),Aa(S,M,o,u,c,p,m,x,(H,I,R,T)=>{if(!T&&y.length>0&&!y.some(q=>wi(O,H,1e4,R,q.x,q.y,q.width,q.height)))return;const D=g.hasIndex(I),C=f.hasIndex(I);e.beginPath();const Q=h?.(I),j=Q===void 0?v:mr(v,Q);j.bgCell!==v.bgCell&&(e.fillStyle=j.bgCell,e.fillRect(O,H,1e4,R)),C&&(e.fillStyle=j.bgHeader,e.fillRect(O,H,1e4,R)),D&&(e.fillStyle=j.accentLight,e.fillRect(O,H,1e4,R))}),e.restore())})}function Pv(e,t,n,r,o,i,a,l,s){let u=!1;for(const p of t)if(!p.sticky){u=a(p.sourceIndex);break}const c=s.horizontalBorderColor??s.borderColor,h=s.borderColor,g=u?Do(t):0;let f;if(g!==0&&(f=Bu(h,s.bgCell),e.beginPath(),e.moveTo(g+.5,0),e.lineTo(g+.5,r),e.strokeStyle=f,e.stroke()),o>0){const p=h===c&&f!==void 0?f:Bu(c,s.bgCell),m=eo(i,o,l);e.beginPath(),e.moveTo(0,r-m+.5),e.lineTo(n,r-m+.5),e.strokeStyle=p,e.stroke()}}const bh=(e,t,n)=>{let r=0,o=t,i=0,a=n;if(e!==void 0&&e.length>0){r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(const l of e)r=Math.min(r,l.x-1),o=Math.max(o,l.x+l.width+1),i=Math.min(i,l.y-1),a=Math.max(a,l.y+l.height+1)}return{minX:r,maxX:o,minY:i,maxY:a}};function Hv(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p){const m=p.bgCell,{minX:y,maxX:w,minY:v,maxY:x}=bh(l,i,a),E=[],O=a-eo(f,g,u);let M=s,P=n,S=0;for(;M+o<O;){const R=M+o,T=u(P);if(R>=v&&R<=x-1){const D=c?.(P)?.bgCell;D!==void 0&&D!==m&&P>=f-g&&E.push({x:y,y:R,w:w-y,h:T,color:D})}M+=T,P<f-g&&(S=M),P++}let k=0;const H=Math.min(O,x)-S;if(H>0)for(let R=0;R<t.length;R++){const T=t[R];if(T.width===0)continue;const D=T.sticky?k:k+r,C=T.themeOverride?.bgCell;C!==void 0&&C!==m&&D>=y&&D<=w&&h(R+1)&&E.push({x:D,y:S,w:T.width,h:H,color:C}),k+=T.width}if(E.length===0)return;let I;e.beginPath();for(let R=E.length-1;R>=0;R--){const T=E[R];I===void 0?I=T.color:T.color!==I&&(e.fillStyle=I,e.fill(),e.beginPath(),I=T.color),e.rect(T.x,T.y,T.w,T.h)}I!==void 0&&(e.fillStyle=I,e.fill()),e.beginPath()}function rc(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y,w=!1){if(s!==void 0){e.beginPath(),e.save(),e.rect(0,0,i,a);for(const R of s)e.rect(R.x+1,R.y+1,R.width-1,R.height-1);e.clip("evenodd")}const v=y.horizontalBorderColor??y.borderColor,x=y.borderColor,{minX:E,maxX:O,minY:M,maxY:P}=bh(l,i,a),S=[];e.beginPath();let k=.5;for(let R=0;R<t.length;R++){const T=t[R];if(T.width===0)continue;k+=T.width;const D=T.sticky?k:k+r;D>=E&&D<=O&&f(R+1)&&S.push({x1:D,y1:Math.max(u,M),x2:D,y2:Math.min(a,P),color:x})}let H=a+.5;for(let R=m-p;R<m;R++){const T=h(R);H-=T,S.push({x1:E,y1:H,x2:O,y2:H,color:v})}if(w!==!0){let R=c+.5,T=n;const D=H;for(;R+o<D;){const C=R+o;if(C>=M&&C<=P-1){const Q=g?.(T);S.push({x1:E,y1:C,x2:O,y2:C,color:Q?.horizontalBorderColor??Q?.borderColor??v})}R+=h(T),T++}}const I=hg(S,R=>R.color);for(const R of Object.keys(I)){e.strokeStyle=R;for(const T of I[R])e.moveTo(T.x1,T.y1),e.lineTo(T.x2,T.y2);e.stroke(),e.beginPath()}s!==void 0&&e.restore()}function Av(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y,w,v){const x=[];e.imageSmoothingEnabled=!1;const E=Math.min(o.cellYOffset,a),O=Math.max(o.cellYOffset,a);let M=0;if(typeof w=="number")M+=(O-E)*w;else for(let D=E;D<O;D++)M+=w(D);a>o.cellYOffset&&(M=-M),M+=s-o.translateY;const P=Math.min(o.cellXOffset,i),S=Math.max(o.cellXOffset,i);let k=0;for(let D=P;D<S;D++)k+=m[D].width;i>o.cellXOffset&&(k=-k),k+=l-o.translateX;const H=Do(y);if(k!==0&&M!==0)return{regions:[]};const I=u>0?eo(g,u,w):0,R=c-H-Math.abs(k),T=h-f-I-Math.abs(M)-1;if(R>150&&T>150){const D={sx:0,sy:0,sw:c*p,sh:h*p,dx:0,dy:0,dw:c*p,dh:h*p};if(M>0?(D.sy=(f+1)*p,D.sh=T*p,D.dy=(M+f+1)*p,D.dh=T*p,x.push({x:0,y:f,width:c,height:M+1})):M<0&&(D.sy=(-M+f+1)*p,D.sh=T*p,D.dy=(f+1)*p,D.dh=T*p,x.push({x:0,y:h+M-I,width:c,height:-M+I})),k>0?(D.sx=H*p,D.sw=R*p,D.dx=(k+H)*p,D.dw=R*p,x.push({x:H-1,y:0,width:k+2,height:h})):k<0&&(D.sx=(H-k)*p,D.sw=R*p,D.dx=H*p,D.dw=R*p,x.push({x:c+k,y:0,width:-k,height:h})),e.setTransform(1,0,0,1,0,0),v){if(H>0&&k!==0&&M===0&&(r===void 0||n?.[1]!==!1)){const C=H*p,Q=h*p;e.drawImage(t,0,0,C,Q,0,0,C,Q)}if(I>0&&k===0&&M!==0&&(r===void 0||n?.[0]!==!1)){const C=(h-I)*p,Q=c*p,j=I*p;e.drawImage(t,0,C,Q,j,0,C,Q,j)}}e.drawImage(t,D.sx,D.sy,D.sw,D.sh,D.dx,D.dy,D.dw,D.dh),e.scale(p,p)}return e.imageSmoothingEnabled=!0,{regions:x}}function Fv(e,t,n,r,o,i,a,l,s,u){const c=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||o!==e.translateY||Pr(s,n,r,o,l,(h,g,f,p)=>{if(h.sourceIndex===u){const m=Math.max(g,p)+1;return c.push({x:m,y:0,width:i-m,height:a}),!0}}),c}function Lv(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let r=0;r<e.mappedColumns.length;r++){const o=e.mappedColumns[r],i=t.mappedColumns[r];if(Oo(o,i))continue;if(n!==void 0||o.width===i.width)return!1;const{width:a,...l}=o,{width:s,...u}=i;if(!Oo(l,u))return!1;n=r}return n===void 0?!0:n}return!0}function oc(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m){const y=p?.filter(P=>P.style!=="no-outline");if(y===void 0||y.length===0)return;const w=Do(l),v=eo(f,g,h),x=[s,0,l.length,f-g],E=[w,0,t,n-v],O=y.map(P=>{const S=P.range,k=P.style??"dashed";return Mv(S,x,t,n,E).map(H=>{const I=H.rect,R=Bl(I.x,I.y,t,n,c,u+c,r,o,i,a,f,s,g,l,h),T=I.width===1&&I.height===1?R:Bl(I.x+I.width-1,I.y+I.height-1,t,n,c,u+c,r,o,i,a,f,s,g,l,h);return I.x+I.width>=l.length&&(T.width-=1),I.y+I.height>=f&&(T.height-=1),{color:P.color,style:k,clip:H.clip,rect:Sv({x:R.x,y:R.y,width:T.x+T.width-R.x,height:T.y+T.height-R.y},t,n,8)}})}),M=()=>{e.lineWidth=1;let P=!1;for(const S of O)for(const k of S)if(k?.rect!==void 0&&wi(0,0,t,n,k.rect.x,k.rect.y,k.rect.width,k.rect.height)){const H=P,I=!Cv(k.clip,k.rect);e.beginPath(),I&&(e.save(),e.rect(k.clip.x,k.clip.y,k.clip.width,k.clip.height),e.clip()),k.style==="dashed"&&!P?(e.setLineDash([5,3]),P=!0):(k.style==="solid"||k.style==="solid-outline")&&P&&(e.setLineDash([]),P=!1),e.strokeStyle=k.style==="solid-outline"?$n($n(k.color,m.borderColor),m.bgCell):qr(k.color,1),e.closePath(),e.strokeRect(k.rect.x+.5,k.rect.y+.5,k.rect.width-1,k.rect.height-1),I&&(e.restore(),P=H)}P&&e.setLineDash([])};return M(),M}function ic(e,t,n,r,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=o,e.stroke(),e.globalAlpha=1}function yl(e,t,n,r,o,i,a,l,s,u,c,h,g,f,p,m,y){if(c.current===void 0)return;const w=m!==!1&&m!==void 0;if(!w)return;const v=typeof m=="object"?{...ga,...m}:ga,x=c.current.range,E=c.current.cell,O=[x.x+x.width-1,x.y+x.height-1];if(E[1]>=y&&O[1]>=y||!a.some(C=>C.sourceIndex===E[0]||C.sourceIndex===O[0]))return;const[M,P]=c.current.cell,S=g(c.current.cell),k=S.span??[M,M],H=P>=y-f,I=f>0&&!H?eo(y,f,h)-1:0,R=O[1];let T;if(Pr(a,r,o,i,u,(C,Q,j,q,ue)=>{if(C.sticky&&M>C.sourceIndex)return;const te=C.sourceIndex<k[0],K=C.sourceIndex>k[1],ge=C.sourceIndex===O[0];if(!(!ge&&(te||K)))return Aa(ue,j,n,y,h,f,p,void 0,(ae,fe,he)=>{if(fe!==P&&fe!==R)return;let oe=Q,$=C.width;if(S.span!==void 0){const A=hh(S.span,Q,ae,C.width,he,C,l),U=C.sticky?A[0]:A[1];U!==void 0&&(oe=U.x,$=U.width)}return fe===R&&ge&&w&&(T=()=>{q>oe&&!C.sticky&&(e.beginPath(),e.rect(q,0,t-q,n),e.clip());const A=v.size,U=A/2,re=oe+$+v.offsetX-U+.5,le=ae+he+v.offsetY-U+.5;e.beginPath(),v.shape==="circle"?e.arc(re+U,le+U,U,0,Math.PI*2):e.rect(re,le,A,A),e.fillStyle=C.themeOverride?.accentColor??s.accentColor,e.fill(),v.outline>0&&(e.lineWidth=v.outline,e.strokeStyle=s.bgCell,v.shape==="circle"?(e.beginPath(),e.arc(re+U,le+U,U+v.outline/2,0,Math.PI*2),e.stroke()):e.strokeRect(re-v.outline/2,le-v.outline/2,A+v.outline,A+v.outline))}),T!==void 0}),T!==void 0}),T===void 0)return;const D=()=>{e.save(),e.beginPath(),e.rect(0,u,t,n-u-I),e.clip(),T?.(),e.restore()};return D(),D}function zv(e,t,n,r,o,i,a,l,s){s===void 0||s.size===0||(e.beginPath(),dh(t,n,i,r,(u,c,h,g,f,p)=>{s.hasItemInRectangle({x:u[0],y:-2,width:u[1]-u[0]+1,height:1})&&e.rect(h,g,f,p)}),Pr(t,l,i,a,o,(u,c,h,g)=>{const f=Math.max(0,g-c),p=c+f+1,m=u.width-f-1;s.has([u.sourceIndex,-1])&&e.rect(p,r,m,o-r)}),e.clip())}function $v(e,t,n,r,o,i,a,l,s,u){let c=0;return Pr(e,i,r,o,n,(h,g,f,p,m)=>(Aa(m,f,t,a,l,s,u,void 0,(y,w,v,x)=>{x||(c=Math.max(w,c))}),!0)),c}function ac(e,t){const{canvasCtx:n,headerCanvasCtx:r,width:o,height:i,cellXOffset:a,cellYOffset:l,translateX:s,translateY:u,mappedColumns:c,enableGroups:h,freezeColumns:g,dragAndDropState:f,theme:p,drawFocus:m,headerHeight:y,groupHeaderHeight:w,disabledRows:v,rowHeight:x,verticalBorder:E,overrideCursor:O,isResizing:M,selection:P,fillHandle:S,freezeTrailingRows:k,rows:H,getCellContent:I,getGroupDetails:R,getRowThemeOverride:T,isFocused:D,drawHeaderCallback:C,prelightCells:Q,drawCellCallback:j,highlightRegions:q,resizeCol:ue,imageLoader:te,lastBlitData:K,hoverValues:ge,hyperWrapping:ae,hoverInfo:fe,spriteManager:he,maxScaleFactor:oe,hasAppendRow:$,touchMode:A,enqueue:U,renderStateProvider:re,getCellRenderer:le,renderStrategy:Ee,bufferACtx:we,bufferBCtx:at,damage:Ce,minimumCellWidth:ft,resizeIndicator:vt}=e;if(o===0||i===0)return;const _e=Ee==="double-buffer",ne=Math.min(oe,Math.ceil(window.devicePixelRatio??1)),ie=Ee!=="direct"&&Lv(e,t),be=n.canvas;(be.width!==o*ne||be.height!==i*ne)&&(be.width=o*ne,be.height=i*ne,be.style.width=o+"px",be.style.height=i+"px");const ce=r.canvas,ve=h?w+y:y,ze=ve+1;(ce.width!==o*ne||ce.height!==ze*ne)&&(ce.width=o*ne,ce.height=ze*ne,ce.style.width=o+"px",ce.style.height=ze+"px");const $e=we.canvas,Qe=at.canvas;_e&&($e.width!==o*ne||$e.height!==i*ne)&&($e.width=o*ne,$e.height=i*ne,K.current!==void 0&&(K.current.aBufferScroll=void 0)),_e&&(Qe.width!==o*ne||Qe.height!==i*ne)&&(Qe.width=o*ne,Qe.height=i*ne,K.current!==void 0&&(K.current.bBufferScroll=void 0));const Se=K.current;if(ie===!0&&a===Se?.cellXOffset&&l===Se?.cellYOffset&&s===Se?.translateX&&u===Se?.translateY)return;let qe=null;_e&&(qe=n);const Ie=r;let Me;_e?Ce!==void 0?Me=Se?.lastBuffer==="b"?at:we:Me=Se?.lastBuffer==="b"?we:at:Me=n;const Oe=Me.canvas,ct=_e?Oe===$e?Qe:$e:be,Je=typeof x=="number"?()=>x:x;Ie.save(),Me.save(),Ie.beginPath(),Me.beginPath(),Ie.textBaseline="middle",Me.textBaseline="middle",ne!==1&&(Ie.scale(ne,ne),Me.scale(ne,ne));const Xe=jl(c,a,o,f,s);let yt=[];const gt=m&&P.current?.cell[1]===l&&u===0;let Tt=!1;if(q!==void 0){for(const mt of q)if(mt.style!=="no-outline"&&mt.range.y===l&&u===0){Tt=!0;break}}const Ot=()=>{Iv(Ie,Xe,h,fe,o,s,y,w,f,M,P,p,he,ge,E,R,Ce,C,A),rc(Ie,Xe,l,s,u,o,i,void 0,void 0,w,ve,Je,T,E,k,H,p,!0),Ie.beginPath(),Ie.moveTo(0,ze-.5),Ie.lineTo(o,ze-.5),Ie.strokeStyle=$n(p.headerBottomBorderColor??p.horizontalBorderColor??p.borderColor,p.bgHeader),Ie.stroke(),Tt&&oc(Ie,o,i,a,l,s,u,c,g,y,w,x,k,H,q,p),gt&&yl(Ie,o,i,l,s,u,Xe,c,p,ve,P,Je,I,k,$,S,H)};if(Ce!==void 0){const mt=Xe[Xe.length-1].sourceIndex+1,qt=Ce.hasItemInRegion([{x:a,y:-2,width:mt,height:2},{x:a,y:l,width:mt,height:300},{x:0,y:l,width:g,height:300},{x:0,y:-2,width:g,height:2},{x:a,y:H-k,width:mt,height:k,when:k>0}]),kn=De=>{tc(De,Xe,c,i,ve,s,u,l,H,Je,I,R,T,v,D,m,k,$,yt,Ce,P,Q,q,te,he,ge,fe,j,ae,p,U,re,le,O,ft);const et=P.current;S!==!1&&S!==void 0&&m&&et!==void 0&&Ce.has(Zd(et.range))&&yl(De,o,i,l,s,u,Xe,c,p,ve,P,Je,I,k,$,S,H)};qt&&(kn(Me),qe!==null&&(qe.save(),qe.scale(ne,ne),qe.textBaseline="middle",kn(qe),qe.restore()),Ce.hasHeader()&&(zv(Ie,Xe,o,w,ve,s,u,l,Ce),Ot())),Me.restore(),Ie.restore();return}if((ie!==!0||a!==Se?.cellXOffset||s!==Se?.translateX||gt!==Se?.mustDrawFocusOnHeader||Tt!==Se?.mustDrawHighlightRingsOnHeader)&&Ot(),ie===!0){zn(ct!==void 0&&Se!==void 0);const{regions:mt}=Av(Me,ct,ct===$e?Se.aBufferScroll:Se.bBufferScroll,ct===$e?Se.bBufferScroll:Se.aBufferScroll,Se,a,l,s,u,k,o,i,H,ve,ne,c,Xe,x,_e);yt=mt}else ie!==!1&&(zn(Se!==void 0),yt=Fv(Se,a,l,s,u,o,i,ve,Xe,ie));Pv(Me,Xe,o,i,k,H,E,Je,p);const an=oc(Me,o,i,a,l,s,u,c,g,y,w,x,k,H,q,p),Kt=m?yl(Me,o,i,l,s,u,Xe,c,p,ve,P,Je,I,k,$,S,H):void 0;if(Me.fillStyle=p.bgCell,yt.length>0){Me.beginPath();for(const mt of yt)Me.rect(mt.x,mt.y,mt.width,mt.height);Me.clip(),Me.fill(),Me.beginPath()}else Me.fillRect(0,0,o,i);const En=tc(Me,Xe,c,i,ve,s,u,l,H,Je,I,R,T,v,D,m,k,$,yt,Ce,P,Q,q,te,he,ge,fe,j,ae,p,U,re,le,O,ft);Dv(Me,Xe,c,o,i,ve,s,u,l,H,Je,T,P.rows,v,k,$,yt,Ce,p),Hv(Me,Xe,l,s,u,o,i,yt,ve,Je,T,E,k,H,p),rc(Me,Xe,l,s,u,o,i,yt,En,w,ve,Je,T,E,k,H,p),an?.(),Kt?.(),M&&vt!=="none"&&Pr(Xe,0,s,0,ve,(mt,qt)=>mt.sourceIndex===ue?(ic(Ie,qt+mt.width,0,ve+1,$n(p.resizeIndicatorColor??p.accentLight,p.bgHeader)),vt==="full"&&ic(Me,qt+mt.width,ve,i,$n(p.resizeIndicatorColor??p.accentLight,p.bgCell)),!0):!1),qe!==null&&(qe.fillStyle=p.bgCell,qe.fillRect(0,0,o,i),qe.drawImage(Me.canvas,0,0));const Mt=$v(Xe,i,ve,s,u,l,H,Je,k,$);te?.setWindow({x:a,y:l,width:Xe.length,height:Mt-l},g,Array.from({length:k},(mt,qt)=>H-1-qt));const dt=Se!==void 0&&(a!==Se.cellXOffset||s!==Se.translateX),In=Se!==void 0&&(l!==Se.cellYOffset||u!==Se.translateY);K.current={cellXOffset:a,cellYOffset:l,translateX:s,translateY:u,mustDrawFocusOnHeader:gt,mustDrawHighlightRingsOnHeader:Tt,lastBuffer:_e?Oe===$e?"a":"b":void 0,aBufferScroll:Oe===$e?[dt,In]:Se?.aBufferScroll,bBufferScroll:Oe===Qe?[dt,In]:Se?.bBufferScroll},Me.restore(),Ie.restore()}const Nv=80;function Vv(e){const t=e-1;return t*t*t+1}class _v{callback;constructor(t){this.callback=t}currentHoveredItem=void 0;leavingItems=[];lastAnimationTime;addToLeavingItems=t=>{this.leavingItems.some(n=>fi(n.item,t.item))||this.leavingItems.push(t)};removeFromLeavingItems=t=>{const n=this.leavingItems.find(r=>fi(r.item,t));return this.leavingItems=this.leavingItems.filter(r=>r!==n),n?.hoverAmount??0};cleanUpLeavingElements=()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)};shouldStep=()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n};getAnimatingItems=()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:Vv(t.hoverAmount)}));step=t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const n=(t-this.lastAnimationTime)/Nv;for(const o of this.leavingItems)o.hoverAmount=jn(o.hoverAmount-n,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=jn(this.currentHoveredItem.hoverAmount+n,0,1));const r=this.getAnimatingItems();this.callback(r),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0};setHovered=t=>{if(!fi(this.currentHoveredItem?.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const n=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:n}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}}}class Wv{fn;val;constructor(t){this.fn=t}get value(){return this.val??(this.val=this.fn())}}function Cs(e){return new Wv(e)}const jv=Cs(()=>window.navigator.userAgent.includes("Firefox")),wa=Cs(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),ya=Cs(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Bv(e){const t=d.useRef([]),n=d.useRef(0),r=d.useRef(e);r.current=e;const o=d.useCallback(()=>{const i=()=>window.requestAnimationFrame(a),a=()=>{const l=t.current.map(xs);t.current=[],r.current(new gi(l)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?i:a)},[]);return d.useCallback(i=>{t.current.length===0&&o();const a=Zn(i[0],i[1]);t.current.includes(a)||t.current.push(a)},[o])}const Er="header",qn="group-header",xa="out-of-bounds";var Eo;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(Eo||(Eo={}));function wh(e,t){return e===t?!0:e?.kind==="out-of-bounds"?e?.kind===t?.kind&&e?.location[0]===t?.location[0]&&e?.location[1]===t?.location[1]&&e?.region[0]===t?.region[0]&&e?.region[1]===t?.region[1]:e?.kind===t?.kind&&e?.location[0]===t?.location[0]&&e?.location[1]===t?.location[1]}const Uv=(e,t)=>e.kind===Z.Custom?e.copyData:t?.(e)?.getAccessibilityString(e)??"",Xv=(e,t)=>{const{width:n,height:r,accessibilityHeight:o,columns:i,cellXOffset:a,cellYOffset:l,headerHeight:s,fillHandle:u=!1,groupHeaderHeight:c,rowHeight:h,rows:g,getCellContent:f,getRowThemeOverride:p,onHeaderMenuClick:m,onHeaderIndicatorClick:y,enableGroups:w,isFilling:v,onCanvasFocused:x,onCanvasBlur:E,isFocused:O,selection:M,freezeColumns:P,onContextMenu:S,freezeTrailingRows:k,fixedShadowX:H=!0,fixedShadowY:I=!0,drawFocusRing:R,onMouseDown:T,onMouseUp:D,onMouseMoveRaw:C,onMouseMove:Q,onItemHovered:j,dragAndDropState:q,firstColAccessible:ue,onKeyDown:te,onKeyUp:K,highlightRegions:ge,canvasRef:ae,onDragStart:fe,onDragEnd:he,eventTargetRef:oe,isResizing:$,resizeColumn:A,isDragging:U,isDraggable:re=!1,allowResize:le,disabledRows:Ee,hasAppendRow:we,getGroupDetails:at,theme:Ce,prelightCells:ft,headerIcons:vt,verticalBorder:_e,drawCell:ne,drawHeader:ie,onCellFocused:be,onDragOverCell:ce,onDrop:ve,onDragLeave:ze,imageWindowLoader:$e,smoothScrollX:Qe=!1,smoothScrollY:Se=!1,experimental:qe,getCellRenderer:Ie,resizeIndicator:Me="full"}=e,Oe=e.translateX??0,ct=e.translateY??0,Je=Math.max(P,Math.min(i.length-1,a)),Xe=d.useRef(null),yt=d.useRef(qe?.eventTarget??window),gt=yt.current,Tt=$e,Ot=d.useRef(),[an,Kt]=d.useState(!1),En=d.useRef([]),Mt=d.useRef(),[dt,In]=d.useState(),[mt,qt]=d.useState(),kn=d.useRef(null),[De,et]=d.useState(),[bt,Tn]=d.useState(!1),ln=d.useRef(bt);ln.current=bt;const sn=d.useMemo(()=>new xv(vt,()=>{dn.current=void 0,Mn.current()}),[vt]),On=w?c+s:s,Zt=d.useRef(-1),Qt=(qe?.enableFirefoxRescaling??!1)&&jv.value,Ne=(qe?.enableSafariRescaling??!1)&&wa.value;d.useLayoutEffect(()=>{window.devicePixelRatio===1||!Qt&&!Ne||(Zt.current!==-1&&Kt(!0),window.clearTimeout(Zt.current),Zt.current=window.setTimeout(()=>{Kt(!1),Zt.current=-1},200))},[l,Je,Oe,ct,Qt,Ne]);const xt=v0(i,P),Dn=d.useMemo(()=>H?Do(xt,q):0,[xt,q,H]),Ht=d.useCallback((N,ee,xe)=>{const Re=N.getBoundingClientRect();if(ee>=xt.length||xe>=g)return;const de=Re.width/n,pe=Bl(ee,xe,n,r,c,On,Je,l,Oe,ct,g,P,k,xt,h);return de!==1&&(pe.x*=de,pe.y*=de,pe.width*=de,pe.height*=de),pe.x+=Re.x,pe.y+=Re.y,pe},[n,r,c,On,Je,l,Oe,ct,g,P,k,xt,h]),ht=d.useCallback((N,ee,xe,Re)=>{const de=N.getBoundingClientRect(),pe=de.width/n,je=(ee-de.left)/pe,ke=(xe-de.top)/pe,Ye=5,pt=jl(xt,Je,n,void 0,Oe);let hn=0,Wt=0;const kt=typeof PointerEvent<"u"&&Re instanceof PointerEvent&&Re.pointerType==="mouse"||typeof MouseEvent<"u"&&Re instanceof MouseEvent,lt=typeof PointerEvent<"u"&&Re instanceof PointerEvent&&Re.pointerType==="touch"||typeof TouchEvent<"u"&&Re instanceof TouchEvent;kt&&(hn=Re.button,Wt=Re.buttons);const Be=x0(je,pt,Oe),ut=k0(ke,r,w,s,c,g,h,l,ct,k),Nt=Re?.shiftKey===!0,so=Re?.ctrlKey===!0,zr=Re?.metaKey===!0,en=[je<0?-1:n<je?1:0,ke<On?-1:r<ke?1:0];let un;if(Be===-1||ke<0||je<0||ut===void 0||je>n||ke>r){const Ft=je>n?1:je<0?-1:0,_n=ke>r?1:ke<0?-1:0;let pn=Ft*2,hr=_n*2;Ft===0&&(pn=Be===-1?Eo.EndPadding:Eo.Center),_n===0&&(hr=ut===void 0?Eo.EndPadding:Eo.Center);let fr=!1;if(Be===-1&&ut===-1){const tn=Ht(N,xt.length-1,-1);zn(tn!==void 0),fr=ee<tn.x+tn.width+Ye}const st=je>n&&je<n+Nl()||ke>r&&ke<r+Nl();un={kind:xa,location:[Be!==-1?Be:je<0?0:xt.length-1,ut??g-1],region:[pn,hr],shiftKey:Nt,ctrlKey:so,metaKey:zr,isEdge:fr,isTouch:lt,button:hn,buttons:Wt,scrollEdge:en,isMaybeScrollbar:st}}else if(ut<=-1){let Ft=Ht(N,Be,ut);zn(Ft!==void 0);let _n=Ft!==void 0&&Ft.x+Ft.width-ee<=Ye;const pn=Be-1;ee-Ft.x<=Ye&&pn>=0?(_n=!0,Ft=Ht(N,pn,ut),zn(Ft!==void 0),un={kind:w&&ut===-2?qn:Er,location:[pn,ut],bounds:Ft,group:xt[pn].group??"",isEdge:_n,shiftKey:Nt,ctrlKey:so,metaKey:zr,isTouch:lt,localEventX:ee-Ft.x,localEventY:xe-Ft.y,button:hn,buttons:Wt,scrollEdge:en}):un={kind:w&&ut===-2?qn:Er,group:xt[Be].group??"",location:[Be,ut],bounds:Ft,isEdge:_n,shiftKey:Nt,ctrlKey:so,metaKey:zr,isTouch:lt,localEventX:ee-Ft.x,localEventY:xe-Ft.y,button:hn,buttons:Wt,scrollEdge:en}}else{const Ft=Ht(N,Be,ut);zn(Ft!==void 0);const _n=Ft!==void 0&&Ft.x+Ft.width-ee<Ye;let pn=!1;if(u!==!1&&u!==void 0&&M.current!==void 0){const hr=typeof u=="object"?{...ga,...u}:ga,fr=hr.size,st=fr/2,tn=Zd(M.current.range),rr=Ht(N,tn[0],tn[1]);if(rr!==void 0){const Pi=rr.x+rr.width+hr.offsetX-st+.5,pr=rr.y+rr.height+hr.offsetY-st+.5;pn=Math.abs(Pi-ee)<fr&&Math.abs(pr-xe)<fr}}un={kind:"cell",location:[Be,ut],bounds:Ft,isEdge:_n,shiftKey:Nt,ctrlKey:so,isFillHandle:pn,metaKey:zr,isTouch:lt,localEventX:ee-Ft.x,localEventY:xe-Ft.y,button:hn,buttons:Wt,scrollEdge:en}}return un},[n,xt,Je,Oe,r,w,s,c,g,h,l,ct,k,Ht,u,M,On]),[Cn]=dt??[],cr=d.useRef(()=>{}),Nn=d.useRef(dt);Nn.current=dt;const[_,Ve]=d.useMemo(()=>{const N=document.createElement("canvas"),ee=document.createElement("canvas");return N.style.display="none",N.style.opacity="0",N.style.position="fixed",ee.style.display="none",ee.style.opacity="0",ee.style.position="fixed",[N.getContext("2d",{alpha:!1}),ee.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>{if(!(_===null||Ve===null))return document.documentElement.append(_.canvas),document.documentElement.append(Ve.canvas),()=>{_.canvas.remove(),Ve.canvas.remove()}},[_,Ve]);const We=d.useMemo(()=>new D0,[]),Dt=Qt&&an?1:Ne&&an?2:5,Jt=qe?.disableMinimumCellWidth===!0?1:10,dn=d.useRef(),Sn=d.useRef(null),bn=d.useRef(null),Vt=d.useCallback(()=>{const N=Xe.current,ee=kn.current;if(N===null||ee===null||(Sn.current===null&&(Sn.current=N.getContext("2d",{alpha:!1}),N.width=0,N.height=0),bn.current===null&&(bn.current=ee.getContext("2d",{alpha:!1}),ee.width=0,ee.height=0),Sn.current===null||bn.current===null||_===null||Ve===null))return;let xe=!1;const Re=je=>{xe=!0,et(je)},de=dn.current,pe={headerCanvasCtx:bn.current,canvasCtx:Sn.current,bufferACtx:_,bufferBCtx:Ve,width:n,height:r,cellXOffset:Je,cellYOffset:l,translateX:Math.round(Oe),translateY:Math.round(ct),mappedColumns:xt,enableGroups:w,freezeColumns:P,dragAndDropState:q,theme:Ce,headerHeight:s,groupHeaderHeight:c,disabledRows:Ee??Ze.empty(),rowHeight:h,verticalBorder:_e,isResizing:$,resizeCol:A,isFocused:O,selection:M,fillHandle:u,drawCellCallback:ne,hasAppendRow:we,overrideCursor:Re,maxScaleFactor:Dt,freezeTrailingRows:k,rows:g,drawFocus:R,getCellContent:f,getGroupDetails:at??(je=>({name:je})),getRowThemeOverride:p,drawHeaderCallback:ie,prelightCells:ft,highlightRegions:ge,imageLoader:Tt,lastBlitData:Mt,damage:Ot.current,hoverValues:En.current,hoverInfo:Nn.current,spriteManager:sn,scrolling:an,hyperWrapping:qe?.hyperWrapping??!1,touchMode:bt,enqueue:cr.current,renderStateProvider:We,renderStrategy:qe?.renderStrategy??(wa.value?"double-buffer":"single-buffer"),getCellRenderer:Ie,minimumCellWidth:Jt,resizeIndicator:Me};pe.damage===void 0?(dn.current=pe,ac(pe,de)):ac(pe,void 0),!xe&&(pe.damage===void 0||pe.damage.has(Nn?.current?.[0]))&&et(void 0)},[_,Ve,n,r,Je,l,Oe,ct,xt,w,P,q,Ce,s,c,Ee,h,_e,$,we,A,O,M,u,k,g,R,Dt,f,at,p,ne,ie,ft,ge,Tt,sn,an,qe?.hyperWrapping,qe?.renderStrategy,bt,We,Ie,Jt,Me]),Mn=d.useRef(Vt);d.useLayoutEffect(()=>{Vt(),Mn.current=Vt},[Vt]),d.useLayoutEffect(()=>{(async()=>document?.fonts?.ready!==void 0&&(await document.fonts.ready,dn.current=void 0,Mn.current()))()},[]);const Rn=d.useCallback(N=>{Ot.current=N,Mn.current(),Ot.current=void 0},[]),ye=Bv(Rn);cr.current=ye;const At=d.useCallback(N=>{Rn(new gi(N.map(ee=>ee.cell)))},[Rn]);Tt.setCallback(Rn);const[Gt,Vn]=d.useState(!1),[Yt,Bt]=Cn??[],Ut=Yt!==void 0&&Bt===-1&&Yt>=0&&Yt<xt.length&&xt[Yt].headerRowMarkerDisabled!==!0,Pn=Yt!==void 0&&Bt===-2;let Hn=!1,Ei=!1,Hr=De;if(Hr===void 0&&Yt!==void 0&&Bt!==void 0&&Bt>-1&&Bt<g){const N=f([Yt,Bt],!0);Hn=N.kind===Bn.NewRow||N.kind===Bn.Marker&&N.markerKind!=="number",Ei=N.kind===Z.Boolean&&as(N),Hr=N.cursor}const Ho=U?"grabbing":(mt??!1)||$?"col-resize":Gt||v?"crosshair":Hr!==void 0?Hr:Ut||Hn||Ei||Pn?"pointer":"default",Ao=d.useMemo(()=>({contain:"strict",display:"block",cursor:Ho}),[Ho]),Fo=d.useRef("default"),Un=oe?.current;Un!=null&&Fo.current!==Ao.cursor&&(Un.style.cursor=Fo.current=Ao.cursor);const fn=d.useCallback((N,ee,xe,Re)=>{if(at===void 0)return;const de=at(N);if(de.actions!==void 0){const pe=gh(ee,de.actions);for(const[je,ke]of pe.entries())if(Yr(ke,xe+ee.x,Re+ke.y))return de.actions[je]}},[at]),br=d.useCallback((N,ee,xe,Re)=>{const de=xt[ee];if(!U&&!$&&!(mt??!1)){const pe=Ht(N,ee,-1);zn(pe!==void 0);const je=mh(void 0,de,pe.x,pe.y,pe.width,pe.height,Ce,us(de.title)==="rtl");if(de.hasMenu===!0&&je.menuBounds!==void 0&&Yr(je.menuBounds,xe,Re))return{area:"menu",bounds:je.menuBounds};if(de.indicatorIcon!==void 0&&je.indicatorIconBounds!==void 0&&Yr(je.indicatorIconBounds,xe,Re))return{area:"indicator",bounds:je.indicatorIconBounds}}},[xt,Ht,mt,U,$,Ce]),to=d.useRef(0),wr=d.useRef(),no=d.useRef(!1),Ii=d.useCallback(N=>{const ee=Xe.current,xe=oe?.current;if(ee===null||N.target!==ee&&N.target!==xe)return;no.current=!0;const Re=N.clientX,de=N.clientY;if(N.target===xe&&xe!==null){const je=xe.getBoundingClientRect();if(Re>je.right||de>je.bottom)return}const pe=ht(ee,Re,de,N);wr.current=pe.location,pe.isTouch&&(to.current=Date.now()),ln.current!==pe.isTouch&&Tn(pe.isTouch),!(pe.kind===Er&&br(ee,pe.location[0],Re,de)!==void 0)&&(pe.kind===qn&&fn(pe.group,pe.bounds,pe.localEventX,pe.localEventY)!==void 0||(T?.(pe),!pe.isTouch&&re!==!0&&re!==pe.kind&&pe.button<3&&pe.button!==1&&N.preventDefault()))},[oe,re,ht,fn,br,T]);xn("pointerdown",Ii,gt,!1);const Ar=d.useRef(0),ro=d.useCallback(N=>{const ee=Ar.current;Ar.current=Date.now();const xe=Xe.current;if(no.current=!1,D===void 0||xe===null)return;const Re=oe?.current,de=N.target!==xe&&N.target!==Re,pe=N.clientX,je=N.clientY,ke=N.pointerType==="mouse"?N.button<3:!0;let Ye=ht(xe,pe,je,N);Ye.isTouch&&to.current!==0&&Date.now()-to.current>500&&(Ye={...Ye,isLongTouch:!0}),ee!==0&&Date.now()-ee<(Ye.isTouch?1e3:500)&&(Ye={...Ye,isDoubleClick:!0}),ln.current!==Ye.isTouch&&Tn(Ye.isTouch),!de&&N.cancelable&&ke&&N.preventDefault();const[pt]=Ye.location,hn=br(xe,pt,pe,je);if(Ye.kind===Er&&hn!==void 0){(Ye.button!==0||wr.current?.[0]!==pt||wr.current?.[1]!==-1)&&D(Ye,!0);return}else if(Ye.kind===qn){const Wt=fn(Ye.group,Ye.bounds,Ye.localEventX,Ye.localEventY);if(Wt!==void 0){Ye.button===0&&Wt.onClick(Ye);return}}D(Ye,de)},[D,oe,ht,br,fn]);xn("pointerup",ro,gt,!1);const yr=d.useCallback(N=>{const ee=Xe.current;if(ee===null)return;const xe=oe?.current,Re=N.target!==ee&&N.target!==xe;let de,pe,je=!0;N instanceof MouseEvent?(de=N.clientX,pe=N.clientY,je=N.button<3):(de=N.changedTouches[0].clientX,pe=N.changedTouches[0].clientY);const ke=ht(ee,de,pe,N);ln.current!==ke.isTouch&&Tn(ke.isTouch),!Re&&N.cancelable&&je&&N.preventDefault();const[Ye]=ke.location;if(ke.kind===Er){const pt=br(ee,Ye,de,pe);pt!==void 0&&ke.button===0&&wr.current?.[0]===Ye&&wr.current?.[1]===-1&&(pt.area==="menu"?m?.(Ye,pt.bounds):pt.area==="indicator"&&y?.(Ye,pt.bounds))}},[oe,ht,br,m,y]);xn("click",yr,gt,!1);const oo=d.useCallback(N=>{const ee=Xe.current,xe=oe?.current;if(ee===null||N.target!==ee&&N.target!==xe||S===void 0)return;const Re=ht(ee,N.clientX,N.clientY,N);S(Re,()=>{N.cancelable&&N.preventDefault()})},[oe,ht,S]);xn("contextmenu",oo,oe?.current??null,!1);const Ti=d.useCallback(N=>{Ot.current=new gi(N.map(ee=>ee.item)),En.current=N,Mn.current(),Ot.current=void 0},[]),Lo=d.useMemo(()=>new _v(Ti),[Ti]),Fe=d.useRef(Lo);Fe.current=Lo,d.useLayoutEffect(()=>{const N=Fe.current;if(Cn===void 0||Cn[1]<0){N.setHovered(Cn);return}const ee=f(Cn,!0),xe=Ie(ee),Re=xe===void 0&&ee.kind===Z.Custom||xe?.needsHover!==void 0&&(typeof xe.needsHover=="boolean"?xe.needsHover:xe.needsHover(ee));N.setHovered(Re?Cn:void 0)},[f,Ie,Cn]);const zo=d.useRef(),za=d.useCallback(N=>{const ee=Xe.current;if(ee===null)return;const xe=oe?.current,Re=N.target!==ee&&N.target!==xe,de=ht(ee,N.clientX,N.clientY,N);if(de.kind!=="out-of-bounds"&&Re&&!no.current&&!de.isTouch)return;const pe=(ke,Ye)=>{In(pt=>pt===ke||pt?.[0][0]===ke?.[0][0]&&pt?.[0][1]===ke?.[0][1]&&(pt?.[1][0]===ke?.[1][0]&&pt?.[1][1]===ke?.[1][1]||!Ye)?pt:ke)};if(!wh(de,zo.current))et(void 0),j?.(de),pe(de.kind===xa?void 0:[de.location,[de.localEventX,de.localEventY]],!0),zo.current=de;else if(de.kind==="cell"||de.kind===Er||de.kind===qn){let ke=!1,Ye=!0;if(de.kind==="cell"){const hn=f(de.location);Ye=Ie(hn)?.needsHoverPosition??hn.kind===Z.Custom,ke=Ye}else ke=!0;const pt=[de.location,[de.localEventX,de.localEventY]];pe(pt,Ye),Nn.current=pt,ke&&Rn(new gi([de.location]))}const je=de.location[0]>=(ue?0:1);qt(de.kind===Er&&de.isEdge&&je&&le===!0),Vn(de.kind==="cell"&&de.isFillHandle),C?.(N),Q(de)},[oe,ht,ue,le,C,Q,j,f,Ie,Rn]);xn("pointermove",za,gt,!0);const Fr=d.useCallback(N=>{const ee=Xe.current;if(ee===null)return;let xe,Re;M.current!==void 0&&(xe=Ht(ee,M.current.cell[0],M.current.cell[1]),Re=M.current.cell),te?.({bounds:xe,stopPropagation:()=>N.stopPropagation(),preventDefault:()=>N.preventDefault(),cancel:()=>{},ctrlKey:N.ctrlKey,metaKey:N.metaKey,shiftKey:N.shiftKey,altKey:N.altKey,key:N.key,keyCode:N.keyCode,rawEvent:N,location:Re})},[te,M,Ht]),$a=d.useCallback(N=>{const ee=Xe.current;if(ee===null)return;let xe,Re;M.current!==void 0&&(xe=Ht(ee,M.current.cell[0],M.current.cell[1]),Re=M.current.cell),K?.({bounds:xe,stopPropagation:()=>N.stopPropagation(),preventDefault:()=>N.preventDefault(),cancel:()=>{},ctrlKey:N.ctrlKey,metaKey:N.metaKey,shiftKey:N.shiftKey,altKey:N.altKey,key:N.key,keyCode:N.keyCode,rawEvent:N,location:Re})},[K,M,Ht]),tr=d.useCallback(N=>{if(Xe.current=N,ae!==void 0&&(ae.current=N),qe?.eventTarget)yt.current=qe.eventTarget;else if(N===null)yt.current=window;else{const ee=N.getRootNode();ee===document&&(yt.current=window),yt.current=ee}},[ae,qe?.eventTarget]),$o=d.useCallback(N=>{const ee=Xe.current;if(ee===null||re===!1||$){N.preventDefault();return}let xe,Re;const de=ht(ee,N.clientX,N.clientY);if(re!==!0&&de.kind!==re){N.preventDefault();return}const pe=(Wt,kt)=>{xe=Wt,Re=kt};let je,ke,Ye;const pt=(Wt,kt,lt)=>{je=Wt,ke=kt,Ye=lt};let hn=!1;if(fe?.({...de,setData:pe,setDragImage:pt,preventDefault:()=>hn=!0,defaultPrevented:()=>hn}),!hn&&xe!==void 0&&Re!==void 0&&N.dataTransfer!==null)if(N.dataTransfer.setData(xe,Re),N.dataTransfer.effectAllowed="copyLink",je!==void 0&&ke!==void 0&&Ye!==void 0)N.dataTransfer.setDragImage(je,ke,Ye);else{const[Wt,kt]=de.location;if(kt!==void 0){const lt=document.createElement("canvas"),Be=Ht(ee,Wt,kt);zn(Be!==void 0);const ut=Math.ceil(window.devicePixelRatio??1);lt.width=Be.width*ut,lt.height=Be.height*ut;const Nt=lt.getContext("2d");Nt!==null&&(Nt.scale(ut,ut),Nt.textBaseline="middle",kt===-1?(Nt.font=Ce.headerFontFull,Nt.fillStyle=Ce.bgHeader,Nt.fillRect(0,0,lt.width,lt.height),vh(Nt,0,0,Be.width,Be.height,xt[Wt],!1,Ce,!1,void 0,void 0,!1,0,sn,ie,!1)):(Nt.font=Ce.baseFontFull,Nt.fillStyle=Ce.bgCell,Nt.fillRect(0,0,lt.width,lt.height),ph(Nt,f([Wt,kt]),0,kt,!1,!1,0,0,Be.width,Be.height,!1,Ce,Ce.bgCell,Tt,sn,1,void 0,!1,0,void 0,void 0,void 0,We,Ie,()=>{}))),lt.style.left="-100%",lt.style.position="absolute",lt.style.width=`${Be.width}px`,lt.style.height=`${Be.height}px`,document.body.append(lt),N.dataTransfer.setDragImage(lt,Be.width/2,Be.height/2),window.setTimeout(()=>{lt.remove()},0)}}else N.preventDefault()},[re,$,ht,fe,Ht,Ce,xt,sn,ie,f,Tt,We,Ie]);xn("dragstart",$o,oe?.current??null,!1,!1);const io=d.useRef(),Oi=d.useCallback(N=>{const ee=Xe.current;if(ve!==void 0&&N.preventDefault(),ee===null||ce===void 0)return;const xe=ht(ee,N.clientX,N.clientY),[Re,de]=xe.location,pe=Re-(ue?0:1),[je,ke]=io.current??[];(je!==pe||ke!==de)&&(io.current=[pe,de],ce([pe,de],N.dataTransfer))},[ue,ht,ce,ve]);xn("dragover",Oi,oe?.current??null,!1,!1);const Na=d.useCallback(()=>{io.current=void 0,he?.()},[he]);xn("dragend",Na,oe?.current??null,!1,!1);const Va=d.useCallback(N=>{const ee=Xe.current;if(ee===null||ve===void 0)return;N.preventDefault();const xe=ht(ee,N.clientX,N.clientY),[Re,de]=xe.location,pe=Re-(ue?0:1);ve([pe,de],N.dataTransfer)},[ue,ht,ve]);xn("drop",Va,oe?.current??null,!1,!1);const nr=d.useCallback(()=>{ze?.()},[ze]);xn("dragleave",nr,oe?.current??null,!1,!1);const dr=d.useRef(M);dr.current=M;const wn=d.useRef(null),B=d.useCallback(N=>{Xe.current===null||!Xe.current.contains(document.activeElement)||(N===null&&dr.current.current!==void 0?ae?.current?.focus({preventScroll:!0}):N!==null&&N.focus({preventScroll:!0}),wn.current=N)},[ae]);d.useImperativeHandle(t,()=>({focus:()=>{const N=wn.current;N===null||!document.contains(N)?ae?.current?.focus({preventScroll:!0}):N.focus({preventScroll:!0})},getBounds:(N,ee)=>{if(!(ae===void 0||ae.current===null))return Ht(ae.current,N??0,ee??-1)},damage:At,getMouseArgsForPosition:(N,ee,xe)=>{if(!(ae===void 0||ae.current===null))return ht(ae.current,N,ee,xe)}}),[ae,At,Ht,ht]);const zt=d.useRef(),Lr=ym(()=>{if(n<50||qe?.disableAccessibilityTree===!0)return null;let N=jl(xt,Je,n,q,Oe);const ee=ue?0:-1;!ue&&N[0]?.sourceIndex===0&&(N=N.slice(1));const[xe,Re]=M.current?.cell??[],de=M.current?.range,pe=N.map(ke=>ke.sourceIndex),je=Tr(l,Math.min(g,l+o));return xe!==void 0&&Re!==void 0&&!(pe.includes(xe)&&je.includes(Re))&&B(null),d.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":g+1,"aria-multiselectable":"true","aria-colcount":xt.length+ee},d.createElement("thead",{role:"rowgroup"},d.createElement("tr",{role:"row","aria-rowindex":1},N.map(ke=>d.createElement("th",{role:"columnheader","aria-selected":M.columns.hasIndex(ke.sourceIndex),"aria-colindex":ke.sourceIndex+1+ee,tabIndex:-1,onFocus:Ye=>{if(Ye.target!==wn.current)return be?.([ke.sourceIndex,-1])},key:ke.sourceIndex},ke.title)))),d.createElement("tbody",{role:"rowgroup"},je.map(ke=>d.createElement("tr",{role:"row","aria-selected":M.rows.hasIndex(ke),key:ke,"aria-rowindex":ke+2},N.map(Ye=>{const pt=Ye.sourceIndex,hn=Zn(pt,ke),Wt=xe===pt&&Re===ke,kt=de!==void 0&&pt>=de.x&&pt<de.x+de.width&&ke>=de.y&&ke<de.y+de.height,lt=`glide-cell-${pt}-${ke}`,Be=[pt,ke],ut=f(Be,!0);return d.createElement("td",{key:hn,role:"gridcell","aria-colindex":pt+1+ee,"aria-selected":kt,"aria-readonly":Mo(ut)||!Co(ut),id:lt,"data-testid":lt,onClick:()=>{const Nt=ae?.current;if(Nt!=null)return te?.({bounds:Ht(Nt,pt,ke),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Be})},onFocusCapture:Nt=>{if(!(Nt.target===wn.current||zt.current?.[0]===pt&&zt.current?.[1]===ke))return zt.current=Be,be?.(Be)},ref:Wt?B:void 0,tabIndex:-1},Uv(ut,Ie))})))))},[n,xt,Je,q,Oe,g,l,o,M,B,f,ae,te,Ht,be],200),ao=P===0||!H?0:Je>P?1:jn(-Oe/100,0,1),Di=-l*32+ct,lo=I?jn(-Di/100,0,1):0,_a=d.useMemo(()=>{if(!ao&&!lo)return null;const N={position:"absolute",top:0,left:Dn,width:n-Dn,height:r,opacity:ao,pointerEvents:"none",transition:Qe?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},ee={position:"absolute",top:On,left:0,width:n,height:r,opacity:lo,pointerEvents:"none",transition:Se?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return d.createElement(d.Fragment,null,ao>0&&d.createElement("div",{id:"shadow-x",style:N}),lo>0&&d.createElement("div",{id:"shadow-y",style:ee}))},[ao,lo,Dn,n,Qe,On,r,Se]),G=d.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return d.createElement(d.Fragment,null,d.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:Fr,onKeyUp:$a,onFocus:x,onBlur:E,ref:tr,style:Ao},Lr),d.createElement("canvas",{ref:kn,style:G}),_a)},Gv=d.memo(d.forwardRef(Xv));function ii(e,t,n,r){return jn(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(r))}const Yv=e=>{const[t,n]=d.useState(),[r,o]=d.useState(),[i,a]=d.useState(),[l,s]=d.useState(),[u,c]=d.useState(!1),[h,g]=d.useState(),[f,p]=d.useState(),[m,y]=d.useState(),[w,v]=d.useState(!1),[x,E]=d.useState(),{onHeaderMenuClick:O,onHeaderIndicatorClick:M,getCellContent:P,onColumnMoved:S,onColumnResize:k,onColumnResizeStart:H,onColumnResizeEnd:I,gridRef:R,maxColumnWidth:T,minColumnWidth:D,onRowMoved:C,lockColumns:Q,onColumnProposeMove:j,onMouseDown:q,onMouseUp:ue,onItemHovered:te,onDragStart:K,canvasRef:ge}=e,ae=(k??I??H)!==void 0,{columns:fe,selection:he}=e,oe=he.columns,$=d.useCallback(ne=>{const[ie,be]=ne.location;i!==void 0&&l!==ie&&ie>=Q?(c(!0),s(ie)):f!==void 0&&be!==void 0?(v(!0),y(Math.max(0,be))):r===void 0&&!u&&!w&&te?.(ne)},[i,f,l,te,Q,r,u,w]),A=S!==void 0,U=d.useCallback(ne=>{if(ne.button===0){const[ie,be]=ne.location;if(ne.kind==="out-of-bounds"&&ne.isEdge&&ae){const ce=R?.current?.getBounds(fe.length-1,-1);ce!==void 0&&(n(ce.x),o(fe.length-1))}else if(ne.kind==="header"&&ie>=Q){const ce=ge?.current;if(ne.isEdge&&ae&&ce){n(ne.bounds.x),o(ie);const ve=ce.getBoundingClientRect().width/ce.offsetWidth,ze=ne.bounds.width/ve;H?.(fe[ie],ze,ie,ze+(fe[ie].growOffset??0))}else ne.kind==="header"&&A&&(g(ne.bounds.x),a(ie))}else ne.kind==="cell"&&Q>0&&ie===0&&be!==void 0&&C!==void 0&&(E(ne.bounds.y),p(be))}q?.(ne)},[q,ae,Q,C,R,fe,A,H,ge]),re=d.useCallback((ne,ie)=>{u||w||O?.(ne,ie)},[u,w,O]),le=d.useCallback((ne,ie)=>{u||w||M?.(ne,ie)},[u,w,M]),Ee=d.useRef(-1),we=d.useCallback(()=>{Ee.current=-1,p(void 0),y(void 0),E(void 0),v(!1),a(void 0),s(void 0),g(void 0),c(!1),o(void 0),n(void 0)},[]),at=d.useCallback((ne,ie)=>{if(ne.button===0){if(r!==void 0){if(oe?.hasIndex(r)===!0)for(const ce of oe){if(ce===r)continue;const ve=fe[ce],ze=ii(ve,Ee.current,D,T);k?.(ve,ze,ce,ze+(ve.growOffset??0))}const be=ii(fe[r],Ee.current,D,T);if(I?.(fe[r],be,r,be+(fe[r].growOffset??0)),oe.hasIndex(r))for(const ce of oe){if(ce===r)continue;const ve=fe[ce],ze=ii(ve,Ee.current,D,T);I?.(ve,ze,ce,ze+(ve.growOffset??0))}}we(),i!==void 0&&l!==void 0&&j?.(i,l)!==!1&&S?.(i,l),f!==void 0&&m!==void 0&&C?.(f,m)}ue?.(ne,ie)},[ue,r,i,l,f,m,oe,I,fe,D,T,k,S,C,we,j]),Ce=d.useMemo(()=>{if(!(i===void 0||l===void 0)&&i!==l&&j?.(i,l)!==!1)return{src:i,dest:l}},[i,l,j]),ft=d.useCallback(ne=>{const ie=ge?.current;if(i!==void 0&&h!==void 0)Math.abs(ne.clientX-h)>20&&c(!0);else if(f!==void 0&&x!==void 0)Math.abs(ne.clientY-x)>20&&v(!0);else if(r!==void 0&&t!==void 0&&ie){const be=ie.getBoundingClientRect().width/ie.offsetWidth,ce=(ne.clientX-t)/be,ve=fe[r],ze=ii(ve,ce,D,T);if(k?.(ve,ze,r,ze+(ve.growOffset??0)),Ee.current=ce,oe?.first()===r)for(const $e of oe){if($e===r)continue;const Qe=fe[$e],Se=ii(Qe,Ee.current,D,T);k?.(Qe,Se,$e,Se+(Qe.growOffset??0))}}},[i,h,f,x,r,t,fe,D,T,k,oe,ge]),vt=d.useCallback((ne,ie)=>{if(f===void 0||m===void 0)return P(ne,ie);let[be,ce]=ne;return ce===m?ce=f:(ce>m&&(ce-=1),ce>=f&&(ce+=1)),P([be,ce],ie)},[f,m,P]),_e=d.useCallback(ne=>{K?.(ne),ne.defaultPrevented()||we()},[we,K]);return d.createElement(Gv,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,resizeIndicator:e.resizeIndicator,verticalBorder:e.verticalBorder,width:e.width,getCellContent:vt,isResizing:r!==void 0,onHeaderMenuClick:re,onHeaderIndicatorClick:le,isDragging:u,onItemHovered:$,onDragStart:_e,onMouseDown:U,allowResize:ae,onMouseUp:at,dragAndDropState:Ce,onMouseMoveRaw:ft,ref:R})};function Kv(e){const t=d.useRef(null),[n,r]=d.useState({width:e?.[0],height:e?.[1]});return d.useLayoutEffect(()=>{const o=a=>{for(const l of a){const{width:s,height:u}=l&&l.contentRect||{};r(c=>c.width===s&&c.height===u?c:{width:s,height:u})}},i=new window.ResizeObserver(o);return t.current&&i.observe(t.current,void 0),()=>{i.disconnect()}},[t.current]),{ref:t,...n}}const qv=(e,t,n)=>{const r=d.useRef(null),o=d.useRef(null),i=d.useRef(null),a=d.useRef(0),l=d.useRef(t);l.current=t;const s=n.current;d.useEffect(()=>{const u=()=>{if(o.current===!1&&s!==null){const g=[s.scrollLeft,s.scrollTop];if(i.current?.[0]===g[0]&&i.current?.[1]===g[1])if(a.current>10){i.current=null,o.current=null;return}else a.current++;else a.current=0,l.current(g[0],g[1]),i.current=g;r.current=window.setTimeout(u,8.333333333333334)}},c=()=>{o.current=!0,i.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},h=g=>{g.touches.length===0&&(o.current=!1,a.current=0,r.current=window.setTimeout(u,8.333333333333334))};if(e&&s!==null){const g=s;return g.addEventListener("touchstart",c),g.addEventListener("touchend",h),()=>{g.removeEventListener("touchstart",c),g.removeEventListener("touchend",h),r.current!==null&&window.clearTimeout(r.current)}}},[e,s])},Zv=()=>e=>e.isSafari?"scroll":"auto",Qv=cn("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[Zv()]}}),Jv=33554400,e1=5e6;function t1(e){const[t,n]=d.useState(!1),r=typeof window>"u"?null:window,o=d.useRef(0);return xn("touchstart",d.useCallback(()=>{window.clearTimeout(o.current),n(!0)},[]),r,!0,!1),xn("touchend",d.useCallback(i=>{i.touches.length===0&&(o.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const n1=e=>{const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:o,update:i,draggable:a,className:l,preventDiagonalScrolling:s=!1,paddingBottom:u=0,paddingRight:c=0,rightElement:h,rightElementProps:g,kineticScrollPerfHack:f=!1,scrollRef:p,initialSize:m}=e,y=[],w=g?.sticky??!1,v=g?.fill??!1,x=d.useRef(0),E=d.useRef(0),O=d.useRef(null),M=typeof window>"u"?1:window.devicePixelRatio,P=d.useRef(M);d.useEffect(()=>{if(P.current!==M){x.current=0,E.current=0,P.current=M;const he=O.current;he!==null&&C.current(he.scrollLeft,he.scrollTop)}},[M]);const S=d.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),k=d.useRef(null),H=t1(200),[I,R]=d.useState(!0),T=d.useRef(0);d.useLayoutEffect(()=>{if(!I||H||S.current.lockDirection===void 0)return;const he=O.current;if(he===null)return;const[oe,$]=S.current.lockDirection;oe!==void 0?he.scrollLeft=oe:$!==void 0&&(he.scrollTop=$),S.current.lockDirection=void 0},[H,I]);const D=d.useCallback((he,oe)=>{const $=O.current;if($===null)return;oe=oe??$.scrollTop,he=he??$.scrollLeft;const A=S.current.scrollTop,U=S.current.scrollLeft,re=he-U,le=oe-A;H&&re!==0&&le!==0&&(Math.abs(re)>3||Math.abs(le)>3)&&s&&S.current.lockDirection===void 0&&(S.current.lockDirection=Math.abs(re)<Math.abs(le)?[U,void 0]:[void 0,A]);const Ee=S.current.lockDirection;he=Ee?.[0]??he,oe=Ee?.[1]??oe,S.current.scrollLeft=he,S.current.scrollTop=oe;const we=$.clientWidth,at=$.clientHeight,Ce=oe,ft=E.current-Ce,vt=$.scrollHeight-at;E.current=Ce;let _e;if(vt>0&&r>$.scrollHeight+5)if(Math.abs(ft)>2e3||Ce===0||Ce===vt){const ne=Math.max(0,Math.min(1,Ce/vt)),ie=r-at;_e=ne*ie,x.current=_e}else x.current-=ft,_e=x.current;else _e=Ce,x.current=_e;_e=Math.max(0,Math.min(_e,r-at)),x.current=_e,Ee!==void 0&&(window.clearTimeout(T.current),R(!1),T.current=window.setTimeout(()=>R(!0),200)),i({x:he,y:_e,width:we-c,height:at-u,paddingRight:k.current?.clientWidth??0})},[u,c,r,i,s,H]);qv(f&&wa.value,D,O);const C=d.useRef(D);C.current=D;const Q=d.useRef(),j=d.useRef(!1);d.useLayoutEffect(()=>{j.current?D():j.current=!0},[D,u,c]);const q=d.useCallback(he=>{O.current=he,p!==void 0&&(p.current=he)},[p]);let ue=0,te=0;const K=Math.min(r,Jv);for(y.push(d.createElement("div",{key:ue++,style:{width:o,height:0}}));te<K;){const he=Math.min(e1,K-te);y.push(d.createElement("div",{key:ue++,style:{width:0,height:he}})),te+=he}const{ref:ge,width:ae,height:fe}=Kv(m);return typeof window<"u"&&(Q.current?.height!==fe||Q.current?.width!==ae)&&(window.setTimeout(()=>C.current(),0),Q.current={width:ae,height:fe}),(ae??0)===0||(fe??0)===0?d.createElement("div",{ref:ge}):d.createElement("div",{ref:ge},d.createElement(Qv,{isSafari:wa.value},d.createElement("div",{className:"dvn-underlay"},t),d.createElement("div",{ref:q,style:Q.current,draggable:a,onDragStart:he=>{a||(he.stopPropagation(),he.preventDefault())},className:"dvn-scroller "+(l??""),onScroll:()=>D()},d.createElement("div",{className:"dvn-scroll-inner"+(h===void 0?" dvn-hidden":"")},d.createElement("div",{className:"dvn-stack"},y),h!==void 0&&d.createElement(d.Fragment,null,!v&&d.createElement("div",{className:"dvn-spacer"}),d.createElement("div",{ref:k,style:{height:fe,maxHeight:n-Math.ceil(M%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:c,flexGrow:v?1:void 0,right:w?c??0:void 0,pointerEvents:"auto"}},h))))))},r1=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:o,groupHeaderHeight:i,enableGroups:a,freezeColumns:l,experimental:s,nonGrowWidth:u,clientSize:c,className:h,onVisibleRegionChanged:g,scrollRef:f,preventDiagonalScrolling:p,rightElement:m,rightElementProps:y,overscrollX:w,overscrollY:v,initialSize:x,smoothScrollX:E=!1,smoothScrollY:O=!1,isDraggable:M}=e,{paddingRight:P,paddingBottom:S}=s??{},[k,H]=c,I=d.useRef(),R=d.useRef(),T=d.useRef(),D=d.useRef(),C=u+Math.max(0,w??0);let Q=a?o+i:o;if(typeof r=="number")Q+=n*r;else for(let te=0;te<n;te++)Q+=r(te);v!==void 0&&(Q+=v);const j=d.useRef(),q=d.useCallback(()=>{if(j.current===void 0)return;const te={...j.current};let K=0,ge=te.x<0?-te.x:0,ae=0,fe=0;te.x=te.x<0?0:te.x;let he=0;for(let le=0;le<l;le++)he+=t[le].width;for(const le of t){const Ee=K-he;if(te.x>=Ee+le.width)K+=le.width,fe++,ae++;else if(te.x>Ee)K+=le.width,E?ge+=Ee-te.x:fe++,ae++;else if(te.x+te.width>Ee)K+=le.width,ae++;else break}let oe=0,$=0,A=0;if(typeof r=="number")O?($=Math.floor(te.y/r),oe=$*r-te.y):$=Math.ceil(te.y/r),A=Math.ceil(te.height/r)+$,oe<0&&A++;else{let le=0;for(let Ee=0;Ee<n;Ee++){const we=r(Ee),at=le+(O?0:we/2);if(te.y>=le+we)le+=we,$++,A++;else if(te.y>at)le+=we,O?oe+=at-te.y:$++,A++;else if(te.y+te.height>we/2+le)le+=we,A++;else break}}$=Math.max(0,Math.min($,n-1)),A=Math.max($,Math.min(A,n));const U={x:fe,y:$,width:ae-fe,height:A-$},re=I.current;(re===void 0||re.y!==U.y||re.x!==U.x||re.height!==U.height||re.width!==U.width||R.current!==ge||T.current!==oe||te.width!==D.current?.[0]||te.height!==D.current?.[1])&&(g?.({x:fe,y:$,width:ae-fe,height:A-$},te.width,te.height,te.paddingRight??0,ge,oe),I.current=U,R.current=ge,T.current=oe,D.current=[te.width,te.height])},[t,r,n,g,l,E,O]),ue=d.useCallback(te=>{j.current=te,q()},[q]);return d.useEffect(()=>{q()},[q]),d.createElement(n1,{scrollRef:f,className:h,kineticScrollPerfHack:s?.kineticScrollPerfHack,preventDiagonalScrolling:p,draggable:M===!0||typeof M=="string",scrollWidth:C+(P??0),scrollHeight:Q+(S??0),clientHeight:H,rightElement:m,paddingBottom:S,paddingRight:P,rightElementProps:y,update:ue,initialSize:x},d.createElement(Yv,{eventTargetRef:f,width:k,height:H,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}))},o1=cn("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),i1=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),a1=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),l1=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),s1=10,u1=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:o,searchInputRef:i,searchValue:a,searchResults:l,onSearchValueChange:s,getCellsForSelection:u,onSearchResultsChanged:c,showSearch:h=!1,onSearchClose:g}=e,[f]=d.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[p,m]=d.useState(""),y=a??p,w=d.useCallback(K=>{m(K),s?.(K)},[s]),[v,x]=d.useState(),E=d.useRef(v);E.current=v,d.useEffect(()=>{l!==void 0&&(l.length>0?x(K=>({rowsSearched:r,results:l.length,selectedIndex:K?.selectedIndex??-1})):x(void 0))},[r,l]);const O=d.useRef();O.current===void 0&&(O.current=new AbortController);const M=d.useRef(),[P,S]=d.useState([]),k=l??P,H=d.useCallback(()=>{M.current!==void 0&&(window.cancelAnimationFrame(M.current),M.current=void 0),O.current!==void 0&&O.current.abort(),O.current=new AbortController},[]),I=d.useRef(n);I.current=n;const R=d.useCallback(K=>{const ge=new RegExp(K.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let ae=I.current,fe=Math.min(10,r),he=0;x(void 0),S([]);const oe=[],$=async()=>{if(u===void 0)return;const A=performance.now(),U=r-he;let re=u({x:0,y:ae,width:o.length,height:Math.min(fe,U,r-ae)},O.current.signal);typeof re=="function"&&(re=await re());let le=!1;for(const[vt,_e]of re.entries())for(const[ne,ie]of _e.entries()){let be;switch(ie.kind){case Z.Text:case Z.Number:be=ie.displayData;break;case Z.Uri:case Z.Markdown:be=ie.data;break;case Z.Boolean:be=typeof ie.data=="boolean"?ie.data.toString():void 0;break;case Z.Image:case Z.Bubble:be=ie.data.join("");break;case Z.Custom:be=ie.copyData;break}be!==void 0&&ge.test(be)&&(oe.push([ne,vt+ae]),le=!0)}const Ee=performance.now();le&&S([...oe]),he+=re.length,zn(he<=r);const we=E.current?.selectedIndex??-1;x({results:oe.length,rowsSearched:he,selectedIndex:we}),c?.(oe,we),ae+fe>=r?ae=0:ae+=fe;const at=Ee-A,Ce=Math.max(at,1),ft=s1/Ce;fe=Math.ceil(fe*ft),he<r&&oe.length<1e3&&(M.current=window.requestAnimationFrame($))};H(),M.current=window.requestAnimationFrame($)},[H,o.length,u,c,r]),T=d.useCallback(()=>{g?.(),x(void 0),S([]),c?.([],-1),H(),t?.current?.focus()},[H,t,g,c]),D=d.useCallback(K=>{w(K.target.value),l===void 0&&(K.target.value===""?(x(void 0),S([]),H()):R(K.target.value))},[R,H,w,l]);d.useEffect(()=>{i.current!==null&&(w(""),x(void 0),P.length>0&&(S([]),c?.([],-1)),h?i.current.focus({preventScroll:!0}):H())},[h,i]);const C=d.useCallback(K=>{if(K?.stopPropagation?.(),v===void 0||v.results===0)return;const ge=(v.selectedIndex+1)%v.results;x({...v,selectedIndex:ge}),c?.(k,ge)},[v,c,k]),Q=d.useCallback(K=>{if(K?.stopPropagation?.(),v===void 0||v.results===0)return;let ge=(v.selectedIndex-1)%v.results;ge<0&&(ge+=v.results),x({...v,selectedIndex:ge}),c?.(k,ge)},[c,k,v]),j=d.useCallback(K=>{(K.ctrlKey||K.metaKey)&&K.nativeEvent.code==="KeyF"||K.key==="Escape"?(T(),K.stopPropagation(),K.preventDefault()):K.key==="Enter"&&(K.shiftKey?Q():C())},[T,C,Q]);d.useEffect(()=>()=>{H()},[H]);const[q,ue]=d.useState(!1);d.useEffect(()=>{if(h)ue(!0);else{const K=setTimeout(()=>ue(!1),150);return()=>clearTimeout(K)}},[h]);const te=d.useMemo(()=>{if(!h&&!q)return null;let K;v!==void 0&&(K=v.results>=1e3?"over 1000":`${v.results} result${v.results!==1?"s":""}`,v.selectedIndex>=0&&(K=`${v.selectedIndex+1} of ${K}`));const ge=fe=>{fe.stopPropagation()},ae={width:`${r>0?Math.floor((v?.rowsSearched??0)/r*100):0}%`};return d.createElement(o1,{className:"gdg-search-bar"+(h?"":" out"),onMouseDown:ge,onMouseMove:ge,onMouseUp:ge,onClick:ge},d.createElement("div",{className:"gdg-search-bar-inner"},d.createElement("input",{id:f,"aria-hidden":!h,"data-testid":"search-input",ref:i,onChange:D,value:y,tabIndex:h?void 0:-1,onKeyDownCapture:j}),d.createElement("button",{type:"button","aria-label":"Previous Result","aria-hidden":!h,tabIndex:h?void 0:-1,onClick:Q,disabled:(v?.results??0)===0},i1),d.createElement("button",{type:"button","aria-label":"Next Result","aria-hidden":!h,tabIndex:h?void 0:-1,onClick:C,disabled:(v?.results??0)===0},a1),g!==void 0&&d.createElement("button",{type:"button","aria-label":"Close Search","aria-hidden":!h,"data-testid":"search-close-button",tabIndex:h?void 0:-1,onClick:T},l1)),v!==void 0?d.createElement(d.Fragment,null,d.createElement("div",{className:"gdg-search-status"},d.createElement("div",{"data-testid":"search-result-area"},K)),d.createElement("div",{className:"gdg-search-progress",style:ae})):d.createElement("div",{className:"gdg-search-status"},d.createElement("label",{htmlFor:f},"Type to search")))},[h,q,v,r,f,i,D,y,j,Q,C,g,T]);return d.createElement(d.Fragment,null,d.createElement(r1,{prelightCells:k,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),te)};class c1 extends d.PureComponent{wrapperRef=d.createRef();componentDidMount(){const t=this.props.customEventTarget??document;t.addEventListener("pointerdown",this.clickOutside,!0),t.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){const t=this.props.customEventTarget??document;t.removeEventListener("pointerdown",this.clickOutside,!0),t.removeEventListener("contextmenu",this.clickOutside,!0)}clickOutside=t=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(t))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(t.target)){let n=t.target;for(;n!==null;){if(n.classList.contains("click-outside-ignore"))return;n=n.parentElement}this.props.onClickOutside()}};render(){const{onClickOutside:t,isOutsideClick:n,customEventTarget:r,...o}=this.props;return d.createElement("div",{...o,ref:this.wrapperRef},this.props.children)}}const d1=()=>e=>Math.max(16,e.targetHeight-10),h1=cn("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[d1(),"px"]}}),f1=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:o,onFinish:i}=e,[a,l]=St.useState(n);return St.createElement(c1,{style:{position:"absolute",left:t.x-o.left+1,top:t.y-o.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},St.createElement(h1,{targetHeight:t.height,"data-testid":"group-rename-input",value:a,onBlur:r,onFocus:s=>s.target.setSelectionRange(0,a.length),onChange:s=>l(s.target.value),onKeyDown:s=>{s.key==="Enter"?i(a):s.key==="Escape"&&r()},autoFocus:!0}))};function p1(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function nt(e,t,n){const r=yh(e,t);return r&&(n.didMatch=!0),r}function yh(e,t){if(e.length===0)return!1;if(e.includes("|")){const s=e.split("|");for(const u of s)if(yh(u,t))return!0;return!1}let n=!1,r=!1,o=!1,i=!1;const a=e.split("+"),l=a.pop();if(!p1(l,t))return!1;if(a[0]==="any")return!0;for(const s of a)switch(s){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":o=!0;break;case"meta":i=!0;break;case"primary":ya.value?i=!0:n=!0;break}return t.altKey===o&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===i}function g1(e,t,n,r,o,i,a){const l=St.useCallback((c,h,g,f)=>{(i==="cell"||i==="multi-cell")&&c!==void 0&&(c={...c,range:{x:c.cell[0],y:c.cell[1],width:1,height:1}}),!a&&c!==void 0&&c.range.width>1&&(c={...c,range:{...c.range,width:1,x:c.cell[0]}});const p=n==="mixed"&&(g||f==="drag")||n==="additive",m=(r==="mixed"||r==="additive")&&p,y=(o==="mixed"||o==="additive")&&p;let w={current:c===void 0?void 0:{...c,rangeStack:f==="drag"?e.current?.rangeStack??[]:[]},columns:m?e.columns:Ze.empty(),rows:y?e.rows:Ze.empty()};g&&(i==="multi-rect"||i==="multi-cell")&&w.current!==void 0&&e.current!==void 0&&(w={...w,current:{...w.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(w,h)},[r,e,n,i,a,o,t]),s=St.useCallback((c,h,g)=>{c=c??e.rows,h!==void 0&&(c=c.add(h));let f;if(o==="exclusive"&&c.length>0)f={current:void 0,columns:Ze.empty(),rows:c};else{const p=g&&n==="mixed"||n==="additive",m=g&&r==="mixed"||r==="additive";f={current:p?e.current:void 0,columns:m?e.columns:Ze.empty(),rows:c}}t(f,!1)},[r,e,n,o,t]),u=St.useCallback((c,h,g)=>{c=c??e.columns,h!==void 0&&(c=c.add(h));let f;if(r==="exclusive"&&c.length>0)f={current:void 0,rows:Ze.empty(),columns:c};else{const p=g&&n==="mixed"||n==="additive",m=g&&o==="mixed"||o==="additive";f={current:p?e.current:void 0,rows:m?e.rows:Ze.empty(),columns:c}}t(f,!1)},[r,e,n,o,t]);return[l,s,u]}function m1(e,t,n,r,o){const i=d.useCallback(s=>{if(e===!0){const u=[];for(let c=s.y;c<s.y+s.height;c++){const h=[];for(let g=s.x;g<s.x+s.width;g++)g<0||c>=o?h.push({kind:Z.Loading,allowOverlay:!1}):h.push(t([g,c]));u.push(h)}return u}return e?.(s,r.signal)??[]},[r.signal,t,e,o]),a=e!==void 0?i:void 0,l=d.useCallback(s=>{if(a===void 0)return[];const u={...s,x:s.x-n};if(u.x<0){u.x=0,u.width--;const c=a(u,r.signal);return typeof c=="function"?async()=>(await c()).map(h=>[{kind:Z.Loading,allowOverlay:!1},...h]):c.map(h=>[{kind:Z.Loading,allowOverlay:!1},...h])}return a(u,r.signal)},[r.signal,a,n]);return[e!==void 0?l:void 0,a]}function v1(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string",doNotEscape:!0};switch(e.kind){case Z.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===is?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case Z.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case Z.Image:case Z.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case Z.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case Z.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case Z.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case Z.Markdown:case Z.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case Z.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case Z.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case Z.Protected:return{formatted:"************",rawValue:"",format:"string"};default:mi()}}function b1(e,t){return e.map((n,r)=>{const o=t[r];return n.map(i=>i.span!==void 0&&i.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:v1(i))})}function lc(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function w1(e){const t=[];for(const n of e){const r=[];for(const o of n)o.format==="url"?r.push(o.rawValue?.toString()??""):o.format==="string-array"?r.push(o.formatted.map(i=>lc(i,!0)).join(",")):r.push(o.doNotEscape===!0?o.formatted:lc(o.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function xl(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function sc(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function y1(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function x1(e){const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const n of e){t.push("<tr>");for(const r of n){const o=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${o}><a href="${r.rawValue}">${xl(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${o}><ol>${r.formatted.map((i,a)=>`<li gdg-raw-value=${sc(r.rawValue[a])}>`+xl(i)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${sc(r.rawValue?.toString()??"")} ${o}>${xl(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function k1(e,t){const n=b1(e,t),r=w1(n),o=x1(n);return{textPlain:r,textHtml:o}}function uc(e){const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],o=[];let i;for(;r.length>0;){const a=r.pop();if(a===void 0)break;if(a instanceof HTMLTableElement||a.nodeName==="TBODY")r.push(...[...a.children].reverse());else if(a instanceof HTMLTableRowElement)i!==void 0&&o.push(i),i=[],r.push(...[...a.children].reverse());else if(a instanceof HTMLTableCellElement){const l=a.cloneNode(!0),s=l.children.length===1&&l.children[0].nodeName==="P"?l.children[0]:null,u=s?.children.length===1&&s.children[0].nodeName==="FONT",c=l.querySelectorAll("br");for(const f of c)f.replaceWith(`
`);const h=l.getAttribute("gdg-raw-value"),g=l.getAttribute("gdg-format")??"string";if(l.querySelector("a")!==null)i?.push({rawValue:l.querySelector("a")?.getAttribute("href")??"",formatted:l.textContent??"",format:g});else if(l.querySelector("ol")!==null){const f=l.querySelectorAll("li");i?.push({rawValue:[...f].map(p=>p.getAttribute("gdg-raw-value")??""),formatted:[...f].map(p=>p.textContent??""),format:"string-array"})}else if(h!==null)i?.push({rawValue:y1(h),formatted:l.textContent??"",format:g});else{let f=l.textContent??"";u&&(f=f.replace(/\n(?!\n)/g,"")),i?.push({rawValue:f??"",formatted:f??"",format:g})}}}return i!==void 0&&o.push(i),o}function C1(e,t,n,r,o){const i=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let a=!1;do{if(e?.current===void 0)break;const l=e.current?.range,s=[];if(l.width>2){const h=t({x:l.x,y:l.y,width:1,height:l.height},o.signal);if(typeof h=="function")return i;s.push(...h);const g=t({x:l.x+l.width-1,y:l.y,width:1,height:l.height},o.signal);if(typeof g=="function")return i;s.push(...g)}else{const h=t({x:l.x,y:l.y,width:l.width,height:l.height},o.signal);if(typeof h=="function")return i;s.push(...h)}let u=l.x-n,c=l.x+l.width-1-n;for(const h of s)for(const g of h)g.span!==void 0&&(u=Math.min(g.span[0],u),c=Math.max(g.span[1],c));u===l.x-n&&c===l.x+l.width-1-n?a=!0:e={current:{cell:e.current.cell??[0,0],range:{x:u+n,y:l.y,width:c-u+1,height:l.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!a);return e}function cc(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function S1(e){let t;(function(l){l[l.None=0]="None",l[l.inString=1]="inString",l[l.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],o=0,i=t.None;e=e.replace(/\r\n/g,`
`);let a=0;for(const l of e){switch(i){case t.None:l==="	"||l===`
`?(r.push(e.slice(o,a)),o=a+1,l===`
`&&(n.push(r),r=[])):l==='"'&&(i=t.inString);break;case t.inString:l==='"'&&(i=t.inStringPostQuote);break;case t.inStringPostQuote:l==='"'?i=t.inString:((l==="	"||l===`
`)&&(r.push(cc(e.slice(o,a))),o=a+1,l===`
`&&(n.push(r),r=[])),i=t.None);break}a++}return o<e.length&&r.push(cc(e.slice(o,e.length))),n.push(r),n.map(l=>l.map(s=>({rawValue:s,formatted:s,format:"string"})))}function dc(e,t,n){const r=k1(e,t),o=l=>{window.navigator.clipboard?.writeText(l)},i=(l,s)=>window.navigator.clipboard?.write===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([l],{type:"text/plain"}),"text/html":new Blob([s],{type:"text/html"})})]),!0),a=(l,s)=>{try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");n?.clipboardData?.setData("text/plain",l),n?.clipboardData?.setData("text/html",s)}catch{i(l,s)||o(l)}};window.navigator.clipboard?.write!==void 0||n?.clipboardData!==void 0?a(r.textPlain,r.textHtml):o(r.textPlain),n?.preventDefault()}function xh(e){return e!==!0}function hc(e){return typeof e=="string"?e:`${e}px`}const M1=()=>e=>e.innerWidth,R1=()=>e=>e.innerHeight,E1=cn("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[M1()],"wmyidgi-1":[R1()]}}),I1=e=>{const{inWidth:t,inHeight:n,children:r,...o}=e;return d.createElement(E1,{innerHeight:hc(n),innerWidth:hc(t),...o},r)},T1=2,O1=1300;function D1(e,t,n){const r=St.useRef(0),[o,i]=e??[0,0];St.useEffect(()=>{if(o===0&&i===0){r.current=0;return}let a=!1,l=0;const s=u=>{if(!a){if(l===0)l=u;else{const c=u-l;r.current=Math.min(1,r.current+c/O1);const h=r.current**1.618*c*T1;t.current?.scrollBy(o*h,i*h),l=u,n?.()}window.requestAnimationFrame(s)}};return window.requestAnimationFrame(s),()=>{a=!0}},[t,o,i,n])}function P1({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:o,overscrollY:i,scaleToRem:a,remSize:l}){const[s,u,c,h,g,f]=St.useMemo(()=>{if(!a||l===16)return[e,t,n,r,o,i];const p=l/16,m=e,y=ih();return[typeof m=="number"?m*p:w=>Math.ceil(m(w)*p),Math.ceil(t*p),Math.ceil(n*p),{...r,headerIconSize:(r?.headerIconSize??y.headerIconSize)*p,cellHorizontalPadding:(r?.cellHorizontalPadding??y.cellHorizontalPadding)*p,cellVerticalPadding:(r?.cellVerticalPadding??y.cellVerticalPadding)*p},Math.ceil((o??0)*p),Math.ceil((i??0)*p)]},[n,t,o,i,l,e,a,r]);return{rowHeight:s,headerHeight:u,groupHeaderHeight:c,theme:h,overscrollX:g,overscrollY:f}}const Mr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function rt(e,t){return e===!0?t:e===!1?"":e}function fc(e){const t=ya.value;return{activateCell:rt(e.activateCell," |Enter|shift+Enter"),clear:rt(e.clear,"any+Escape"),closeOverlay:rt(e.closeOverlay,"any+Escape"),acceptOverlayDown:rt(e.acceptOverlayDown,"Enter"),acceptOverlayUp:rt(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:rt(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:rt(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:rt(e.delete,t?"Backspace|Delete":"Delete"),downFill:rt(e.downFill,"primary+_68"),scrollToSelectedCell:rt(e.scrollToSelectedCell,"primary+Enter"),goDownCell:rt(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:rt(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:rt(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:rt(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:rt(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:rt(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:rt(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:rt(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:rt(e.goToFirstCell,"primary+Home"),goToFirstColumn:rt(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:rt(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:rt(e.goToLastCell,"primary+End"),goToLastColumn:rt(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:rt(e.goToLastRow,"primary+ArrowDown"),goToNextPage:rt(e.goToNextPage,"PageDown"),goToPreviousPage:rt(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:rt(e.rightFill,"primary+_82"),search:rt(e.search,"primary+f"),selectAll:rt(e.selectAll,"primary+a"),selectColumn:rt(e.selectColumn,"ctrl+ "),selectGrowDown:rt(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:rt(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:rt(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:rt(e.selectGrowUp,"shift+ArrowUp"),selectRow:rt(e.selectRow,"shift+ "),selectToFirstCell:rt(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:rt(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:rt(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:rt(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:rt(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:rt(e.selectToLastRow,"primary+shift+ArrowDown")}}function H1(e){const t=Mm(e);return St.useMemo(()=>{if(t===void 0)return fc(Mr);const n={...t,goToNextPage:t?.goToNextPage??t?.pageDown??Mr.goToNextPage,goToPreviousPage:t?.goToPreviousPage??t?.pageUp??Mr.goToPreviousPage,goToFirstCell:t?.goToFirstCell??t?.first??Mr.goToFirstCell,goToLastCell:t?.goToLastCell??t?.last??Mr.goToLastCell,selectToFirstCell:t?.selectToFirstCell??t?.first??Mr.selectToFirstCell,selectToLastCell:t?.selectToLastCell??t?.last??Mr.selectToLastCell};return fc({...Mr,...n})},[t])}function A1(e){function t(n,r,o){if(typeof n=="number")return{headerIndex:n,isCollapsed:!1,depth:r,path:o};const i={headerIndex:n.headerIndex,isCollapsed:n.isCollapsed,depth:r,path:o};return n.subGroups!==void 0&&(i.subGroups=n.subGroups.map((a,l)=>t(a,r+1,[...o,l])).sort((a,l)=>a.headerIndex-l.headerIndex)),i}return e.map((n,r)=>t(n,0,[r])).sort((n,r)=>n.headerIndex-r.headerIndex)}function Ss(e,t){const n=[];function r(l,s,u=!1){let c=s!==null?s-l.headerIndex:t-l.headerIndex;if(l.subGroups!==void 0&&(c=l.subGroups[0].headerIndex-l.headerIndex),c--,n.push({rowIndex:-1,headerIndex:l.headerIndex,contentIndex:-1,skip:u,isCollapsed:l.isCollapsed,depth:l.depth,path:l.path,rows:c}),l.subGroups)for(let h=0;h<l.subGroups.length;h++){const g=h<l.subGroups.length-1?l.subGroups[h+1].headerIndex:s;r(l.subGroups[h],g,u||l.isCollapsed)}}const o=A1(e.groups);for(let l=0;l<o.length;l++){const s=l<o.length-1?o[l+1].headerIndex:null;r(o[l],s)}let i=0,a=0;for(const l of n)l.contentIndex=a,a+=l.rows,l.rowIndex=i,i+=l.isCollapsed?1:l.rows+1;return n.filter(l=>l.skip===!1).map(l=>{const{skip:s,...u}=l;return u})}function Gl(e,t){if(t===void 0||Ss.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let n=e;for(const r of t){if(n===0)return{path:[...r.path,-1],originalIndex:r.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:r.rows};if(r.isCollapsed)n--;else{if(n<=r.rows)return{path:[...r.path,n-1],originalIndex:r.headerIndex+n,isGroupHeader:!1,groupIndex:n-1,contentIndex:r.contentIndex+n-1,groupRows:r.rows};n=n-r.rows-1}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function F1(e,t,n,r){const o=St.useMemo(()=>e===void 0?void 0:Ss(e,t),[e,t]),i=St.useMemo(()=>o?.reduce((c,h)=>(c[h.rowIndex]=h,c),{}),[o]),a=St.useMemo(()=>o===void 0?t:o.reduce((c,h)=>c+(h.isCollapsed?1:h.rows+1),0),[o,t]),l=St.useMemo(()=>e===void 0||typeof n=="number"&&e.height===n?n:c=>i?.[c]?e.height:typeof n=="number"?n:n(c),[i,e,n]),s=St.useCallback(c=>{if(o===void 0)return c;let h=c;for(const g of o){if(h===0)return;if(h--,!g.isCollapsed){if(h<g.rows)return g.contentIndex+h;h-=g.rows}}return c},[o]),u=Rr(r??e?.themeOverride,St.useCallback(c=>{if(e===void 0)return r?.(c,c,c);if(r===void 0&&e?.themeOverride===void 0)return;const{isGroupHeader:h,contentIndex:g,groupIndex:f}=Gl(c,o);return h?e.themeOverride:r?.(c,f,g)},[o,r,e]));return e===void 0?{rowHeight:l,rows:t,rowNumberMapper:s,getRowThemeOverride:u}:{rowHeight:l,rows:a,rowNumberMapper:s,getRowThemeOverride:u}}function L1(e,t){const n=St.useMemo(()=>e===void 0?void 0:Ss(e,t),[e,t]);return{getRowGroupingForPath:Ch,updateRowGroupingByPath:kh,mapper:St.useCallback(r=>{if(typeof r=="number")return Gl(r,n);const o=Gl(r[1],n);return{...o,originalIndex:[r[0],o.originalIndex]}},[n])}}function kh(e,t,n){const[r,...o]=t;return o[0]===-1?e.map((i,a)=>a===r?{...i,...n}:i):e.map((i,a)=>a===r?{...i,subGroups:kh(i.subGroups??[],o,n)}:i)}function Ch(e,t){const[n,...r]=t;return r[0]===-1?e[n]:Ch(e[n].subGroups??[],r)}function z1(e,t){const[n]=d.useState(()=>({value:e,callback:t,facade:{get current(){return n.value},set current(r){const o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}));return n.callback=t,n.facade}function $1(e,t,n,r,o){const[i,a]=d.useMemo(()=>[t!==void 0&&typeof n=="number"?Math.floor(t/n):0,t!==void 0&&typeof n=="number"?-(t%n):0],[t,n]),l=d.useMemo(()=>({x:r.current.x,y:i,width:r.current.width??1,height:r.current.height??1,ty:a}),[r,a,i]),[s,u,c]=Sm(l),h=d.useRef(o);h.current=o;const g=z1(null,m=>{m!==null&&t!==void 0?m.scrollTop=t:m!==null&&e!==void 0&&(m.scrollLeft=e)}),f=(s.height??1)>1;d.useLayoutEffect(()=>{if(t!==void 0&&g.current!==null&&f){if(g.current.scrollTop===t)return;g.current.scrollTop=t,g.current.scrollTop!==t&&c(),h.current()}},[t,f,c,g]);const p=(s.width??1)>1;return d.useLayoutEffect(()=>{if(e!==void 0&&g.current!==null&&p){if(g.current.scrollLeft===e)return;g.current.scrollLeft=e,g.current.scrollLeft!==e&&c(),h.current()}},[e,p,c,g]),{visibleRegion:s,setVisibleRegion:u,scrollRef:g}}const N1=d.lazy(async()=>await ns(()=>import("./data-grid-overlay-editor-D5P9YQq8-DjvWG0M9-DYg42jKy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));let V1=0;function _1(e){return j0(ec(ec(e).filter(t=>t.span!==void 0).map(t=>Tr((t.span?.[0]??0)+1,(t.span?.[1]??0)+1))))}function Zi(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const Qi={kind:Z.Loading,allowOverlay:!1},Ji={columns:Ze.empty(),rows:Ze.empty(),current:void 0},W1=(e,t)=>{const[n,r]=d.useState(Ji),[o,i]=d.useState(),a=d.useRef(null),l=d.useRef(null),[s,u]=d.useState(),c=d.useRef(),h=typeof window>"u"?null:window,{imageEditorOverride:g,getRowThemeOverride:f,markdownDivCreateNode:p,width:m,height:y,columns:w,rows:v,getCellContent:x,onCellClicked:E,onCellActivated:O,onFillPattern:M,onFinishedEditing:P,coercePasteValue:S,drawHeader:k,drawCell:H,editorBloom:I,onHeaderClicked:R,onColumnProposeMove:T,rangeSelectionColumnSpanning:D=!0,spanRangeBehavior:C="default",onGroupHeaderClicked:Q,onCellContextMenu:j,className:q,onHeaderContextMenu:ue,getCellsForSelection:te,onGroupHeaderContextMenu:K,onGroupHeaderRenamed:ge,onCellEdited:ae,onCellsEdited:fe,onSearchResultsChanged:he,searchResults:oe,onSearchValueChange:$,searchValue:A,onKeyDown:U,onKeyUp:re,keybindings:le,editOnType:Ee=!0,onRowAppended:we,onColumnAppended:at,onColumnMoved:Ce,validateCell:ft,highlightRegions:vt,rangeSelect:_e="rect",columnSelect:ne="multi",rowSelect:ie="multi",rangeSelectionBlending:be="exclusive",columnSelectionBlending:ce="exclusive",rowSelectionBlending:ve="exclusive",onDelete:ze,onDragStart:$e,onMouseMove:Qe,onPaste:Se,copyHeaders:qe=!1,freezeColumns:Ie=0,cellActivationBehavior:Me="second-click",rowSelectionMode:Oe="auto",columnSelectionMode:ct="auto",onHeaderMenuClick:Je,onHeaderIndicatorClick:Xe,getGroupDetails:yt,rowGrouping:gt,onSearchClose:Tt,onItemHovered:Ot,onSelectionCleared:an,showSearch:Kt,onVisibleRegionChanged:En,gridSelection:Mt,onGridSelectionChange:dt,minColumnWidth:In=50,maxColumnWidth:mt=500,maxColumnAutoWidth:qt,provideEditor:kn,trailingRowOptions:De,freezeTrailingRows:et=0,allowedFillDirections:bt="orthogonal",scrollOffsetX:Tn,scrollOffsetY:ln,verticalBorder:sn,onDragOverCell:On,onDrop:Zt,onColumnResize:Qt,onColumnResizeEnd:Ne,onColumnResizeStart:xt,customRenderers:Dn,fillHandle:Ht,experimental:ht,fixedShadowX:Cn,fixedShadowY:cr,headerIcons:Nn,imageWindowLoader:_,initialSize:Ve,isDraggable:We,onDragLeave:Dt,onRowMoved:Jt,overscrollX:dn,overscrollY:Sn,preventDiagonalScrolling:bn,rightElement:Vt,rightElementProps:Mn,trapFocus:Rn=!1,smoothScrollX:ye,smoothScrollY:At,scaleToRem:Gt=!1,rowHeight:Vn=34,headerHeight:Yt=36,groupHeaderHeight:Bt=Yt,theme:Ut,isOutsideClick:Pn,renderers:Hn,resizeIndicator:Ei,scrollToActiveCell:Hr=!0,drawFocusRing:Ho=!0,portalElementRef:Ao}=e,Fo=Ho==="no-editor"?o===void 0:Ho,Un=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,fn=Un?.kind??e.rowMarkers??"none",br=Un?.width??e.rowMarkerWidth,to=Un?.startIndex??e.rowMarkerStartIndex??1,wr=Un?.theme??e.rowMarkerTheme,no=Un?.headerTheme,Ii=Un?.headerAlwaysVisible,Ar=ie!=="multi"||Un?.headerDisabled===!0,ro=Un?.checkboxStyle??"square",yr=Math.max(In,20),oo=Math.max(mt,yr),Ti=Math.max(qt??oo,yr),Lo=d.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:Fe,rowNumberMapper:zo,rowHeight:za,getRowThemeOverride:Fr}=F1(gt,v,Vn,f),$a=d.useMemo(()=>Number.parseFloat(Lo.fontSize),[Lo]),{rowHeight:tr,headerHeight:$o,groupHeaderHeight:io,theme:Oi,overscrollX:Na,overscrollY:Va}=P1({groupHeaderHeight:Bt,headerHeight:Yt,overscrollX:dn,overscrollY:Sn,remSize:$a,rowHeight:za,scaleToRem:Gt,theme:Ut}),nr=H1(le),dr=br??(v>1e4?48:v>1e3?44:v>100?36:32),wn=fn!=="none",B=wn?1:0,zt=De!==void 0,Lr=De?.sticky===!0,[ao,Di]=d.useState(!1),lo=Kt??ao,_a=d.useCallback(()=>{Tt!==void 0?Tt():Di(!1)},[Tt]),G=d.useMemo(()=>Mt===void 0?void 0:Zi(Mt,B),[Mt,B])??n,N=d.useRef();N.current===void 0&&(N.current=new AbortController),d.useEffect(()=>()=>N?.current.abort(),[]);const[ee,xe]=m1(te,x,B,N.current,Fe),Re=d.useCallback((b,F,L)=>{if(ft===void 0)return!0;const V=[b[0]-B,b[1]];return ft?.(V,F,L)},[B,ft]),de=d.useRef(Mt),pe=d.useCallback((b,F)=>{F&&(b=C1(b,ee,B,C,N.current)),dt!==void 0?(de.current=Zi(b,-B),dt(de.current)):r(b)},[dt,ee,B,C]),je=Rr(Qt,d.useCallback((b,F,L,V)=>{Qt?.(w[L-B],F,L-B,V)},[Qt,B,w])),ke=Rr(Ne,d.useCallback((b,F,L,V)=>{Ne?.(w[L-B],F,L-B,V)},[Ne,B,w])),Ye=Rr(xt,d.useCallback((b,F,L,V)=>{xt?.(w[L-B],F,L-B,V)},[xt,B,w])),pt=Rr(k,d.useCallback((b,F)=>k?.({...b,columnIndex:b.columnIndex-B},F)??!1,[k,B])),hn=Rr(H,d.useCallback((b,F)=>H?.({...b,col:b.col-B},F)??!1,[H,B])),Wt=d.useCallback(b=>{if(ze!==void 0){const F=ze(Zi(b,-B));return typeof F=="boolean"?F:Zi(F,B)}return!0},[ze,B]),[kt,lt,Be]=g1(G,pe,be,ce,ve,_e,D),ut=d.useMemo(()=>mr(ih(),Oi),[Oi]),[Nt,so]=d.useState([0,0,0]),zr=d.useMemo(()=>{if(Hn===void 0)return{};const b={};for(const F of Hn)b[F.kind]=F;return b},[Hn]),en=d.useCallback(b=>b.kind!==Z.Custom?zr[b.kind]:Dn?.find(F=>F.isMatch(b)),[Dn,zr]);let{sizedColumns:un,nonGrowWidth:Ft}=A0(w,Fe,xe,Nt[0]-(B===0?0:dr)-Nt[2],yr,Ti,ut,en,N.current);fn!=="none"&&(Ft+=dr);const _n=d.useMemo(()=>un.some(b=>b.group!==void 0),[un]),pn=_n?$o+io:$o,hr=G.rows.length,fr=fn==="none"?void 0:hr===0?!1:hr===Fe?!0:void 0,st=d.useMemo(()=>fn==="none"?un:[{title:"",width:dr,icon:void 0,hasMenu:!1,style:"normal",themeOverride:wr,rowMarker:ro,rowMarkerChecked:fr,headerRowMarkerTheme:no,headerRowMarkerAlwaysVisible:Ii,headerRowMarkerDisabled:Ar},...un],[fn,un,dr,wr,ro,fr,no,Ii,Ar]),tn=d.useRef({height:1,width:1,x:0,y:0}),rr=d.useRef(!1),{setVisibleRegion:Pi,visibleRegion:pr,scrollRef:_t}=$1(Tn,ln,tr,tn,()=>rr.current=!0);tn.current=pr;const Df=pr.x+B,Hi=pr.y,gn=d.useRef(null),yn=d.useCallback(b=>{b===!0?gn.current?.focus():window.requestAnimationFrame(()=>{gn.current?.focus()})},[]),mn=zt?Fe+1:Fe,Wn=d.useCallback(b=>{const F=B===0?b:b.map(V=>({...V,location:[V.location[0]-B,V.location[1]]})),L=fe?.(F);if(L!==!0)for(const V of F)ae?.(V.location,V.value);return L},[ae,fe,B]),[$r,Wa]=d.useState(),Ai=G.current!==void 0&&G.current.range.width*G.current.range.height>1?G.current.range:void 0,Ks=Fo?G.current?.cell:void 0,Fi=Ks?.[0],Li=Ks?.[1],Pf=d.useMemo(()=>{if((vt===void 0||vt.length===0)&&(Ai??Fi??Li??$r)===void 0)return;const b=[];if(vt!==void 0)for(const F of vt){const L=st.length-F.range.x-B;L>0&&b.push({color:F.color,range:{...F.range,x:F.range.x+B,width:Math.min(L,F.range.width)},style:F.style})}return $r!==void 0&&b.push({color:qr(ut.accentColor,0),range:$r,style:"dashed"}),Ai!==void 0&&b.push({color:qr(ut.accentColor,.5),range:Ai,style:"solid-outline"}),Fi!==void 0&&Li!==void 0&&b.push({color:ut.accentColor,range:{x:Fi,y:Li,width:1,height:1},style:"solid-outline"}),b.length>0?b:void 0},[$r,Ai,Fi,Li,vt,st.length,ut.accentColor,B]),qs=d.useRef(st);qs.current=st;const An=d.useCallback(([b,F],L=!1)=>{const V=zt&&F===mn-1;if(b===0&&wn){if(V)return Qi;const W=zo(F);return W===void 0?Qi:{kind:Bn.Marker,allowOverlay:!1,checkboxStyle:ro,checked:G?.rows.hasIndex(F)===!0,markerKind:fn==="clickable-number"?"number":fn,row:to+W,drawHandle:Jt!==void 0,cursor:fn==="clickable-number"?"pointer":void 0}}else if(V){const W=b===B?De?.hint??"":"",Y=qs.current[b];if(Y?.trailingRowOptions?.disabled===!0)return Qi;{const z=Y?.trailingRowOptions?.hint??W,X=Y?.trailingRowOptions?.addIcon??De?.addIcon;return{kind:Bn.NewRow,hint:z,allowOverlay:!1,icon:X}}}else{const W=b-B;if(L||ht?.strict===!0){const z=tn.current,X=z.x>W||W>z.x+z.width||z.y>F||F>z.y+z.height||F>=Xa.current,J=W===z.extras?.selected?.[0]&&F===z.extras?.selected[1];let se=!1;if(z.extras?.freezeRegions!==void 0){for(const Pe of z.extras.freezeRegions)if(Yr(Pe,W,F)){se=!0;break}}if(X&&!J&&!se)return Qi}let Y=x([W,F]);return B!==0&&Y.span!==void 0&&(Y={...Y,span:[Y.span[0]+B,Y.span[1]+B]}),Y}},[zt,mn,wn,zo,ro,G?.rows,fn,to,Jt,B,De?.hint,De?.addIcon,ht?.strict,x]),ja=d.useCallback(b=>{let F=yt?.(b)??{name:b};return ge!==void 0&&b!==""&&(F={icon:F.icon,name:F.name,overrideTheme:F.overrideTheme,actions:[...F.actions??[],{title:"Rename",icon:"renameIcon",onClick:L=>Ya({group:F.name,bounds:L.bounds})}]}),F},[yt,ge]),zi=d.useCallback(b=>{const[F,L]=b.cell,V=st[F],W=V?.group!==void 0?ja(V.group)?.overrideTheme:void 0,Y=V?.themeOverride,z=Fr?.(L);i({...b,theme:mr(ut,W,Y,z,b.content.themeOverride)})},[Fr,st,ja,ut]),uo=d.useCallback((b,F,L)=>{if(G.current===void 0)return;const[V,W]=G.current.cell,Y=An([V,W]);if(Y.kind!==Z.Boolean&&Y.allowOverlay){let z=Y;if(L!==void 0)switch(z.kind){case Z.Number:{const X=Qg(()=>L==="-"?-0:Number.parseFloat(L),0);z={...z,data:Number.isNaN(X)?0:X};break}case Z.Text:case Z.Markdown:case Z.Uri:z={...z,data:L};break}zi({target:b,content:z,initialValue:L,cell:[V,W],highlight:L===void 0,forceEditMode:L!==void 0,activation:F})}else Y.kind===Z.Boolean&&F.inputType==="keyboard"&&Y.readonly!==!0&&(Wn([{location:G.current.cell,value:{...Y,data:xh(Y.data)}}]),gn.current?.damage([{cell:G.current.cell}]))},[An,G,Wn,zi]),Zs=d.useCallback((b,F)=>{const L=gn.current?.getBounds(b,F);if(L===void 0||_t.current===null)return;const V=An([b,F]);V.allowOverlay&&zi({target:L,content:V,initialValue:void 0,highlight:!0,cell:[b,F],forceEditMode:!0,activation:{inputType:"keyboard",key:"Enter"}})},[An,_t,zi]),jt=d.useCallback((b,F,L="both",V=0,W=0,Y=void 0)=>{if(_t.current!==null){const z=gn.current,X=l.current,J=typeof b!="number"?b.unit==="cell"?b.amount:void 0:b,se=typeof F!="number"?F.unit==="cell"?F.amount:void 0:F,Pe=typeof b!="number"&&b.unit==="px"?b.amount:void 0,Et=typeof F!="number"&&F.unit==="px"?F.amount:void 0;if(z!==null&&X!==null){let Ke={x:0,y:0,width:0,height:0},Ue=0,Ge=0;if((J!==void 0||se!==void 0)&&(Ke=z.getBounds((J??0)+B,se??0)??Ke,Ke.width===0||Ke.height===0))return;const tt=X.getBoundingClientRect(),wt=tt.width/X.offsetWidth;if(Pe!==void 0&&(Ke={...Ke,x:Pe-tt.left-_t.current.scrollLeft,width:1}),Et!==void 0&&(Ke={...Ke,y:Et+tt.top-_t.current.scrollTop,height:1}),Ke!==void 0){const nn={x:Ke.x-V,y:Ke.y-W,width:Ke.width+2*V,height:Ke.height+2*W};let mo=0;for(let tl=0;tl<Ie;tl++)mo+=un[tl].width;let Bi=0;const Uo=et+(Lr?1:0);Uo>0&&(Bi=eo(mn,Uo,tr));let ir=mo*wt+tt.left+B*dr*wt,vo=tt.right,Wr=tt.top+pn*wt,bo=tt.bottom-Bi*wt;const Ui=Ke.width+V*2;switch(Y?.hAlign){case"start":vo=ir+Ui;break;case"end":ir=vo-Ui;break;case"center":ir=Math.floor((ir+vo)/2)-Ui/2,vo=ir+Ui;break}const Xi=Ke.height+W*2;switch(Y?.vAlign){case"start":bo=Wr+Xi;break;case"end":Wr=bo-Xi;break;case"center":Wr=Math.floor((Wr+bo)/2)-Xi/2,bo=Wr+Xi;break}ir>nn.x?Ue=nn.x-ir:vo<nn.x+nn.width&&(Ue=nn.x+nn.width-vo),Wr>nn.y?Ge=nn.y-Wr:bo<nn.y+nn.height&&(Ge=nn.y+nn.height-bo),L==="vertical"||typeof b=="number"&&b<Ie?Ue=0:(L==="horizontal"||typeof F=="number"&&F>=mn-Uo)&&(Ge=0),(Ue!==0||Ge!==0)&&(wt!==1&&(Ue/=wt,Ge/=wt),_t.current.scrollTo({left:Ue+_t.current.scrollLeft,top:Ge+_t.current.scrollTop,behavior:Y?.behavior??"auto"}))}}}},[B,et,dr,_t,pn,Ie,un,mn,Lr,tr]),Ba=d.useRef(Zs),Ua=d.useRef(x);Ba.current=Zs,Ua.current=x;const Xa=d.useRef(Fe);Xa.current=Fe;const Qs=d.useRef(st.length);Qs.current=st.length;const xr=d.useCallback(async(b,F=!0,L)=>{if(st[b]?.trailingRowOptions?.disabled===!0)return;const V=we?.();let W,Y=!0;V!==void 0&&(W=await V,W==="top"&&(Y=!1),typeof W=="number"&&(Y=!1));let z=0;const X=()=>{if(Xa.current<=Fe){z<500&&window.setTimeout(X,z),z=50+z*2;return}const J=typeof W=="number"?W:Y?Fe:0;ji.current(b-B,J,"both",0,0,L?{behavior:L}:void 0),kt({cell:[b,J],range:{x:b,y:J,width:1,height:1}},!1,!1,"edit");const se=Ua.current([b-B,J]);se.allowOverlay&&Co(se)&&se.readonly!==!0&&F&&window.setTimeout(()=>{Ba.current(b,J)},0)};X()},[st,we,B,Fe,kt]),$i=d.useCallback(async(b,F=!0)=>{const L=at?.();let V,W=!0;L!==void 0&&(V=await L,V==="left"&&(W=!1),typeof V=="number"&&(W=!1));let Y=0;const z=()=>{if(Qs.current<=st.length){Y<500&&window.setTimeout(z,Y),Y=50+Y*2;return}const X=typeof V=="number"?V:W?st.length:0;jt(X-B,b),kt({cell:[X,b],range:{x:X,y:b,width:1,height:1}},!1,!1,"edit");const J=Ua.current([X-B,b]);J.allowOverlay&&Co(J)&&J.readonly!==!0&&F&&window.setTimeout(()=>{Ba.current(X,b)},0)};z()},[st,at,B,jt,kt]),co=d.useCallback(b=>{const F=un[b]?.trailingRowOptions?.targetColumn??De?.targetColumn;if(typeof F=="number")return F+(wn?1:0);if(typeof F=="object"){const L=w.indexOf(F);if(L>=0)return L+(wn?1:0)}},[un,w,wn,De?.targetColumn]),kr=d.useRef(),ho=d.useRef(),No=d.useCallback((b,F)=>{const[L,V]=F;return mr(ut,st[L]?.themeOverride,Fr?.(V),b.themeOverride)},[Fr,st,ut]),{mapper:Nr}=L1(gt,v),Xn=gt?.navigationBehavior,Vo=d.useCallback(b=>{const F=ya.value?b.metaKey:b.ctrlKey,L=F&&ie==="multi",[V,W]=b.location,Y=G.columns,z=G.rows,[X,J]=G.current?.cell??[];if(b.kind==="cell"){if(ho.current=void 0,Vr.current=[V,W],V===0&&wn){if(zt===!0&&W===Fe||fn==="number"||ie==="none")return;const se=An(b.location);if(se.kind!==Bn.Marker)return;if(Jt!==void 0){const Ke=en(se);zn(Ke?.kind===Bn.Marker);const Ue=Ke?.onClick?.({...b,cell:se,posX:b.localEventX,posY:b.localEventY,bounds:b.bounds,theme:No(se,b.location),preventDefault:()=>{}});if(Ue===void 0||Ue.checked===se.checked)return}i(void 0),yn();const Pe=z.hasIndex(W),Et=kr.current;if(ie==="multi"&&(b.shiftKey||b.isLongTouch===!0)&&Et!==void 0&&z.hasIndex(Et)){const Ke=[Math.min(Et,W),Math.max(Et,W)+1];L||Oe==="multi"?lt(void 0,Ke,!0):lt(Ze.fromSingleSelection(Ke),void 0,L)}else ie==="multi"&&(L||b.isTouch||Oe==="multi")?Pe?lt(z.remove(W),void 0,!0):(lt(void 0,W,!0),kr.current=W):Pe&&z.length===1?lt(Ze.empty(),void 0,F):(lt(Ze.fromSingleSelection(W),void 0,F),kr.current=W)}else if(V>=B&&zt&&W===Fe){const se=co(V);xr(se??V)}else if(X!==V||J!==W){const se=An(b.location),Pe=en(se);if(Pe?.onSelect!==void 0){let Ue=!1;if(Pe.onSelect({...b,cell:se,posX:b.localEventX,posY:b.localEventY,bounds:b.bounds,preventDefault:()=>Ue=!0,theme:No(se,b.location)}),Ue)return}if(Xn==="block"&&Nr(W).isGroupHeader)return;const Et=Lr&&W===Fe,Ke=Lr&&G!==void 0&&G.current?.cell[1]===Fe;if((b.shiftKey||b.isLongTouch===!0)&&X!==void 0&&J!==void 0&&G.current!==void 0&&!Ke){if(Et)return;const Ue=Math.min(V,X),Ge=Math.max(V,X),tt=Math.min(W,J),wt=Math.max(W,J);kt({...G.current,range:{x:Ue,y:tt,width:Ge-Ue+1,height:wt-tt+1}},!0,F,"click"),kr.current=void 0,yn()}else kt({cell:[V,W],range:{x:V,y:W,width:1,height:1}},!0,F,"click"),kr.current=void 0,i(void 0),yn()}}else if(b.kind==="header")if(Vr.current=[V,W],i(void 0),wn&&V===0)kr.current=void 0,ho.current=void 0,!Ar&&ie==="multi"&&(z.length!==Fe?lt(Ze.fromSingleSelection([0,Fe]),void 0,F):lt(Ze.empty(),void 0,F),yn());else{const se=ho.current;if(ne==="multi"&&(b.shiftKey||b.isLongTouch===!0)&&se!==void 0&&Y.hasIndex(se)){const Pe=[Math.min(se,V),Math.max(se,V)+1];F||b.isTouch||ct==="multi"?Be(void 0,Pe,F):Be(Ze.fromSingleSelection(Pe),void 0,F)}else ne==="multi"&&(F||b.isTouch||ct==="multi")?(Y.hasIndex(V)?Be(Y.remove(V),void 0,F):Be(void 0,V,F),ho.current=V):ne!=="none"&&(Y.hasIndex(V)?Be(Y.remove(V),void 0,F):Be(Ze.fromSingleSelection(V),void 0,F),ho.current=V);kr.current=void 0,yn()}else b.kind===qn?Vr.current=[V,W]:b.kind===xa&&!b.isMaybeScrollbar&&(pe(Ji,!1),i(void 0),yn(),an?.(),kr.current=void 0,ho.current=void 0)},[ie,ne,G,wn,B,zt,Fe,fn,An,Jt,yn,Oe,ct,en,No,lt,co,xr,Xn,Nr,Lr,kt,Ar,Be,pe,an]),_o=d.useRef(!1),Vr=d.useRef(),Js=d.useRef(pr),or=d.useRef(),Hf=d.useCallback(b=>{if(fo.current=!1,Js.current=tn.current,b.button!==0&&b.button!==1){or.current=void 0;return}const F=performance.now();or.current={button:b.button,time:F,location:b.location},b?.kind==="header"&&(_o.current=!0);const L=b.kind==="cell"&&b.isFillHandle;!L&&b.kind!=="cell"&&b.isEdge||(u({previousSelection:G,fillHandle:L}),Vr.current=void 0,!b.isTouch&&b.button===0&&!L?Vo(b):!b.isTouch&&b.button===1&&(Vr.current=b.location))},[G,Vo]),[Ga,Ya]=d.useState(),eu=d.useCallback(b=>{if(b.kind!==qn||ne!=="multi")return;const F=ya.value?b.metaKey:b.ctrlKey,[L]=b.location,V=G.columns;if(L<B)return;const W=st[L];let Y=L,z=L;for(let X=L-1;X>=B&&bi(W.group,st[X].group);X--)Y--;for(let X=L+1;X<st.length&&bi(W.group,st[X].group);X++)z++;if(yn(),F||b.isTouch||ct==="multi")if(V.hasAll([Y,z+1])){let X=V;for(let J=Y;J<=z;J++)X=X.remove(J);Be(X,void 0,F)}else Be(void 0,[Y,z+1],F);else Be(Ze.fromSingleSelection([Y,z+1]),void 0,F)},[ne,yn,G.columns,st,B,Be,ct]),fo=d.useRef(!1),Ni=d.useCallback(async b=>{if(ee!==void 0&&je!==void 0){const F=tn.current.y,L=tn.current.height;let V=ee({x:b,y:F,width:1,height:Math.min(L,Fe-F)},N.current.signal);typeof V!="object"&&(V=await V());const W=un[b-B],Y=document.createElement("canvas").getContext("2d",{alpha:!1});if(Y!==null){Y.font=ut.baseFontFull;const z=sh(Y,ut,W,0,V,yr,oo,!1,en);je?.(W,z.width,b,z.width)}}},[un,ee,oo,ut,yr,je,B,Fe,en]),[Af,Ka]=d.useState(),po=d.useCallback(async(b,F)=>{const L=b.current?.range;if(L===void 0||ee===void 0||F.current===void 0)return;const V=F.current.range;if(M!==void 0){let X=!1;if(M({fillDestination:{...V,x:V.x-B},patternSource:{...L,x:L.x-B},preventDefault:()=>X=!0}),X)return}let W=ee(L,N.current.signal);typeof W!="object"&&(W=await W());const Y=W,z=[];for(let X=0;X<V.width;X++)for(let J=0;J<V.height;J++){const se=[V.x+X,V.y+J];if(qd(se,L))continue;const Pe=Y[J%L.height][X%L.width];Mo(Pe)||!Co(Pe)||z.push({location:se,value:{...Pe}})}Wn(z),gn.current?.damage(z.map(X=>({cell:X.location})))},[ee,Wn,M,B]),tu=d.useCallback(()=>{if(G.current===void 0||G.current.range.width<=1)return;const b={...G,current:{...G.current,range:{...G.current.range,width:1}}};po(b,G)},[po,G]),nu=d.useCallback(()=>{if(G.current===void 0||G.current.range.height<=1)return;const b={...G,current:{...G.current,range:{...G.current.range,height:1}}};po(b,G)},[po,G]),Ff=d.useCallback((b,F)=>{const L=s;if(u(void 0),Wa(void 0),Ka(void 0),_o.current=!1,F)return;if(L?.fillHandle===!0&&G.current!==void 0&&L.previousSelection?.current!==void 0){if($r===void 0)return;const Pe={...G,current:{...G.current,range:fh(L.previousSelection.current.range,$r)}};po(L.previousSelection,Pe),pe(Pe,!0);return}const[V,W]=b.location,[Y,z]=Vr.current??[],X=()=>{fo.current=!0},J=Pe=>{const Et=Pe.isTouch||Y===V&&z===W;if(Et&&E?.([V-B,W],{...Pe,preventDefault:X}),Pe.button===1)return!fo.current;if(!fo.current){const Ke=An(b.location),Ue=en(Ke);if(Ue!==void 0&&Ue.onClick!==void 0&&Et){const tt=Ue.onClick({...Pe,cell:Ke,posX:Pe.localEventX,posY:Pe.localEventY,bounds:Pe.bounds,theme:No(Ke,b.location),preventDefault:X});tt!==void 0&&!Mo(tt)&&ko(tt)&&(Wn([{location:Pe.location,value:tt}]),gn.current?.damage([{cell:Pe.location}]))}if(fo.current||G.current===void 0)return!1;let Ge=!1;switch(Ke.activationBehaviorOverride??Me){case"double-click":case"second-click":{if(L?.previousSelection?.current?.cell===void 0)break;const[tt,wt]=G.current.cell,[nn,mo]=L.previousSelection.current.cell;Ge=V===tt&&V===nn&&W===wt&&W===mo&&(Pe.isDoubleClick===!0||Me==="second-click");break}case"single-click":{Ge=!0;break}}if(Ge){const tt={inputType:"pointer",pointerActivation:Pe.isDoubleClick===!0?"double-click":Ke.activationBehaviorOverride??Me,pointerType:Pe.isTouch?"touch":"mouse"};return O?.([V-B,W],tt),uo(Pe.bounds,tt),!0}}return!1},se=b.location[0]-B;if(b.isTouch){const Pe=tn.current,Et=Js.current;if(Pe.x!==Et.x||Pe.y!==Et.y)return;if(b.isLongTouch===!0){if(b.kind==="cell"&&fi(G.current?.cell,b.location)){j?.([se,b.location[1]],{...b,preventDefault:X});return}else if(b.kind==="header"&&G.columns.hasIndex(V)){ue?.(se,{...b,preventDefault:X});return}else if(b.kind===qn){if(se<0)return;K?.(se,{...b,preventDefault:X});return}}b.kind==="cell"?J(b)||Vo(b):b.kind===qn?Q?.(se,{...b,preventDefault:X}):(b.kind===Er&&R?.(se,{...b,preventDefault:X}),Vo(b));return}if(b.kind==="header"){if(se<0)return;b.isEdge?b.isDoubleClick===!0&&Ni(V):b.button===0&&V===Y&&W===z&&R?.(se,{...b,preventDefault:X})}if(b.kind===qn){if(se<0)return;b.button===0&&V===Y&&W===z&&(Q?.(se,{...b,preventDefault:X}),fo.current||eu(b))}b.kind==="cell"&&(b.button===0||b.button===1)&&J(b),Vr.current=void 0},[s,G,B,$r,po,pe,E,An,en,Me,No,Wn,O,uo,j,ue,K,Vo,Q,R,Ni,eu]),Lf=d.useCallback(b=>{const F={...b,location:[b.location[0]-B,b.location[1]]};Qe?.(F),s!==void 0&&b.buttons===0&&(u(void 0),Wa(void 0),Ka(void 0),_o.current=!1),Ka(L=>_o.current?[b.scrollEdge[0],0]:b.scrollEdge[0]===L?.[0]&&b.scrollEdge[1]===L[1]?L:s===void 0||(or.current?.location[0]??0)<B?void 0:b.scrollEdge)},[s,Qe,B]),zf=d.useCallback((b,F)=>{Je?.(b-B,F)},[Je,B]),$f=d.useCallback((b,F)=>{Xe?.(b-B,F)},[Xe,B]),go=G?.current?.cell,Nf=d.useCallback((b,F,L,V,W,Y)=>{rr.current=!1;let z=go;z!==void 0&&(z=[z[0]-B,z[1]]);const X=Ie===0?void 0:{x:0,y:b.y,width:Ie,height:b.height},J=[];X!==void 0&&J.push(X),et>0&&(J.push({x:b.x-B,y:Fe-et,width:b.width,height:et}),Ie>0&&J.push({x:0,y:Fe-et,width:Ie,height:et}));const se={x:b.x-B,y:b.y,width:b.width,height:zt&&b.y+b.height>=Fe?b.height-1:b.height,tx:W,ty:Y,extras:{selected:z,freezeRegion:X,freezeRegions:J}};tn.current=se,Pi(se),so([F,L,V]),En?.(se,se.tx,se.ty,se.extras)},[go,B,zt,Fe,Ie,et,Pi,En]),Vf=Rr(T,d.useCallback((b,F)=>T?.(b-B,F-B)!==!1,[T,B])),_f=Rr(Ce,d.useCallback((b,F)=>{Ce?.(b-B,F-B),ne!=="none"&&Be(Ze.fromSingleSelection(F),void 0,!0)},[ne,Ce,B,Be])),qa=d.useRef(!1),Wf=d.useCallback(b=>{if(b.location[0]===0&&B>0){b.preventDefault();return}$e?.({...b,location:[b.location[0]-B,b.location[1]]}),b.defaultPrevented()||(qa.current=!0),u(void 0)},[$e,B]),jf=d.useCallback(()=>{qa.current=!1},[]),ru=gt?.selectionBehavior,Vi=d.useCallback(b=>{if(ru!=="block-spanning")return;const{isGroupHeader:F,path:L,groupRows:V}=Nr(b);if(F)return[b,b];const W=L[L.length-1],Y=b-W,z=b+V-W-1;return[Y,z]},[Nr,ru]),Za=d.useRef(),Qa=d.useCallback(b=>{if(!wh(b,Za.current)&&(Za.current=b,!(or?.current?.button!==void 0&&or.current.button>=1))){if(b.buttons!==0&&s!==void 0&&or.current?.location[0]===0&&B===1&&ie==="multi"&&s.previousSelection&&!s.previousSelection.rows.hasIndex(or.current.location[1])&&G.rows.hasIndex(or.current.location[1])){const F=Math.min(or.current.location[1],b.location[1]),L=Math.max(or.current.location[1],b.location[1])+1;lt(Ze.fromSingleSelection([F,L]),void 0,!1)}else if(b.buttons!==0&&s!==void 0&&G.current!==void 0&&!qa.current&&!_o.current&&(_e==="rect"||_e==="multi-rect")){const[F,L]=G.current.cell;let[V,W]=b.location;if(W<0&&(W=tn.current.y),s.fillHandle===!0&&s.previousSelection?.current!==void 0){const Y=s.previousSelection.current.range;W=Math.min(W,zt?Fe-1:Fe);const z=kv(Y,V,W,bt);Wa(z)}else{if(zt&&L===Fe)return;if(zt&&W===Fe)if(b.kind===xa)W--;else return;V=Math.max(V,B);const Y=Vi(L);W=Y===void 0?W:jn(W,Y[0],Y[1]);const z=V-F,X=W-L,J={x:z>=0?F:V,y:X>=0?L:W,width:Math.abs(z)+1,height:Math.abs(X)+1};kt({...G.current,range:J},!0,!1,"drag")}}Ot?.({...b,location:[b.location[0]-B,b.location[1]]})}},[s,B,ie,G,_e,Ot,lt,zt,Fe,bt,Vi,kt]),Bf=d.useCallback(()=>{const b=Za.current;if(b===void 0)return;const[F,L]=b.scrollEdge;let[V,W]=b.location;const Y=tn.current;F===-1?V=Y.extras?.freezeRegion?.x??Y.x:F===1&&(V=Y.x+Y.width),L===-1?W=Math.max(0,Y.y):L===1&&(W=Math.min(Fe-1,Y.y+Y.height)),V=jn(V,0,st.length-1),W=jn(W,0,Fe-1),Qa({...b,location:[V,W]})},[st.length,Qa,Fe]);D1(Af,_t,Bf);const Gn=d.useCallback(b=>{if(G.current===void 0)return;const[F,L]=b,[V,W]=G.current.cell,Y=G.current.range;let z=Y.x,X=Y.x+Y.width,J=Y.y,se=Y.y+Y.height;const[Pe,Et]=Vi(W)??[0,Fe-1],Ke=Et+1;if(L!==0)switch(L){case 2:{se=Ke,J=W,jt(0,se,"vertical");break}case-2:{J=Pe,se=W+1,jt(0,J,"vertical");break}case 1:{J<W?(J++,jt(0,J,"vertical")):(se=Math.min(Ke,se+1),jt(0,se,"vertical"));break}case-1:{se>W+1?(se--,jt(0,se,"vertical")):(J=Math.max(Pe,J-1),jt(0,J,"vertical"));break}default:mi()}if(F!==0)if(F===2)X=st.length,z=V,jt(X-1-B,0,"horizontal");else if(F===-2)z=B,X=V+1,jt(z-B,0,"horizontal");else{let Ue=[];if(ee!==void 0){const Ge=ee({x:z,y:J,width:X-z-B,height:se-J},N.current.signal);typeof Ge=="object"&&(Ue=_1(Ge))}if(F===1){let Ge=!1;if(z<V){if(Ue.length>0){const tt=Tr(z+1,V+1).find(wt=>!Ue.includes(wt-B));tt!==void 0&&(z=tt,Ge=!0)}else z++,Ge=!0;Ge&&jt(z,0,"horizontal")}Ge||(X=Math.min(st.length,X+1),jt(X-1-B,0,"horizontal"))}else if(F===-1){let Ge=!1;if(X>V+1){if(Ue.length>0){const tt=Tr(X-1,V,-1).find(wt=>!Ue.includes(wt-B));tt!==void 0&&(X=tt,Ge=!0)}else X--,Ge=!0;Ge&&jt(X-B,0,"horizontal")}Ge||(z=Math.max(B,z-1),jt(z-B,0,"horizontal"))}else mi()}kt({cell:G.current.cell,range:{x:z,y:J,width:X-z,height:se-J}},!0,!1,"keyboard-select")},[ee,Vi,G,st.length,B,Fe,jt,kt]),Ja=d.useRef(Hr);Ja.current=Hr;const Cr=d.useCallback((b,F,L,V)=>{const W=mn-(L?0:1);b=jn(b,B,un.length-1+B),F=jn(F,0,W);const Y=go?.[0],z=go?.[1];if(b===Y&&F===z)return!1;if(V&&G.current!==void 0){const X=[...G.current.rangeStack];(G.current.range.width>1||G.current.range.height>1)&&X.push(G.current.range),pe({...G,current:{cell:[b,F],range:{x:b,y:F,width:1,height:1},rangeStack:X}},!0)}else kt({cell:[b,F],range:{x:b,y:F,width:1,height:1}},!0,!1,"keyboard-nav");return c.current!==void 0&&c.current[0]===b&&c.current[1]===F&&(c.current=void 0),Ja.current&&jt(b-B,F),!0},[mn,B,un.length,go,G,jt,pe,kt]),Uf=d.useCallback((b,F)=>{o?.cell!==void 0&&b!==void 0&&ko(b)&&(Wn([{location:o.cell,value:b}]),window.requestAnimationFrame(()=>{gn.current?.damage([{cell:o.cell}])})),yn(!0),i(void 0);const[L,V]=F;if(G.current!==void 0&&(L!==0||V!==0)){const W=G.current.cell[1]===mn-1&&b!==void 0,Y=G.current.cell[0]===st.length-1&&b!==void 0;let z=!0;if(W&&V===1&&we!==void 0){z=!1;const X=G.current.cell[0]+L,J=co(X);xr(J??X,!1)}if(Y&&L===1&&at!==void 0){z=!1;const X=G.current.cell[1]+V;$i(X,!1)}z&&Cr(jn(G.current.cell[0]+L,0,st.length-1),jn(G.current.cell[1]+V,0,mn-1),W,!1)}P?.(b,F)},[o?.cell,yn,G,P,Wn,mn,Cr,st.length,xr,$i,we,at,co]),Xf=d.useMemo(()=>`gdg-overlay-${V1++}`,[]),_r=d.useCallback(b=>{yn();const F=[];for(let L=b.x;L<b.x+b.width;L++)for(let V=b.y;V<b.y+b.height;V++){const W=x([L-B,V]);if(!W.allowOverlay&&W.kind!==Z.Boolean)continue;let Y;if(W.kind===Z.Custom){const z=en(W),X=z?.provideEditor?.({...W,location:[L-B,V]});z?.onDelete!==void 0?Y=z.onDelete(W):Jg(X)&&(Y=X?.deletedValue?.(W))}else(ko(W)&&W.allowOverlay||W.kind===Z.Boolean)&&(Y=en(W)?.onDelete?.(W));Y!==void 0&&!Mo(Y)&&ko(Y)&&F.push({location:[L,V],value:Y})}Wn(F),gn.current?.damage(F.map(L=>({cell:L.location})))},[yn,x,en,Wn,B]),Wo=o!==void 0,ou=d.useCallback(b=>{const F=()=>{b.stopPropagation(),b.preventDefault()},L={didMatch:!1},{bounds:V}=b,W=G.columns,Y=G.rows,z=nr;if(!Wo&&nt(z.clear,b,L))pe(Ji,!1),an?.();else if(!Wo&&nt(z.selectAll,b,L))pe({columns:Ze.empty(),rows:Ze.empty(),current:{cell:G.current?.cell??[B,0],range:{x:B,y:0,width:w.length,height:Fe},rangeStack:[]}},!1);else if(nt(z.search,b,L))a?.current?.focus({preventScroll:!0}),Di(!0);else if(nt(z.delete,b,L)){const Ge=Wt?.(G)??!0;if(Ge!==!1){const tt=Ge===!0?G:Ge;if(tt.current!==void 0){_r(tt.current.range);for(const wt of tt.current.rangeStack)_r(wt)}for(const wt of tt.rows)_r({x:B,y:wt,width:w.length,height:1});for(const wt of tt.columns)_r({x:wt,y:0,width:1,height:Fe})}}if(L.didMatch)return F(),!0;if(G.current===void 0)return!1;let[X,J]=G.current.cell;const[,se]=G.current.cell;let Pe=!1,Et=!1;if(nt(z.scrollToSelectedCell,b,L))ji.current(X-B,J);else if(ne!=="none"&&nt(z.selectColumn,b,L))W.hasIndex(X)?Be(W.remove(X),void 0,!0):ne==="single"?Be(Ze.fromSingleSelection(X),void 0,!0):Be(void 0,X,!0);else if(ie!=="none"&&nt(z.selectRow,b,L))Y.hasIndex(J)?lt(Y.remove(J),void 0,!0):ie==="single"?lt(Ze.fromSingleSelection(J),void 0,!0):lt(void 0,J,!0);else if(!Wo&&V!==void 0&&nt(z.activateCell,b,L))if(J===Fe&&zt)window.setTimeout(()=>{const Ge=co(X);xr(Ge??X)},0);else{const Ge={inputType:"keyboard",key:b.key};O?.([X-B,J],Ge),uo(V,Ge)}else G.current.range.height>1&&nt(z.downFill,b,L)?nu():G.current.range.width>1&&nt(z.rightFill,b,L)?tu():nt(z.goToNextPage,b,L)?J+=Math.max(1,tn.current.height-4):nt(z.goToPreviousPage,b,L)?J-=Math.max(1,tn.current.height-4):nt(z.goToFirstCell,b,L)?(i(void 0),J=0,X=0):nt(z.goToLastCell,b,L)?(i(void 0),J=Number.MAX_SAFE_INTEGER,X=Number.MAX_SAFE_INTEGER):nt(z.selectToFirstCell,b,L)?(i(void 0),Gn([-2,-2])):nt(z.selectToLastCell,b,L)?(i(void 0),Gn([2,2])):Wo?(nt(z.closeOverlay,b,L)&&i(void 0),nt(z.acceptOverlayDown,b,L)&&(i(void 0),J++),nt(z.acceptOverlayUp,b,L)&&(i(void 0),J--),nt(z.acceptOverlayLeft,b,L)&&(i(void 0),X--),nt(z.acceptOverlayRight,b,L)&&(i(void 0),X++)):(nt(z.goDownCell,b,L)?J+=1:nt(z.goUpCell,b,L)?J-=1:nt(z.goRightCell,b,L)?X+=1:nt(z.goLeftCell,b,L)?X-=1:nt(z.goDownCellRetainSelection,b,L)?(J+=1,Pe=!0):nt(z.goUpCellRetainSelection,b,L)?(J-=1,Pe=!0):nt(z.goRightCellRetainSelection,b,L)?(X+=1,Pe=!0):nt(z.goLeftCellRetainSelection,b,L)?(X-=1,Pe=!0):nt(z.goToLastRow,b,L)?J=Fe-1:nt(z.goToFirstRow,b,L)?J=Number.MIN_SAFE_INTEGER:nt(z.goToLastColumn,b,L)?X=Number.MAX_SAFE_INTEGER:nt(z.goToFirstColumn,b,L)?X=Number.MIN_SAFE_INTEGER:(_e==="rect"||_e==="multi-rect")&&(nt(z.selectGrowDown,b,L)?Gn([0,1]):nt(z.selectGrowUp,b,L)?Gn([0,-1]):nt(z.selectGrowRight,b,L)?Gn([1,0]):nt(z.selectGrowLeft,b,L)?Gn([-1,0]):nt(z.selectToLastRow,b,L)?Gn([0,2]):nt(z.selectToFirstRow,b,L)?Gn([0,-2]):nt(z.selectToLastColumn,b,L)?Gn([2,0]):nt(z.selectToFirstColumn,b,L)&&Gn([-2,0])),Et=L.didMatch);if(Xn!==void 0&&Xn!=="normal"&&J!==se){const Ge=Xn==="skip-up"||Xn==="skip"||Xn==="block",tt=Xn==="skip-down"||Xn==="skip"||Xn==="block",wt=J<se;if(wt&&Ge){for(;J>=0&&Nr(J).isGroupHeader;)J--;J<0&&(J=se)}else if(!wt&&tt){for(;J<Fe&&Nr(J).isGroupHeader;)J++;J>=Fe&&(J=se)}}const Ke=Cr(X,J,!1,Pe),Ue=L.didMatch;return Ue&&(Ke||!Et||Rn)&&F(),Ue},[Xn,Wo,G,nr,ne,ie,_e,B,Nr,Fe,Cr,pe,an,w.length,Wt,Rn,_r,Be,lt,zt,co,xr,O,uo,nu,tu,Gn]),jo=d.useCallback(b=>{let F=!1;if(U!==void 0&&U({...b,...b.location&&{location:[b.location[0]-B,b.location[1]]},cancel:()=>{F=!0}}),F||ou(b)||G.current===void 0)return;const[L,V]=G.current.cell,W=tn.current;if(Ee&&!b.metaKey&&!b.ctrlKey&&G.current!==void 0&&b.key.length===1&&/[\p{L}\p{M}\p{N}\p{S}\p{P}]/u.test(b.key)&&b.bounds!==void 0&&Co(x([L-B,Math.max(0,Math.min(V,Fe-1))]))){if((!zt||V!==Fe)&&(W.y>V||V>W.y+W.height||W.x>L||L>W.x+W.width))return;const Y={inputType:"keyboard",key:b.key};O?.([L-B,V],Y),uo(b.bounds,Y,b.key),b.stopPropagation(),b.preventDefault()}},[Ee,U,ou,G,x,B,Fe,zt,O,uo]),Gf=d.useCallback((b,F)=>{const L=b.location[0]-B;if(b.kind==="header"&&ue?.(L,{...b,preventDefault:F}),b.kind===qn){if(L<0)return;K?.(L,{...b,preventDefault:F})}if(b.kind==="cell"){const[V,W]=b.location;j?.([L,W],{...b,preventDefault:F}),b0(G,b.location)||Cr(V,W,!1,!1)}},[G,j,K,ue,B,Cr]),el=d.useCallback(async b=>{if(!nr.paste)return;function F(z,X,J,se){const Pe=typeof J=="object"?J?.join(`
`)??"":J?.toString()??"";if(!Mo(z)&&Co(z)&&z.readonly!==!0){const Et=S?.(Pe,z);if(Et!==void 0&&ko(Et))return{location:X,value:Et};const Ke=en(z);if(Ke===void 0)return;if(Ke.kind===Z.Custom){zn(z.kind===Z.Custom);const Ue=Ke.onPaste?.(Pe,z.data);return Ue===void 0?void 0:{location:X,value:{...z,data:Ue}}}else{const Ue=Ke.onPaste?.(Pe,z,{formatted:se,formattedString:typeof se=="string"?se:se?.join(`
`),rawValue:J});return Ue===void 0?void 0:(zn(Ue.kind===z.kind),{location:X,value:Ue})}}}const L=G.columns,V=G.rows,W=_t.current?.contains(document.activeElement)===!0||l.current?.contains(document.activeElement)===!0;let Y;if(G.current!==void 0?Y=[G.current.range.x,G.current.range.y]:L.length===1?Y=[L.first()??0,0]:V.length===1&&(Y=[B,V.first()??0]),W&&Y!==void 0){let z,X;const J="text/plain",se="text/html";if(navigator.clipboard.read!==void 0){const Ue=await navigator.clipboard.read();for(const Ge of Ue){if(Ge.types.includes(se)){const tt=await(await Ge.getType(se)).text(),wt=uc(tt);if(wt!==void 0){z=wt;break}}Ge.types.includes(J)&&(X=await(await Ge.getType(J)).text())}}else if(navigator.clipboard.readText!==void 0)X=await navigator.clipboard.readText();else if(b!==void 0&&b?.clipboardData!==null){if(b.clipboardData.types.includes(se)){const Ue=b.clipboardData.getData(se);z=uc(Ue)}z===void 0&&b.clipboardData.types.includes(J)&&(X=b.clipboardData.getData(J))}else return;const[Pe,Et]=Y,Ke=[];do{if(Se===void 0){const Ue=An(Y),Ge=X??z?.map(wt=>wt.map(nn=>nn.rawValue).join("	")).join("	")??"",tt=F(Ue,Y,Ge,void 0);tt!==void 0&&Ke.push(tt);break}if(z===void 0){if(X===void 0)return;z=S1(X)}if(Se===!1||typeof Se=="function"&&Se?.([Y[0]-B,Y[1]],z.map(Ue=>Ue.map(Ge=>Ge.rawValue?.toString()??"")))!==!0)return;for(const[Ue,Ge]of z.entries()){if(Ue+Et>=Fe)break;for(const[tt,wt]of Ge.entries()){const nn=[tt+Pe,Ue+Et],[mo,Bi]=nn;if(mo>=st.length||Bi>=mn)continue;const Uo=An(nn),ir=F(Uo,nn,wt.rawValue,wt.formatted);ir!==void 0&&Ke.push(ir)}}}while(!1);Wn(Ke),gn.current?.damage(Ke.map(Ue=>({cell:Ue.location})))}},[S,en,An,G,nr.paste,_t,st.length,Wn,mn,Se,B,Fe]);xn("paste",el,h,!1,!0);const Bo=d.useCallback(async(b,F)=>{if(!nr.copy)return;const L=F===!0||_t.current?.contains(document.activeElement)===!0||l.current?.contains(document.activeElement)===!0,V=G.columns,W=G.rows,Y=(z,X)=>{if(!qe)dc(z,X,b);else{const J=X.map(se=>({kind:Z.Text,data:w[se].title,displayData:w[se].title,allowOverlay:!1}));dc([J,...z],X,b)}};if(L&&ee!==void 0){if(G.current!==void 0){let z=ee(G.current.range,N.current.signal);typeof z!="object"&&(z=await z()),Y(z,Tr(G.current.range.x-B,G.current.range.x+G.current.range.width-B))}else if(W!==void 0&&W.length>0){const z=[...W].map(X=>{const J=ee({x:B,y:X,width:w.length,height:1},N.current.signal);return typeof J=="object"?J[0]:J().then(se=>se[0])});if(z.some(X=>X instanceof Promise)){const X=await Promise.all(z);Y(X,Tr(w.length))}else Y(z,Tr(w.length))}else if(V.length>0){const z=[],X=[];for(const J of V){let se=ee({x:J,y:0,width:1,height:Fe},N.current.signal);typeof se!="object"&&(se=await se()),z.push(se),X.push(J-B)}if(z.length===1)Y(z[0],X);else{const J=z.reduce((se,Pe)=>se.map((Et,Ke)=>[...Et,...Pe[Ke]]));Y(J,X)}}}},[w,ee,G,nr.copy,B,_t,Fe,qe]);xn("copy",Bo,h,!1,!1);const Yf=d.useCallback(async b=>{if(!(!nr.cut||!(_t.current?.contains(document.activeElement)===!0||l.current?.contains(document.activeElement)===!0))&&(await Bo(b),G.current!==void 0)){let F={current:{cell:G.current.cell,range:G.current.range,rangeStack:[]},rows:Ze.empty(),columns:Ze.empty()};const L=Wt?.(F);if(L===!1||(F=L===!0?F:L,F.current===void 0))return;_r(F.current.range)}},[_r,G,nr.cut,Bo,_t,Wt]);xn("cut",Yf,h,!1,!1);const Kf=d.useCallback((b,F)=>{if(he!==void 0){B!==0&&(b=b.map(W=>[W[0]-B,W[1]])),he(b,F);return}if(b.length===0||F===-1)return;const[L,V]=b[F];c.current!==void 0&&c.current[0]===L&&c.current[1]===V||(c.current=[L,V],Cr(L,V,!1,!1))},[he,B,Cr]),[_i,Wi]=Mt?.current?.cell??[],ji=d.useRef(jt);ji.current=jt,d.useLayoutEffect(()=>{Ja.current&&!rr.current&&_i!==void 0&&Wi!==void 0&&(_i!==de.current?.current?.cell[0]||Wi!==de.current?.current?.cell[1])&&ji.current(_i,Wi),rr.current=!1},[_i,Wi]);const iu=G.current!==void 0&&(G.current.cell[0]>=st.length||G.current.cell[1]>=mn);d.useLayoutEffect(()=>{iu&&pe(Ji,!1)},[iu,pe]);const qf=d.useMemo(()=>zt===!0&&De?.tint===!0?Ze.fromSingleSelection(mn-1):Ze.empty(),[mn,zt,De?.tint]),Zf=d.useCallback(b=>typeof sn=="boolean"?sn:sn?.(b-B)??!0,[B,sn]),Qf=d.useMemo(()=>{if(Ga===void 0||l.current===null)return null;const{bounds:b,group:F}=Ga,L=l.current.getBoundingClientRect();return d.createElement(f1,{bounds:b,group:F,canvasBounds:L,onClose:()=>Ya(void 0),onFinish:V=>{Ya(void 0),ge?.(F,V)}})},[ge,Ga]),Jf=Math.min(st.length,Ie+(wn?1:0));d.useImperativeHandle(t,()=>({appendRow:(b,F)=>xr(b+B,F),appendColumn:(b,F)=>$i(b,F),updateCells:b=>(B!==0&&(b=b.map(F=>({cell:[F.cell[0]+B,F.cell[1]]}))),gn.current?.damage(b)),getBounds:(b,F)=>{if(!(l?.current===null||_t?.current===null)){if(b===void 0&&F===void 0){const L=l.current.getBoundingClientRect(),V=L.width/_t.current.clientWidth;return{x:L.x-_t.current.scrollLeft*V,y:L.y-_t.current.scrollTop*V,width:_t.current.scrollWidth*V,height:_t.current.scrollHeight*V}}return gn.current?.getBounds((b??0)+B,F)}},focus:()=>gn.current?.focus(),emit:async b=>{switch(b){case"delete":jo({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":jo({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":jo({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Bo(void 0,!0);break;case"paste":await el();break}},scrollTo:jt,remeasureColumns:b=>{for(const F of b)Ni(F+B)},getMouseArgsForPosition:(b,F,L)=>{if(gn?.current===null)return;const V=gn.current.getMouseArgsForPosition(b,F,L);if(V!==void 0)return{...V,location:[V.location[0]-B,V.location[1]]}}}),[xr,$i,Ni,_t,Bo,jo,el,B,jt]);const[au,lu]=go??[],ep=d.useCallback(b=>{const[F,L]=b;if(L===-1){ne!=="none"&&(Be(Ze.fromSingleSelection(F),void 0,!1),yn());return}au===F&&lu===L||(kt({cell:b,range:{x:F,y:L,width:1,height:1}},!0,!1,"keyboard-nav"),jt(F,L))},[ne,yn,jt,au,lu,kt,Be]),[tp,np]=d.useState(!1),su=d.useRef(Ad(b=>{np(b)},5)),rp=d.useCallback(()=>{su.current(!0),G.current===void 0&&G.columns.length===0&&G.rows.length===0&&s===void 0&&kt({cell:[B,Hi],range:{x:B,y:Hi,width:1,height:1}},!0,!1,"keyboard-select")},[Hi,G,s,B,kt]),op=d.useCallback(()=>{su.current(!1)},[]),[ip,ap]=d.useMemo(()=>{let b;const F=ht?.scrollbarWidthOverride??Nl(),L=Fe+(zt?1:0);if(typeof tr=="number")b=pn+L*tr;else{let W=0;const Y=Math.min(L,10);for(let z=0;z<Y;z++)W+=tr(z);W=Math.floor(W/Y),b=pn+L*W}b+=F;const V=st.reduce((W,Y)=>Y.width+W,0)+F;return[`${Math.min(1e5,V)}px`,`${Math.min(1e5,b)}px`]},[st,ht?.scrollbarWidthOverride,tr,Fe,zt,pn]),lp=d.useMemo(()=>P0(ut),[ut]);return d.createElement(ah.Provider,{value:ut},d.createElement(I1,{style:lp,className:q,inWidth:m??ip,inHeight:y??ap},d.createElement(u1,{fillHandle:Ht,drawFocusRing:Fo,experimental:ht,fixedShadowX:Cn,fixedShadowY:cr,getRowThemeOverride:Fr,headerIcons:Nn,imageWindowLoader:_,initialSize:Ve,isDraggable:We,onDragLeave:Dt,onRowMoved:Jt,overscrollX:Na,overscrollY:Va,preventDiagonalScrolling:bn,rightElement:Vt,rightElementProps:Mn,smoothScrollX:ye,smoothScrollY:At,className:q,enableGroups:_n,onCanvasFocused:rp,onCanvasBlur:op,canvasRef:l,onContextMenu:Gf,theme:ut,cellXOffset:Df,cellYOffset:Hi,accessibilityHeight:pr.height,onDragEnd:jf,columns:st,nonGrowWidth:Ft,drawHeader:pt,onColumnProposeMove:Vf,drawCell:hn,disabledRows:qf,freezeColumns:Jf,lockColumns:B,firstColAccessible:B===0,getCellContent:An,minColumnWidth:yr,maxColumnWidth:oo,searchInputRef:a,showSearch:lo,onSearchClose:_a,highlightRegions:Pf,getCellsForSelection:ee,getGroupDetails:ja,headerHeight:$o,isFocused:tp,groupHeaderHeight:_n?io:0,freezeTrailingRows:et+(zt&&De?.sticky===!0?1:0),hasAppendRow:zt,onColumnResize:je,onColumnResizeEnd:ke,onColumnResizeStart:Ye,onCellFocused:ep,onColumnMoved:_f,onDragStart:Wf,onHeaderMenuClick:zf,onHeaderIndicatorClick:$f,onItemHovered:Qa,isFilling:s?.fillHandle===!0,onMouseMove:Lf,onKeyDown:jo,onKeyUp:re,onMouseDown:Hf,onMouseUp:Ff,onDragOverCell:On,onDrop:Zt,onSearchResultsChanged:Kf,onVisibleRegionChanged:Nf,clientSize:Nt,rowHeight:tr,searchResults:oe,searchValue:A,onSearchValueChange:$,rows:mn,scrollRef:_t,selection:G,translateX:pr.tx,translateY:pr.ty,verticalBorder:Zf,gridRef:gn,getCellRenderer:en,resizeIndicator:Ei}),Qf,o!==void 0&&d.createElement(d.Suspense,{fallback:null},d.createElement(N1,{...o,validateCell:Re,bloom:I,id:Xf,getCellRenderer:en,className:ht?.isSubGrid===!0?"click-outside-ignore":void 0,provideEditor:kn,imageEditorOverride:g,portalElementRef:Ao,onFinishEditing:Uf,markdownDivCreateNode:p,isOutsideClick:Pn,customEventTarget:ht?.eventTarget}))))},j1=d.forwardRef(W1);function pc(e){const{cell:t,posX:n,posY:r,bounds:o,theme:i}=e,{width:a,height:l,x:s,y:u}=o,c=t.maxSize??i.checkboxMaxSize,h=Math.floor(o.y+l/2),g=zd(c,l,i.cellVerticalPadding),f=Ld(t.contentAlign??"center",s,a,i.cellHorizontalPadding,g),p=Fd(f,h,g),m=$d(s+n,u+r,p);return as(t)&&m}const B1={getAccessibilityString:e=>e.data?.toString()??"false",kind:Z.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>U1(e,e.cell.data,as(e.cell),e.cell.maxSize??e.theme.checkboxMaxSize,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{pc(e)&&e.preventDefault()},onClick:e=>{if(pc(e))return{...e.cell,data:xh(e.cell.data)}},onPaste:(e,t)=>{let n=fa;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=is),n===t.data?void 0:{...t,data:n}}};function U1(e,t,n,r,o){if(!n&&t===fa)return;const{ctx:i,hoverAmount:a,theme:l,rect:s,highlighted:u,hoverX:c,hoverY:h,cell:{contentAlign:g}}=e,{x:f,y:p,width:m,height:y}=s;let w=!1;if(o>0){let v=n?1-o+o*a:.4;if(t===fa&&(v*=a),v===0)return;v<1&&(w=!0,i.globalAlpha=v)}ks(i,l,t,f,p,m,y,u,c,h,r,g),w&&(i.globalAlpha=1)}const X1=cn("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),G1=e=>{const{bubbles:t}=e;return d.createElement(X1,null,t.map((n,r)=>d.createElement("div",{key:r,className:"boe-bubble"},n)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Y1={getAccessibilityString:e=>Nd(e.data),kind:Z.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>{const r=t.data.reduce((o,i)=>e.measureText(i).width+o+n.bubblePadding*2+n.bubbleMargin,0);return t.data.length===0?n.cellHorizontalPadding*2:r+2*n.cellHorizontalPadding-n.bubbleMargin},draw:e=>K1(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(G1,{bubbles:t.data})},onPaste:()=>{}};function K1(e,t){const{rect:n,theme:r,ctx:o,highlighted:i}=e,{x:a,y:l,width:s,height:u}=n;let c=a+r.cellHorizontalPadding;const h=[];for(const g of t){if(c>a+s)break;const f=Dr(g,o,r.baseFontFull).width;h.push({x:c,width:f}),c+=f+r.bubblePadding*2+r.bubbleMargin}o.beginPath();for(const g of h)Qn(o,g.x,l+(u-r.bubbleHeight)/2,g.width+r.bubblePadding*2,r.bubbleHeight,r.roundingRadius??r.bubbleHeight/2);o.fillStyle=i?r.bgBubbleSelected:r.bgBubble,o.fill();for(const[g,f]of h.entries())o.beginPath(),o.fillStyle=r.textBubble,o.fillText(t[g],f.x+r.bubblePadding,l+u/2+er(o,r))}const q1=cn("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),Z1=e=>{const{drilldowns:t}=e;return d.createElement(q1,null,t.map((n,r)=>d.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&d.createElement("img",{src:n.img}),d.createElement("div",null,n.text))))},Q1={getAccessibilityString:e=>Nd(e.data.map(t=>t.text)),kind:Z.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,o)=>e.measureText(o.text).width+r+n.bubblePadding*2+n.bubbleMargin+(o.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>eb(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Z1,{drilldowns:t.data})},onPaste:()=>{}},kl={};function J1(e,t,n,r){const o=Math.ceil(window.devicePixelRatio),i=5,a=n-i*2,l=4,s=n*o,u=r+i,c=r*3,h=(c+i*2)*o,g=`${e},${t},${o},${n}`;if(kl[g]!==void 0)return{el:kl[g],height:s,width:h,middleWidth:l*o,sideWidth:u*o,padding:i*o,dpr:o};const f=document.createElement("canvas"),p=f.getContext("2d");return p===null?null:(f.width=h,f.height=s,p.scale(o,o),kl[g]=f,p.beginPath(),Qn(p,i,i,c,a,r),p.shadowColor="rgba(24, 25, 34, 0.4)",p.shadowBlur=1,p.fillStyle=e,p.fill(),p.shadowColor="rgba(24, 25, 34, 0.3)",p.shadowOffsetY=1,p.shadowBlur=5,p.fillStyle=e,p.fill(),p.shadowOffsetY=0,p.shadowBlur=0,p.shadowBlur=0,p.beginPath(),Qn(p,i+.5,i+.5,c,a,r),p.strokeStyle=t,p.lineWidth=1,p.stroke(),{el:f,height:s,width:h,sideWidth:u*o,middleWidth:r*o,padding:i*o,dpr:o})}function eb(e,t){const{rect:n,theme:r,ctx:o,imageLoader:i,col:a,row:l}=e,{x:s,width:u}=n,c=r.baseFontFull,h=bs(o,c),g=Math.min(n.height,Math.max(16,Math.ceil(h*r.lineHeight)*2)),f=Math.floor(n.y+(n.height-g)/2),p=g-10,m=r.bubblePadding,y=r.bubbleMargin;let w=s+r.cellHorizontalPadding;const v=r.roundingRadius??6,x=J1(r.bgCell,r.drilldownBorder,g,v),E=[];for(const O of t){if(w>s+u)break;const M=Dr(O.text,o,c).width;let P=0;O.img!==void 0&&i.loadOrGetImage(O.img,a,l)!==void 0&&(P=p-8+4);const S=M+P+m*2;E.push({x:w,width:S}),w+=S+y}if(x!==null){const{el:O,height:M,middleWidth:P,sideWidth:S,width:k,dpr:H,padding:I}=x,R=S/H,T=I/H;for(const D of E){const C=Math.floor(D.x),Q=Math.floor(D.width),j=Q-(R-T)*2;o.imageSmoothingEnabled=!1,o.drawImage(O,0,0,S,M,C-T,f,R,g),j>0&&o.drawImage(O,S,0,P,M,C+(R-T),f,j,g),o.drawImage(O,k-S,0,S,M,C+Q-(R-T),f,R,g),o.imageSmoothingEnabled=!0}}o.beginPath();for(const[O,M]of E.entries()){const P=t[O];let S=M.x+m;if(P.img!==void 0){const k=i.loadOrGetImage(P.img,a,l);if(k!==void 0){const H=p-8;let I=0,R=0,T=k.width,D=k.height;T>D?(I+=(T-D)/2,T=D):D>T&&(R+=(D-T)/2,D=T),o.beginPath(),Qn(o,S,f+g/2-H/2,H,H,r.roundingRadius??3),o.save(),o.clip(),o.drawImage(k,I,R,T,D,S,f+g/2-H/2,H,H),o.restore(),S+=H+4}}o.beginPath(),o.fillStyle=r.textBubble,o.fillText(P.text,S,f+g/2+er(o,r))}}const tb={getAccessibilityString:e=>e.data.join(", "),kind:Z.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>nb(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,o=r??Rm;return d.createElement(o,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:i=>{n({...t,data:[i]})}})},onPaste:(e,t)=>{e=e.trim();const n=e.split(",").map(r=>{try{return new URL(r),r}catch{return}}).filter(r=>r!==void 0);if(!(n.length===t.data.length&&n.every((r,o)=>r===t.data[o])))return{...t,data:n}}},Cl=4;function nb(e,t,n,r){const{rect:o,col:i,row:a,theme:l,ctx:s,imageLoader:u}=e,{x:c,y:h,height:g,width:f}=o,p=g-l.cellVerticalPadding*2,m=[];let y=0;for(let v=0;v<t.length;v++){const x=t[v];if(x.length===0)continue;const E=u.loadOrGetImage(x,i,a);if(E!==void 0){m[v]=E;const O=E.width*(p/E.height);y+=O+Cl}}if(y===0)return;y-=Cl;let w=c+l.cellHorizontalPadding;r==="right"?w=Math.floor(c+f-l.cellHorizontalPadding-y):r==="center"&&(w=Math.floor(c+f/2-y/2));for(const v of m){if(v===void 0)continue;const x=v.width*(p/v.height);n>0&&(s.beginPath(),Qn(s,w,h+l.cellVerticalPadding,x,p,n),s.save(),s.clip()),s.drawImage(v,w,h+l.cellVerticalPadding,x,p),n>0&&s.restore(),w+=x+Cl}}function rb(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const ob={getAccessibilityString:()=>"",kind:Z.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:r,ctx:o,rect:i,theme:a}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let l=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(l+=Math.round(rb(n,r)*t.skeletonWidthVariability));const s=a.cellHorizontalPadding;l+s*2>=i.width&&(l=i.width-s*2-1);const u=t.skeletonHeight??Math.min(18,i.height-2*a.cellVerticalPadding);Qn(o,i.x+s,i.y+(i.height-u)/2,l,u,a.roundingRadius??3),o.fillStyle=qr(a.textDark,.1),o.fill()},onPaste:()=>{}},ib=()=>e=>e.targetWidth,gc=cn("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[ib(),"px"]}}),ab=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:o,targetRect:i,onFinish:a,validatedSelection:l}=e,s=t.data,u=t.readonly===!0,[c,h]=d.useState(s===""||r),g=d.useCallback(()=>{h(p=>!p)},[]),f=s?"gdg-ml-6":"";return c?d.createElement(gc,{targetWidth:i.width-20},d.createElement(Jr,{autoFocus:!0,highlight:!1,validatedSelection:l,value:s,onKeyDown:p=>{p.key==="Enter"&&p.stopPropagation()},onChange:n}),d.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${f}`,onClick:()=>a(t)},d.createElement(wm,null))):d.createElement(gc,{targetWidth:i.width},d.createElement(l0,{contents:s,createNode:o}),!u&&d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer"}),d.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${f}`,onClick:g},d.createElement(ss,null))),d.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},lb={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:Ri,measure:(e,t,n)=>{const r=t.data.split(`
`)[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>ar(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:o,markdownDivCreateNode:i,forceEditMode:a,validatedSelection:l}=e;return d.createElement(ab,{onFinish:o,targetRect:r,value:n,validatedSelection:l,onChange:s=>t({...n,data:s.target.value}),forceEditMode:a,createNode:i})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},sb={getAccessibilityString:e=>e.row.toString(),kind:Bn.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:ub,measure:()=>44,draw:e=>db(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:o}=e,{width:i,height:a}=t,l=n.drawHandle?7+(i-7)/2:i/2,s=a/2;if(Math.abs(r-l)<=10&&Math.abs(o-s)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function ub(e,t){const{ctx:n,theme:r}=e,o=r.markerFontFull,i=t??{};return i?.font!==o&&(n.font=o,i.font=o),i.deprep=cb,n.textAlign="center",i}function cb(e){const{ctx:t}=e;t.textAlign="start"}function db(e,t,n,r,o,i){const{ctx:a,rect:l,hoverAmount:s,theme:u}=e,{x:c,y:h,width:g,height:f}=l,p=n?1:r==="checkbox-visible"?.6+.4*s:s;if(r!=="number"&&p>0){a.globalAlpha=p;const m=7*(n?s:1);if(ks(a,u,n,o?c+m:c,h,o?g-m:g,f,!0,void 0,void 0,u.checkboxMaxSize,"center",i),o){a.globalAlpha=s,a.beginPath();for(const y of[3,6])for(const w of[-5,-1,3])a.rect(c+y,h+f/2+w,2,2);a.fillStyle=u.textLight,a.fill(),a.beginPath()}a.globalAlpha=1}if(r==="number"||r==="both"&&!n){const m=t.toString(),y=u.markerFontFull,w=c+g/2;r==="both"&&s!==0&&(a.globalAlpha=1-s),a.fillStyle=u.textLight,a.font=y,a.fillText(m,w,h+f/2+er(a,y)),s!==0&&(a.globalAlpha=1)}}const hb={getAccessibilityString:()=>"",kind:Bn.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>fb(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function fb(e,t,n){const{ctx:r,rect:o,hoverAmount:i,theme:a,spriteManager:l}=e,{x:s,y:u,width:c,height:h}=o;r.beginPath(),r.globalAlpha=i,r.rect(s+1,u+1,c,h-2),r.fillStyle=a.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const g=t!=="";let f=0;if(n!==void 0){const p=h-8,m=s+8/2,y=u+8/2;l.drawSprite(n,"normal",r,m,y,p,a,g?1:i),f=p}else{f=24;const p=12,m=g?p:i*p,y=g?0:(1-i)*p*.5,w=a.cellHorizontalPadding+4;m>0&&(r.moveTo(s+w+y,u+h/2),r.lineTo(s+w+y+m,u+h/2),r.moveTo(s+w+y+m*.5,u+h/2-m*.5),r.lineTo(s+w+y+m*.5,u+h/2+m*.5),r.lineWidth=2,r.strokeStyle=a.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=a.textMedium,r.fillText(t,f+s+a.cellHorizontalPadding+.5,u+h/2+er(r,a)),r.beginPath()}function Sh(e,t,n,r,o,i,a){e.textBaseline="alphabetic";const l=pb(e,o,r,t,n?.fullSize??!1);e.beginPath(),Qn(e,l.x,l.y,l.width,l.height,t.roundingRadius??4),e.globalAlpha=i,e.fillStyle=n?.bgColor??qr(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",a?.("text")}function pb(e,t,n,r,o){const i=r.cellHorizontalPadding,a=r.cellVerticalPadding;if(o)return{x:t.x+i/2,y:t.y+a/2+1,width:t.width-i,height:t.height-a-1};const l=Dr(n,e,r.baseFontFull,"alphabetic"),s=t.height-a,u=Math.min(s,l.actualBoundingBoxAscent*2.5);return{x:t.x+i/2,y:t.y+(t.height-u)/2+1,width:l.width+i*3,height:u-1}}const gb=d.lazy(async()=>await ns(()=>import("./number-overlay-editor-DqZDp47w-BU9rDKjf-C_JbBsOL.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,11]))),mb={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:Ri,draw:e=>{const{hoverAmount:t,cell:n,ctx:r,theme:o,rect:i,overrideCursor:a}=e,{hoverEffect:l,displayData:s,hoverEffectTheme:u}=n;l===!0&&t>0&&Sh(r,o,u,s,i,t,a),ar(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return d.createElement(d.Suspense,{fallback:null},d.createElement(gb,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:o,onChange:i=>n({...r,data:Number.isNaN(i.floatValue??0)?0:i.floatValue})}))},onPaste:(e,t,n)=>{const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return{...t,data:r,displayData:n.formattedString??t.displayData}}},vb={getAccessibilityString:()=>"",measure:()=>108,kind:Z.Protected,needsHover:!1,needsHoverPosition:!1,draw:bb,onPaste:()=>{}};function bb(e){const{ctx:t,theme:n,rect:r}=e,{x:o,y:i,height:a}=r;t.beginPath();const l=2.5;let s=o+n.cellHorizontalPadding+l;const u=i+a/2,c=Math.cos(Lu(30))*l,h=Math.sin(Lu(30))*l;for(let g=0;g<12;g++)t.moveTo(s,u-l),t.lineTo(s,u+l),t.moveTo(s+c,u-h),t.lineTo(s-c,u+h),t.moveTo(s-c,u-h),t.lineTo(s+c,u+h),s+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const wb={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>Ri(e,t,e.theme.textLight),draw:e=>ar(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return St.createElement(Jr,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:o,onChange:i=>n({...r,data:i.target.value})})},onPaste:()=>{}},yb={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:Ri,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:r,ctx:o,rect:i,theme:a,overrideCursor:l}=e,{displayData:s,contentAlign:u,hoverEffect:c,allowWrapping:h,hoverEffectTheme:g}=t;c===!0&&n>0&&Sh(o,a,g,s,i,n,l),ar(e,s,u,h,r)},measure:(e,t,n)=>{const r=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let o=0;for(const i of r)o=Math.max(o,e.measureText(i).width);return o+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:o,validatedSelection:i}=t;return d.createElement(Jr,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:o.readonly!==!0,disabled:o.readonly===!0,altNewline:!0,value:o.data,validatedSelection:i,onChange:a=>r({...o,data:a.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},xb=cn("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),kb=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:o,validatedSelection:i,preview:a}=e,[l,s]=d.useState(!o&&(t===""||r)),u=d.useCallback(()=>{s(!0)},[]);return l?d.createElement(Jr,{validatedSelection:i,highlight:!0,autoFocus:!0,value:t,onChange:n}):d.createElement(xb,null,d.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},a),!o&&d.createElement("div",{className:"gdg-edit-icon",onClick:u},d.createElement(ss,null)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function Mh(e,t,n,r){let o=n.cellHorizontalPadding;const i=t.height/2-e.actualBoundingBoxAscent/2,a=e.width,l=e.actualBoundingBoxAscent;return r==="right"?o=t.width-a-n.cellHorizontalPadding:r==="center"&&(o=t.width/2-a/2),{x:o,y:i,width:a,height:l}}function mc(e){const{cell:t,bounds:n,posX:r,posY:o,theme:i}=e,a=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const l=eh(a,i.baseFontFull);if(l===void 0)return!1;const s=Mh(l,n,i,t.contentAlign);return Yr({x:s.x-4,y:s.y-4,width:s.width+8,height:s.height+8},r,o)}const Cb={getAccessibilityString:e=>e.data?.toString()??"",kind:Z.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:Ri,draw:e=>{const{cell:t,theme:n,overrideCursor:r,hoverX:o,hoverY:i,rect:a,ctx:l}=e,s=t.displayData??t.data,u=t.hoverEffect===!0;if(r!==void 0&&u&&o!==void 0&&i!==void 0){const c=Dr(s,l,n.baseFontFull),h=Mh(c,a,n,t.contentAlign),{x:g,y:f,width:p,height:m}=h;if(o>=g-4&&o<=g-4+p+8&&i>=f-4&&i<=f-4+m+8){const y=er(l,n.baseFontFull);r("pointer");const w=5,v=f-y;l.beginPath(),l.moveTo(a.x+g,Math.floor(a.y+v+m+w)+.5),l.lineTo(a.x+g+p,Math.floor(a.y+v+m+w)+.5),l.strokeStyle=n.linkColor,l.stroke(),l.save(),l.fillStyle=e.cellFillColor,ar({...e,rect:{...a,x:a.x-1}},s,t.contentAlign),ar({...e,rect:{...a,x:a.x-2}},s,t.contentAlign),ar({...e,rect:{...a,x:a.x+1}},s,t.contentAlign),ar({...e,rect:{...a,x:a.x+2}},s,t.contentAlign),l.restore()}}l.fillStyle=u?n.linkColor:n.textDark,ar(e,s,t.contentAlign)},onSelect:e=>{mc(e)&&e.preventDefault()},onClick:e=>{const{cell:t}=e;mc(e)&&t.onClickUri?.(e)},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:r,forceEditMode:o,validatedSelection:i}=t;return d.createElement(kb,{forceEditMode:r.readonly!==!0&&(o||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:r.data,preview:r.displayData??r.data,validatedSelection:i,readonly:r.readonly===!0,onChange:a=>n({...r,data:a.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},Sb=[sb,hb,B1,Y1,Q1,tb,ob,lb,mb,vb,wb,yb,Cb];var Sl,vc;function Mb(){if(vc)return Sl;vc=1;var e=Hd(),t=md(),n="Expected a function";function r(o,i,a){var l=!0,s=!0;if(typeof o!="function")throw new TypeError(n);return t(a)&&(l="leading"in a?!!a.leading:l,s="trailing"in a?!!a.trailing:s),e(o,i,{leading:l,maxWait:i,trailing:s})}return Sl=r,Sl}var Rb=Mb();const Eb=vr(Rb),Ml=[];class Ib extends rh{imageLoaded=()=>{};loadedLocations=[];cache={};setCallback(t){this.imageLoaded=t}sendLoaded=Eb(()=>{this.imageLoaded(new gi(this.loadedLocations)),this.loadedLocations=[]},20);clearOutOfWindow=()=>{const t=Object.keys(this.cache);for(const n of t){const r=this.cache[n];let o=!1;for(let i=0;i<r.cells.length;i++){const a=r.cells[i];if(this.isInWindow(a)){o=!0;break}}o?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[n])}};loadImage(t,n,r,o){let i=!1;const a=Ml.pop()??new Image;let l=!1;const s={img:void 0,cells:[Zn(n,r)],url:t,cancel:()=>{l||(l=!0,Ml.length<12?Ml.unshift(a):i||(a.src=""))}},u=new Promise(c=>a.addEventListener("load",()=>c(null)));requestAnimationFrame(async()=>{try{a.src=t,await u,await a.decode();const c=this.cache[o];if(c!==void 0&&!l){c.img=a;for(const h of c.cells)this.loadedLocations.push(xs(h));i=!0,this.sendLoaded()}}catch{s.cancel()}}),this.cache[o]=s}loadOrGetImage(t,n,r){const o=t,i=this.cache[o];if(i!==void 0){const a=Zn(n,r);return i.cells.includes(a)||i.cells.push(a),i.img}else this.loadImage(t,n,r,o)}}const Tb=(e,t)=>{const n=d.useMemo(()=>({...wv,...e.headerIcons}),[e.headerIcons]),r=d.useMemo(()=>e.renderers??Sb,[e.renderers]),o=d.useMemo(()=>e.imageWindowLoader??new Ib,[e.imageWindowLoader]);return d.createElement(j1,{...e,renderers:r,headerIcons:n,ref:t,imageWindowLoader:o})},Ob=d.forwardRef(Tb);function bc(e,t){const n=d.useRef(null),r=d.useRef(),o=d.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]);return d.useEffect(()=>o,[o]),{debouncedCallback:d.useCallback((...i)=>{r.current=i,o(),n.current=setTimeout(()=>{r.current&&(e(...r.current),r.current=void 0)},t)},[e,t,o]),cancel:o}}var Db=Qp();const Pb=vr(Db);var Yl={exports:{}},Hb=Yl.exports,wc;function Ab(){return wc||(wc=1,(function(e,t){(function(n,r){try{e.exports=r(vg)}catch{e.exports=r}n&&(n.momentDurationFormatSetup=n.moment?r(n.moment):r)})(Hb,function(n){var r=!1,o=!1,i=!1,a=!1,l="escape years months weeks days hours minutes seconds milliseconds general".split(" "),s=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function u($,A){return A.length>$.length?!1:$.indexOf(A)!==-1}function c($){for(var A="";$;)A+="0",$-=1;return A}function h($){for(var A=$.split("").reverse(),U=0,re=!0;re&&U<A.length;)U?A[U]==="9"?A[U]="0":(A[U]=(parseInt(A[U],10)+1).toString(),re=!1):(parseInt(A[U],10)<5&&(re=!1),A[U]="0"),U+=1;return re&&A.push("1"),A.reverse().join("")}function g($,A){var U=P(C(A).sort(),function(le){return le+":"+A[le]}).join(","),re=$+"+"+U;return g.cache[re]||(g.cache[re]=Intl.NumberFormat($,A)),g.cache[re]}g.cache={};function f($,A,U){var re=A.useToLocaleString,le=A.useGrouping,Ee=le&&A.grouping.slice(),we=A.maximumSignificantDigits,at=A.minimumIntegerDigits||1,Ce=A.fractionDigits||0,ft=A.groupingSeparator,vt=A.decimalSeparator;if(re&&U){var _e={minimumIntegerDigits:at,useGrouping:le};if(Ce&&(_e.maximumFractionDigits=Ce,_e.minimumFractionDigits=Ce),we&&$>0&&(_e.maximumSignificantDigits=we),i){if(!a){var ne=D({},A);ne.useGrouping=!1,ne.decimalSeparator=".",$=parseFloat(f($,ne),10)}return g(U,_e).format($)}else{if(!o){var ne=D({},A);ne.useGrouping=!1,ne.decimalSeparator=".",$=parseFloat(f($,ne),10)}return $.toLocaleString(U,_e)}}var ie;we?ie=$.toPrecision(we+1):ie=$.toFixed(Ce+1);var be,ce,ve,ze=ie.split("e");ve=ze[1]||"",ze=ze[0].split("."),ce=ze[1]||"",be=ze[0]||"";var $e=be.length,Qe=ce.length,Se=$e+Qe,qe=be+ce;(we&&Se===we+1||!we&&Qe===Ce+1)&&(qe=h(qe),qe.length===Se+1&&($e=$e+1),Qe&&(qe=qe.slice(0,-1)),be=qe.slice(0,$e),ce=qe.slice($e)),we&&(ce=ce.replace(/0*$/,""));var Ie=parseInt(ve,10);Ie>0?ce.length<=Ie?(ce=ce+c(Ie-ce.length),be=be+ce,ce=""):(be=be+ce.slice(0,Ie),ce=ce.slice(Ie)):Ie<0&&(ce=c(Math.abs(Ie)-be.length)+be+ce,be="0"),we||(ce=ce.slice(0,Ce),ce.length<Ce&&(ce=ce+c(Ce-ce.length)),be.length<at&&(be=c(at-be.length)+be));var Me="";if(le){ze=be;for(var Oe;ze.length;)Ee.length&&(Oe=Ee.shift()),Me&&(Me=ft+Me),Me=ze.slice(-Oe)+Me,ze=ze.slice(0,-Oe)}else Me=be;return ce&&(Me=Me+vt+ce),Me}function p($,A){return $.label.length>A.label.length?-1:$.label.length<A.label.length?1:0}function m($,A){var U=[];return M(C(A),function(re){if(re.slice(0,15)==="_durationLabels"){var le=re.slice(15).toLowerCase();M(C(A[re]),function(Ee){Ee.slice(0,1)===$&&U.push({type:le,key:Ee,label:A[re][Ee]})})}}),U}function y($,A,U){return A===1&&U===null?$:$+$}var w={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:y};function v($){return Object.prototype.toString.call($)==="[object Array]"}function x($){return Object.prototype.toString.call($)==="[object Object]"}function E($,A){for(var U=$.length;U-=1;)if(A($[U]))return $[U]}function O($,A){var U=0,re=$&&$.length||0,le;for(typeof A!="function"&&(le=A,A=function(Ee){return Ee===le});U<re;){if(A($[U]))return $[U];U+=1}}function M($,A){var U=0,re=$.length;if(!(!$||!re))for(;U<re;){if(A($[U],U)===!1)return;U+=1}}function P($,A){var U=0,re=$.length,le=[];if(!$||!re)return le;for(;U<re;)le[U]=A($[U],U),U+=1;return le}function S($,A){return P($,function(U){return U[A]})}function k($){var A=[];return M($,function(U){U&&A.push(U)}),A}function H($){var A=[];return M($,function(U){O(A,U)||A.push(U)}),A}function I($,A){var U=[];return M($,function(re){M(A,function(le){re===le&&U.push(re)})}),H(U)}function R($,A){var U=[];return M($,function(re,le){if(!A(re))return U=$.slice(le),!1}),U}function T($,A){var U=$.slice().reverse();return R(U,A).reverse()}function D($,A){for(var U in A)A.hasOwnProperty(U)&&($[U]=A[U]);return $}function C($){var A=[];for(var U in $)$.hasOwnProperty(U)&&A.push(U);return A}function Q($,A){var U=0,re=$.length;if(!$||!re)return!1;for(;U<re;){if(A($[U],U)===!0)return!0;U+=1}return!1}function j($){var A=[];return M($,function(U){A=A.concat(U)}),A}function q(){var $=0;try{$.toLocaleString("i")}catch(A){return A.name==="RangeError"}return!1}function ue($){return $(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6"}function te($){var A=!0;return A=A&&$(1,"en",{minimumIntegerDigits:1})==="1",A=A&&$(1,"en",{minimumIntegerDigits:2})==="01",A=A&&$(1,"en",{minimumIntegerDigits:3})==="001",!(!A||(A=A&&$(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100",A=A&&$(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0",A=A&&$(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99",A=A&&$(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990",!A)||(A=A&&$(99.99,"en",{maximumSignificantDigits:1})==="100",A=A&&$(99.99,"en",{maximumSignificantDigits:2})==="100",A=A&&$(99.99,"en",{maximumSignificantDigits:3})==="100",A=A&&$(99.99,"en",{maximumSignificantDigits:4})==="99.99",A=A&&$(99.99,"en",{maximumSignificantDigits:5})==="99.99",!A)||(A=A&&$(1e3,"en",{useGrouping:!0})==="1,000",A=A&&$(1e3,"en",{useGrouping:!1})==="1000",!A))}function K(){var $=[].slice.call(arguments),A={},U;if(M($,function(we,at){if(!at){if(!v(we))throw"Expected array as the first argument to durationsFormat.";U=we}if(typeof we=="string"||typeof we=="function"){A.template=we;return}if(typeof we=="number"){A.precision=we;return}x(we)&&D(A,we)}),!U||!U.length)return[];A.returnMomentTypes=!0;var re=P(U,function(we){return we.format(A)}),le=I(l,H(S(j(re),"type"))),Ee=A.largest;return Ee&&(le=le.slice(0,Ee)),A.returnMomentTypes=!1,A.outputTypes=le,P(U,function(we){return we.format(A)})}function ge(){var $=[].slice.call(arguments),A=D({},this.format.defaults),U=this.asMilliseconds(),re=this.asMonths();typeof this.isValid=="function"&&this.isValid()===!1&&(U=0,re=0);var le=U<0,Ee=n.duration(Math.abs(U),"milliseconds"),we=n.duration(Math.abs(re),"months");M($,function(_){if(typeof _=="string"||typeof _=="function"){A.template=_;return}if(typeof _=="number"){A.precision=_;return}x(_)&&D(A,_)});var at={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},Ce={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};A.types=l;var ft=function(_){return O(l,function(Ve){return Ce[Ve].test(_)})},vt=new RegExp(P(l,function(_){return Ce[_].source}).join("|"),"g");A.duration=this;var _e=typeof A.template=="function"?A.template.apply(A):A.template,ne=A.outputTypes,ie=A.returnMomentTypes,be=A.largest,ce=[];ne||(v(A.stopTrim)&&(A.stopTrim=A.stopTrim.join("")),A.stopTrim&&M(A.stopTrim.match(vt),function(_){var Ve=ft(_);Ve==="escape"||Ve==="general"||ce.push(Ve)}));var ve=n.localeData();ve||(ve={}),M(C(w),function(_){if(typeof w[_]=="function"){ve[_]||(ve[_]=w[_]);return}ve["_"+_]||(ve["_"+_]=w[_])}),M(C(ve._durationTimeTemplates),function(_){_e=_e.replace("_"+_+"_",ve._durationTimeTemplates[_])});var ze=A.userLocale||n.locale(),$e=A.useLeftUnits,Qe=A.usePlural,Se=A.precision,qe=A.forceLength,Ie=A.useGrouping,Me=A.trunc,Oe=A.useSignificantDigits&&Se>0,ct=Oe?A.precision:0,Je=ct,Xe=A.minValue,yt=!1,gt=A.maxValue,Tt=!1,Ot=A.useToLocaleString,an=A.groupingSeparator,Kt=A.decimalSeparator,En=A.grouping;Ot=Ot&&(r||i);var Mt=A.trim;v(Mt)&&(Mt=Mt.join(" ")),Mt===null&&(be||gt||Oe)&&(Mt="all"),(Mt===null||Mt===!0||Mt==="left"||Mt==="right")&&(Mt="large"),Mt===!1&&(Mt="");var dt=function(_){return _.test(Mt)},In=/large/,mt=/small/,qt=/both/,kn=/mid/,De=/^all|[^sm]all/,et=/final/,bt=be>0||Q([In,qt,De],dt),Tn=Q([mt,qt,De],dt),ln=Q([kn,De],dt),sn=Q([et,De],dt),On=P(_e.match(vt),function(_,Ve){var We=ft(_);return _.slice(0,1)==="*"&&(_=_.slice(1),We!=="escape"&&We!=="general"&&ce.push(We)),{index:Ve,length:_.length,text:"",token:We==="escape"?_.replace(Ce.escape,"$1"):_,type:We==="escape"||We==="general"?null:We}}),Zt={index:0,length:0,token:"",text:"",type:null},Qt=[];$e&&On.reverse(),M(On,function(_){if(_.type){(Zt.type||Zt.text)&&Qt.push(Zt),Zt=_;return}$e?Zt.text=_.token+Zt.text:Zt.text+=_.token}),(Zt.type||Zt.text)&&Qt.push(Zt),$e&&Qt.reverse();var Ne=I(l,H(k(S(Qt,"type"))));if(!Ne.length)return S(Qt,"text").join("");Ne=P(Ne,function(_,Ve){var We=Ve+1===Ne.length,Dt=!Ve,Jt;_==="years"||_==="months"?Jt=we.as(_):Jt=Ee.as(_);var dn=Math.floor(Jt),Sn=Jt-dn,bn=O(Qt,function(Vt){return _===Vt.type});return Dt&&gt&&Jt>gt&&(Tt=!0),We&&Xe&&Math.abs(A.duration.as(_))<Xe&&(yt=!0),Dt&&qe===null&&bn.length>1&&(qe=!0),Ee.subtract(dn,_),we.subtract(dn,_),{rawValue:Jt,wholeValue:dn,decimalValue:We?Sn:0,isSmallest:We,isLargest:Dt,type:_,tokenLength:bn.length}});var xt=Me?Math.floor:Math.round,Dn=function(_,Ve){var We=Math.pow(10,Ve);return xt(_*We)/We},Ht=!1,ht=!1,Cn=function(_,Ve){var We={useGrouping:Ie,groupingSeparator:an,decimalSeparator:Kt,grouping:En,useToLocaleString:Ot};return Oe&&(ct<=0?(_.rawValue=0,_.wholeValue=0,_.decimalValue=0):(We.maximumSignificantDigits=ct,_.significantDigits=ct)),Tt&&!ht&&(_.isLargest?(_.wholeValue=gt,_.decimalValue=0):(_.wholeValue=0,_.decimalValue=0)),yt&&!ht&&(_.isSmallest?(_.wholeValue=Xe,_.decimalValue=0):(_.wholeValue=0,_.decimalValue=0)),_.isSmallest||_.significantDigits&&_.significantDigits-_.wholeValue.toString().length<=0?Se<0?_.value=Dn(_.wholeValue,Se):Se===0?_.value=xt(_.wholeValue+_.decimalValue):Oe?(Me?_.value=Dn(_.rawValue,ct-_.wholeValue.toString().length):_.value=_.rawValue,_.wholeValue&&(ct-=_.wholeValue.toString().length)):(We.fractionDigits=Se,Me?_.value=_.wholeValue+Dn(_.decimalValue,Se):_.value=_.wholeValue+_.decimalValue):Oe&&_.wholeValue?(_.value=Math.round(Dn(_.wholeValue,_.significantDigits-_.wholeValue.toString().length)),ct-=_.wholeValue.toString().length):_.value=_.wholeValue,_.tokenLength>1&&(qe||Ht)&&(We.minimumIntegerDigits=_.tokenLength,ht&&We.maximumSignificantDigits<_.tokenLength&&delete We.maximumSignificantDigits),!Ht&&(_.value>0||Mt===""||O(ce,_.type)||O(ne,_.type))&&(Ht=!0),_.formattedValue=f(_.value,We,ze),We.useGrouping=!1,We.decimalSeparator=".",_.formattedValueEn=f(_.value,We,"en"),_.tokenLength===2&&_.type==="milliseconds"&&(_.formattedValueMS=f(_.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),_};if(Ne=P(Ne,Cn),Ne=k(Ne),Ne.length>1){var cr=function(_){return O(Ne,function(Ve){return Ve.type===_})},Nn=function(_){var Ve=cr(_.type);Ve&&M(_.targets,function(We){var Dt=cr(We.type);Dt&&parseInt(Ve.formattedValueEn,10)===We.value&&(Ve.rawValue=0,Ve.wholeValue=0,Ve.decimalValue=0,Dt.rawValue+=1,Dt.wholeValue+=1,Dt.decimalValue=0,Dt.formattedValueEn=Dt.wholeValue.toString(),ht=!0)})};M(s,Nn)}return ht&&(Ht=!1,ct=Je,Ne=P(Ne,Cn),Ne=k(Ne)),ne&&!(Tt&&!A.trim)?(Ne=P(Ne,function(_){return O(ne,function(Ve){return _.type===Ve})?_:null}),Ne=k(Ne)):(bt&&(Ne=R(Ne,function(_){return!_.isSmallest&&!_.wholeValue&&!O(ce,_.type)})),be&&Ne.length&&(Ne=Ne.slice(0,be)),Tn&&Ne.length>1&&(Ne=T(Ne,function(_){return!_.wholeValue&&!O(ce,_.type)&&!_.isLargest})),ln&&(Ne=P(Ne,function(_,Ve){return Ve>0&&Ve<Ne.length-1&&!_.wholeValue?null:_}),Ne=k(Ne)),sn&&Ne.length===1&&!Ne[0].wholeValue&&!(!Me&&Ne[0].isSmallest&&Ne[0].rawValue<Xe)&&(Ne=[])),ie?Ne:(M(Qt,function(_){var Ve=at[_.type],We=O(Ne,function(Vt){return Vt.type===_.type});if(!(!Ve||!We)){var Dt=We.formattedValueEn.split(".");Dt[0]=parseInt(Dt[0],10),Dt[1]?Dt[1]=parseFloat("0."+Dt[1],10):Dt[1]=null;var Jt=ve.durationPluralKey(Ve,Dt[0],Dt[1]),dn=m(Ve,ve),Sn=!1,bn={};M(ve._durationLabelTypes,function(Vt){var Mn=O(dn,function(Rn){return Rn.type===Vt.type&&Rn.key===Jt});Mn&&(bn[Mn.type]=Mn.label,u(_.text,Vt.string)&&(_.text=_.text.replace(Vt.string,Mn.label),Sn=!0))}),Qe&&!Sn&&(dn.sort(p),M(dn,function(Vt){if(bn[Vt.type]===Vt.label)return u(_.text,Vt.label)?!1:void 0;if(u(_.text,Vt.label))return _.text=_.text.replace(Vt.label,bn[Vt.type]),!1}))}}),Qt=P(Qt,function(_){if(!_.type)return _.text;var Ve=O(Ne,function(Dt){return Dt.type===_.type});if(!Ve)return"";var We="";return $e&&(We+=_.text),(le&&Tt||!le&&yt)&&(We+="< ",Tt=!1,yt=!1),(le&&yt||!le&&Tt)&&(We+="> ",Tt=!1,yt=!1),le&&(Ve.value>0||Mt===""||O(ce,Ve.type)||O(ne,Ve.type))&&(We+="-",le=!1),_.type==="milliseconds"&&Ve.formattedValueMS?We+=Ve.formattedValueMS:We+=Ve.formattedValue,$e||(We+=_.text),We}),Qt.join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function ae(){var $=this.duration,A=function(le){return $._data[le]},U=O(this.types,A),re=E(this.types,A);switch(U){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(U===re)return"d __";case"weeks":return U===re?"w __":(this.trim===null&&(this.trim="both"),"w __, d __, h __");case"months":if(U===re)return"M __";case"years":return U===re?"y __":(this.trim===null&&(this.trim="both"),"y __, M __, d __");default:return this.trim===null&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function fe($){if(!$)throw"Moment Duration Format init cannot find moment instance.";$.duration.format=K,$.duration.fn.format=ge,$.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:ae,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},$.updateLocale("en",w)}var he=function($,A,U){return $.toLocaleString(A,U)};r=q()&&te(he),o=r&&ue(he);var oe=function($,A,U){if(typeof window<"u"&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(A,U).format($)};return i=te(oe),a=i&&ue(oe),fe(n),fe})})(Yl)),Yl.exports}Ab();const Fb=["true","t","yes","y","on","1"],Lb=["false","f","no","n","off","0"];function Rt(e,t=""){return{kind:Z.Text,readonly:!0,allowOverlay:!0,data:e,displayData:e,errorDetails:t,isError:!0,style:"faded"}}function To(e){return Object.hasOwn(e,"isError")&&e.isError}function zb(e){return Object.hasOwn(e,"tooltip")&&e.tooltip!==""}function Ms(e){return Object.hasOwn(e,"isMissingValue")&&e.isMissingValue}function Kl(e=!1){return e?{kind:Z.Loading,allowOverlay:!1,isMissingValue:!0,copyData:""}:{kind:Z.Loading,allowOverlay:!1,copyData:""}}function $b(e,t){const n=t?"faded":"normal";return{kind:Z.Text,data:"",displayData:"",allowOverlay:!0,readonly:e,style:n}}function ql(e){return{id:e.id,title:e.title,hasMenu:!1,menuIcon:"dots",themeOverride:e.themeOverride,icon:e.icon,group:e.group,...e.isStretched&&!e.isPinned&&{grow:1},...e.width&&{width:e.width}}}function Po(e,t){return Te(e)?t||{}:Te(t)?e||{}:ud(e,t)}function Rs(e){if(Te(e))return[];if(typeof e=="number"||typeof e=="boolean")return[e];if(e instanceof Uint8Array&&(e=new TextDecoder("utf-8").decode(e)),typeof e=="string"){if(e==="")return[];if(e.trim().startsWith("[")&&e.trim().endsWith("]"))try{return JSON.parse(e)}catch{return[e]}else return e.split(",")}try{const t=JSON.parse(JSON.stringify(e,(n,r)=>typeof r=="bigint"?Number(r):r));return Array.isArray(t)?t.map(n=>["string","number","boolean","null"].includes(typeof n)?n:it(n)):[it(t)]}catch{return[it(e)]}}function Rh(e){return typeof e=="string"||e instanceof String?!0:(e instanceof eg&&(e=Array.from(e)),Array.isArray(e)&&e.every(t=>typeof t=="string"||t instanceof String))}function Nb(e){return e?.startsWith("{")&&e.endsWith("}")}function it(e){try{try{return Pb(e)}catch{return JSON.stringify(e,(t,n)=>typeof n=="bigint"?Number(n):n)}}catch{return`[${typeof e}]`}}function Eh(e){if(Te(e))return null;if(typeof e=="boolean")return e;const t=it(e).toLowerCase().trim();if(t==="")return null;if(Fb.includes(t))return!0;if(Lb.includes(t))return!1}function yi(e){if(Te(e))return null;if(Array.isArray(e))return NaN;if(typeof e=="string"){if(e.trim().length===0)return null;try{const t=li.unformat(e.trim());if(ot(t))return t}catch{}}else if(e instanceof Int32Array)return Number(e[0]);return Number(e)}function Ih(e){return Te(e)?"":it(e.map(t=>typeof t=="string"&&t.includes(",")?t.replace(/,/g," "):t))}function ka(e){if(Te(e))return"";if(typeof e=="string")return e;try{return JSON.stringify(e,(t,n)=>typeof n=="bigint"?Number(n):n)}catch{return it(e)}}function Vb(e){if(e===0||Math.abs(e)>=1e-4)return 4;const t=e.toExponential().split("e");return Math.abs(parseInt(t[1],10))}function Ur(e,t={}){const n=navigator.languages;try{return new Intl.NumberFormat(n,t).format(e)}catch(r){if(r instanceof RangeError)return new Intl.NumberFormat(void 0,t).format(e);throw r}}function Ca(e,t,n){return Number.isNaN(e)||!Number.isFinite(e)?"":Te(t)||t===""?ot(n)?(n===0&&(e=Math.round(e)),li(e).format({thousandSeparated:!1,mantissa:n,trimMantissa:!1})):li(e).format({thousandSeparated:!1,mantissa:Vb(e),trimMantissa:!0}):t==="plain"?li(e).format({thousandSeparated:!1,mantissa:20,trimMantissa:!0}):t==="localized"?Ur(e,{minimumFractionDigits:n??void 0,maximumFractionDigits:n??void 0}):t==="percent"?Ur(e,{style:"percent",minimumFractionDigits:ot(n)?Math.max(n-2,0):0,maximumFractionDigits:ot(n)?Math.max(n-2,0):2}):t==="dollar"?Ur(e,{style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumFractionDigits:n??2,maximumFractionDigits:n??2}):t==="euro"?Ur(e,{style:"currency",currency:"EUR",currencyDisplay:"narrowSymbol",minimumFractionDigits:n??2,maximumFractionDigits:n??2}):t==="yen"?Ur(e,{style:"currency",currency:"JPY",currencyDisplay:"narrowSymbol",minimumFractionDigits:n??0,maximumFractionDigits:n??0}):["compact","scientific","engineering"].includes(t)?Ur(e,{notation:t}):t==="accounting"?li(e).format({thousandSeparated:!0,negative:"parenthesis",mantissa:n??2,trimMantissa:!1}):t==="bytes"?Ur(e,{notation:"compact",style:"unit",unit:"byte",unitDisplay:"narrow",maximumFractionDigits:1}).replace("BB","GB"):Lg.sprintf(t,e)}function yc(e,t,n="datetime"){if(t==="localized"){const r=navigator.languages,o=n==="time"?void 0:"medium",i=n==="date"?void 0:"medium";try{return new Intl.DateTimeFormat(r,{dateStyle:o,timeStyle:i}).format(e.toDate())}catch(a){if(a instanceof RangeError)return new Intl.DateTimeFormat(void 0,{dateStyle:o,timeStyle:i}).format(e.toDate());throw a}}else{if(t==="distance")return e.fromNow();if(t==="calendar")return e.calendar();if(t==="iso8601")return n==="date"?e.format("YYYY-MM-DD"):n==="time"?e.format("HH:mm:ss.SSS[Z]"):e.toISOString()}return e.format(t)}function ea(e){if(Te(e))return null;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;if(typeof e=="string"&&e.trim().length===0)return null;try{const t=Number(e);if(!isNaN(t)){let n=t;t>=10**18?n=t/1e3**3:t>=10**15?n=t/1e3**2:t>=10**12&&(n=t/1e3);const r=Xr.unix(n).utc();if(r.isValid())return r.toDate()}if(typeof e=="string"){const n=Xr.utc(e);if(n.isValid())return n.toDate();const r=Xr.utc(e,[Xr.HTML5_FMT.TIME_MS,Xr.HTML5_FMT.TIME_SECONDS,Xr.HTML5_FMT.TIME]);if(r.isValid())return r.toDate()}}catch{return}}function Th(e){if(e%1===0)return 0;let t=e.toString();return t.indexOf("e")!==-1&&(t=e.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20})),t.indexOf(".")===-1?0:t.split(".")[1].length}function _b(e,t){if(!Number.isFinite(e))return e;if(t<=0)return Math.trunc(e);const n=10**t,r=e*n,o=Number.EPSILON*Math.abs(r)*10;return Math.trunc(r+Math.sign(r)*o)/n}const Wb=new RegExp(/(\r\n|\n|\r)/gm);function xi(e){return e.indexOf(`
`)!==-1?e.replace(Wb," "):e}function jb(e,t){if(Te(t))return"";try{const n=t.match(e);return n?.[1]!==void 0?decodeURIComponent(n[1].replace(/\+/g,"%20")):t}catch{return t}}const Bb=Jn("div",{target:"en99xsi0"})(({theme:e})=>({overflowY:"auto",padding:e.spacing.sm,".react-json-view .copy-icon svg":{fontSize:"0.9em !important",marginRight:`${e.spacing.threeXS} !important`,verticalAlign:"middle !important"}}),""),Es=({jsonValue:e,theme:t})=>{let n;if(e)try{n=typeof e=="string"?ol.parse(e):ol.parse(ol.stringify(e))}catch{n=void 0}return Te(n)?me.jsx(Jr,{highlight:!0,autoFocus:!1,disabled:!0,value:ka(e)??"",onChange:()=>{}}):me.jsx(Bb,{"data-testid":"stJsonColumnViewer",children:me.jsx(Lp,{src:n,collapsed:2,theme:zp(t.bgCell)>.5?"rjv-default":"monokai",displayDataTypes:!1,displayObjectSize:!1,name:!1,enableClipboard:!0,style:{fontFamily:t.fontFamily,fontSize:t.baseFontStyle,backgroundColor:t.bgCell,whiteSpace:"pre-wrap"}})})};d.memo(Es);const Ub=e=>{const t=e.theme,n=e.value.data;return me.jsx(Es,{jsonValue:n.value||n.displayValue,theme:t})},Xb=e=>{const t=e.theme,n=e.value;return me.jsx(Es,{jsonValue:n.data,theme:t})},Gb={kind:Z.Custom,isMatch:e=>e.data.kind==="json-cell",draw:(e,t)=>{const{value:n,displayValue:r}=t.data;return vs(e,r??ka(n)??"",t.contentAlign),!0},measure:(e,t,n)=>{const{value:r,displayValue:o}=t.data,i=o??ka(r)??"";return(i?e.measureText(i).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:Ub})},Oh="line_chart",Yb="area_chart",Dh="bar_chart",Kb=e=>new Map(Object.entries({red:e.colors.redColor,blue:e.colors.blueColor,green:e.colors.greenColor,yellow:e.colors.yellowColor,violet:e.colors.violetColor,orange:e.colors.orangeColor,gray:e.colors.grayColor,grey:e.colors.grayColor,primary:e.colors.primary}));function Is(e,t,n,r){const o=Po({y_min:null,y_max:null,color:void 0},t.columnTypeOptions),i=Kb(r);let a;o.color==="auto"||o.color==="auto-inverse"?a=r.colors.greenColor:a=o.color?i.get(o.color)??o.color:void 0;const l={kind:Z.Custom,allowOverlay:!1,copyData:"",contentAlign:t.contentAlignment,data:{kind:"sparkline-cell",values:[],displayValues:[],graphKind:n,color:a,yAxis:[o.y_min??0,o.y_max??1]}};return{...t,kind:e,typeIcon:e===Oh?":material/show_chart:":e===Dh?":material/bar_chart:":":material/area_chart:",sortMode:"default",isEditable:!1,getCell(s){if(Te(s))return Kl();const u=Rs(s),c=[];let h=[];if(u.length===0)return Kl();let g=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;for(let w=0;w<u.length;w++){const v=yi(u[w]);if(Number.isNaN(v)||Te(v))return Rt(it(u),`The value cannot be interpreted as a numeric array. ${it(v)} is not a number.`);v>g&&(g=v),v<f&&(f=v),c.push(v)}let p,m;if(u.length===1){let w;g<=0?w=g===0?1:0:w=g,p=o.y_max??w,m=o.y_min??(g>=0?0:g)}else p=o.y_max??g,m=o.y_min??f;if(Te(m)||Te(p)||Number.isNaN(m)||Number.isNaN(p)||m>=p)return Rt("Invalid min/max y-axis configuration",`The y_min (${m}) and y_max (${p}) configuration options must be valid numbers.`);c.length>0&&(g>p||f<m)?h=c.map(w=>g-f===0?g>(p||1)?p:m:(p-m)*((w-f)/(g-f))+m):h=c;let y=a;return(o.color==="auto"&&h[0]>h[h.length-1]||o.color==="auto-inverse"&&h[0]<h[h.length-1])&&(y=r.colors.redColor),{...l,copyData:c.join(","),data:{...l.data,values:h,displayValues:c.map(w=>Ca(w)),yAxis:[m,p],color:y},isMissingValue:Te(s)}},getCellValue(s){return s.kind===Z.Loading||s.data?.values===void 0?null:s.data?.values}}}function Ph(e,t){return Is(Oh,e,"line",t)}Ph.isEditableType=!1;function Hh(e,t){return Is(Dh,e,"bar",t)}Hh.isEditableType=!1;function Ah(e,t){return Is(Yb,e,"area",t)}Ah.isEditableType=!1;function Ts(e,t){const n={kind:Z.Boolean,data:!1,allowOverlay:!1,contentAlign:e.contentAlignment,readonly:!e.isEditable,style:"normal"};return{...e,kind:"checkbox",typeIcon:":material/check_box:",sortMode:"default",themeOverride:{roundingRadius:Math.round(Math.min(rn(t.radii.md),rn(t.radii.maxCheckbox)))},getCell(r){let o=null;return o=Eh(r),o===void 0?Rt(it(r),"The value cannot be interpreted as boolean."):{...n,data:o,isMissingValue:Te(o)}},getCellValue(r){return r.data===void 0?null:r.data}}}Ts.isEditableType=!0;function xc(e,t){return t.startsWith("+")||t.startsWith("-")?e=e.utcOffset(t,!1):e=e.tz(t),e}function Os(e,t,n,r,o,i,a){const l=Po({format:n,step:r,timezone:a},t.columnTypeOptions);let s;if(ot(l.timezone))try{s=xc(du(),l.timezone)?.utcOffset()||void 0}catch{}let u;ot(l.min_value)&&(u=ea(l.min_value)||void 0);let c;ot(l.max_value)&&(c=ea(l.max_value)||void 0);const h={kind:Z.Custom,allowOverlay:!0,copyData:"",readonly:!t.isEditable,contentAlign:t.contentAlignment,style:t.isPinned?"faded":"normal",data:{kind:"date-picker-cell",date:void 0,displayDate:"",step:l.step?.toString()||"1",format:o,min:u,max:c}},g=f=>{const p=ea(f);return p===null?!t.isRequired:!(p===void 0||ot(u)&&i(p)<i(u)||ot(c)&&i(p)>i(c))};return{...t,kind:e,typeIcon:e==="date"?":material/calendar_month:":e==="time"?":material/access_time:":":material/calendar_today:",sortMode:"default",validateInput:g,getCell(f,p){if(p===!0){const x=g(f);if(x===!1)return Rt(it(f),"Invalid input.");x instanceof Date&&(f=x)}const m=ea(f);let y="",w="",v=s;if(m===void 0)return Rt(it(f),"The value cannot be interpreted as a datetime object.");if(m!==null){let x=du.utc(m);if(!x.isValid())return Rt(it(m),`Invalid moment date. This should never happen. Please report this bug. 
Error: ${x.toString()}`);if(l.timezone){try{x=xc(x,l.timezone)}catch(E){return Rt(x.toISOString(),`Failed to adjust to the provided timezone: ${l.timezone}. 
Error: ${E}`)}v=x.utcOffset()}try{w=yc(x,l.format||n,e)}catch(E){return Rt(x.toISOString(),`Failed to format the date for rendering with: ${l.format}. 
Error: ${E}`)}y=yc(x,n,e)}return{...h,copyData:y,isMissingValue:Te(m),data:{...h.data,date:m,displayDate:w,timezoneOffset:v}}},getCellValue(f){return Te(f?.data?.date)?null:i(f.data.date)}}}function Ds(e){let t="YYYY-MM-DD HH:mm:ss";e.columnTypeOptions?.step>=60?t="YYYY-MM-DD HH:mm":e.columnTypeOptions?.step<1&&(t="YYYY-MM-DD HH:mm:ss.SSS");const n=Up(e.arrowType),r=ot(n)||ot(e?.columnTypeOptions?.timezone);return Os("datetime",e,r?t+"Z":t,1,"datetime-local",o=>r?o.toISOString():o.toISOString().replace("Z",""),n)}Ds.isEditableType=!0;function Ps(e){let t="HH:mm:ss";return e.columnTypeOptions?.step>=60?t="HH:mm":e.columnTypeOptions?.step<1&&(t="HH:mm:ss.SSS"),Os("time",e,t,1,"time",n=>n.toISOString().split("T")[1].replace("Z",""))}Ps.isEditableType=!0;function Hs(e){return Os("date",e,"YYYY-MM-DD",1,"date",t=>t.toISOString().split("T")[0])}Hs.isEditableType=!0;function Fh(e){const t={kind:Z.Image,data:[],displayData:[],readonly:!0,allowOverlay:!0,contentAlign:e.contentAlignment||"center",style:"normal"};return{...e,kind:"image",typeIcon:":material/image:",sortMode:"default",isEditable:!1,getCell(n){const r=ot(n)?[it(n)]:[];return{...t,data:r,isMissingValue:!ot(n),displayData:r}},getCellValue(n){return n.data===void 0||n.data.length===0?null:n.data[0]}}}Fh.isEditableType=!1;function Lh(e){const t={kind:Z.Custom,allowOverlay:!0,contentAlign:e.contentAlignment,readonly:!0,style:e.isPinned?"faded":"normal",copyData:"",data:{kind:"json-cell",value:""}};return{...e,kind:"json",typeIcon:":material/code_blocks:",sortMode:"default",isEditable:!1,getCell(n){try{const r=ot(n)?xi(ka(n)):"";return{...t,copyData:r,isMissingValue:Te(n),data:{...t.data,value:n,displayValue:r}}}catch(r){return Rt(it(n),`The value cannot be interpreted as a JSON string. Error: ${r}`)}},getCellValue(n){return n.data?.value??null}}}Lh.isEditableType=!1;function zh(e){const t=e.columnTypeOptions||{};let n;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(s){n=`Invalid validate regex: ${t.validate}.
Error: ${s}`}let r=!1,o=t.display_text,i;if(!Te(o)){if(o.startsWith(":material/")&&Xp(o))o=Gp(o).icon,r=!0;else if(o.includes("(")&&o.includes(")"))try{i=new RegExp(o,"us")}catch{i=void 0}}const a={kind:Z.Uri,readonly:!e.isEditable,allowOverlay:!r,contentAlign:e.contentAlignment??(r?"center":void 0),style:"normal",hoverEffect:!0,data:"",displayData:"",copyData:"",...r&&{themeOverride:{fontFamily:Yp.iconFont,linkColor:void 0}}},l=s=>{if(Te(s))return!e.isRequired;const u=it(s);return!(t.max_chars&&u.length>t.max_chars||n instanceof RegExp&&n.test(u)===!1)};return{...e,kind:"link",typeIcon:":material/link:",sortMode:"default",validateInput:l,getCell(s,u){if(Te(s))return{...a,data:null,isMissingValue:!0,onClickUri:()=>{},themeOverride:void 0};const c=s;if(typeof n=="string")return Rt(it(c),n);if(u&&l(c)===!1)return Rt(it(c),"Invalid input.");let h="";return c&&(i!==void 0?h=jb(i,c):h=o||c),{...a,data:c,displayData:h,isMissingValue:Te(c),onClickUri:g=>{window.open(c.startsWith("www.")?`https://${c}`:c,"_blank","noopener,noreferrer"),g.preventDefault()},copyData:c}},getCellValue(s){return Te(s.data)?null:s.data}}}zh.isEditableType=!0;function As(e){const t={kind:Z.Custom,readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment,style:"normal",copyData:"",data:{kind:"multi-select-cell",values:[],options:void 0,allowCreation:!0,allowDuplicates:!0}};return{...e,kind:"list",sortMode:"default",typeIcon:":material/list:",getCell(n){if(Te(n))return{...t,data:{...t.data,values:null},isMissingValue:!0,copyData:""};const r=Rs(n);return{...t,data:{...t.data,values:r},copyData:Ih(r),...e.isEditable&&!Rh(n)&&{readonly:!0,isError:!0,errorDetails:"Editing of arrays with non-string values is not supported. Please disable editing or convert all values to strings."}}},getCellValue(n){return Te(n.data?.values)?null:n.data.values}}}As.isEditableType=!0;const qb=e=>{const t=ng(e);return new Map(Object.entries({red:t.redbg,blue:t.bluebg,green:t.greenbg,yellow:t.yellowbg,violet:t.violetbg,purple:t.purplebg,orange:t.orangebg,gray:t.graybg,grey:t.graybg,primary:t.primarybg}))},Zb=(e,t)=>{if(Te(e))return[];const n=qb(t);return e.filter(r=>r!==null&&r!=="").map(r=>{if(typeof r=="string")return{value:it(r).trim(),label:void 0,color:void 0};const o=r.color?Jp(n.get(r.color)??r.color,t.colors.bgColor):void 0;return{value:it(r.value).trim(),label:r.label??void 0,color:o}})};function $h(e,t){const n=Po({options:[],accept_new_options:!1},e.columnTypeOptions),r=Zb(n.options,t),o=new Set(r.map(a=>a.value)),i={kind:Z.Custom,readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment,style:e.isIndex?"faded":"normal",data:{kind:"multi-select-cell",values:[],options:r,allowCreation:n.accept_new_options??!1,allowDuplicates:!1},copyData:""};return{...e,kind:"multiselect",sortMode:"default",typeIcon:":material/checklist:",getCell(a,l){if(Te(a))return{...i,data:{...i.data,values:null},isMissingValue:!0,copyData:""};let s=Rs(a);return s=s.map(u=>it(u).trim()),l&&s.length>0&&n.accept_new_options===!1&&(s=s.filter(u=>o.has(u)),s.length===0)?Rt(it(a),"The values could not be matched with the configured options."):{...i,data:{...i.data,values:s},copyData:Ih(s),...e.isEditable&&!Rh(a)&&{readonly:!0,isError:!0,errorDetails:"Editing of arrays with non-string values is not supported. Please disable editing or convert all values to strings."}}},getCellValue(a){return Te(a.data?.values)?null:a.data.values}}}$h.isEditableType=!0;function Fs(e){const t=Po({step:gd(e.arrowType)?1:void 0,min_value:Kp(e.arrowType)?0:void 0},e.columnTypeOptions),n=!t.format&&(qp(e.arrowType)||Zp(e.arrowType)),r=Te(t.min_value)||t.min_value<0,o=ot(t.step)&&!Number.isNaN(t.step)?Th(t.step):void 0,i={kind:Z.Number,data:void 0,displayData:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment||n?"left":"right",style:e.isPinned?"faded":"normal",allowNegative:r,fixedDecimals:o,thousandSeparator:""},a=l=>{let s=yi(l);if(Te(s))return!e.isRequired;if(Number.isNaN(s))return!1;let u=!1;return ot(t.max_value)&&s>t.max_value&&(s=t.max_value,u=!0),ot(t.min_value)&&s<t.min_value?!1:u?s:!0};return{...e,kind:"number",sortMode:"smart",typeIcon:":material/tag:",validateInput:a,getCell(l,s){if(s===!0){const h=a(l);if(h===!1)return Rt(it(l),"Invalid input.");typeof h=="number"&&(l=h)}let u=yi(l),c="";if(ot(u)){if(Number.isNaN(u))return Rt(it(l),"The value cannot be interpreted as a number.");if(ot(o)&&(u=_b(u,o)),Number.isInteger(u)&&!Number.isSafeInteger(u))return Rt(it(l),"The value is larger than the maximum supported integer values in number columns (2^53).");try{n?c=zl(u,e.arrowType):c=Ca(u,t.format,o)}catch(h){return Rt(it(u),ot(t.format)?`Failed to format the number based on the provided format configuration: (${t.format}). Error: ${h}`:`Failed to format the number. Error: ${h}`)}}return{...i,data:u,displayData:c,isMissingValue:Te(u),copyData:Te(u)?"":it(u)}},getCellValue(l){return l.data===void 0?null:l.data}}}Fs.isEditableType=!0;function ki(e){const t={kind:Z.Text,data:"",displayData:"",allowOverlay:!0,contentAlign:e.contentAlignment,allowWrapping:e.isWrappingAllowed,readonly:!0,style:e.isPinned?"faded":"normal"};return{...e,kind:"object",sortMode:"default",typeIcon:":material/data_object:",isEditable:!1,getCell(n){try{const r=ot(n)?it(n):null,o=ot(r)?xi(r):"";return{...t,data:r,displayData:o,isMissingValue:Te(n)}}catch(r){return Rt(it(n),`The value cannot be interpreted as a string. Error: ${r}`)}},getCellValue(n){return n.data===void 0?null:n.data}}}ki.isEditableType=!1;function Nh(e){const t=gd(e.arrowType),n=Po({min_value:0,max_value:t?100:1,format:t?"%3d%%":"percent",step:t?1:void 0},e.columnTypeOptions),r=Te(n.step)||Number.isNaN(n.step)?void 0:Th(n.step);let o;try{o=Ca(n.max_value,n.format,r)}catch{o=it(n.max_value)}const i={kind:Z.Custom,allowOverlay:!1,copyData:"",contentAlign:e.contentAlignment,readonly:!0,data:{kind:"range-cell",min:n.min_value,max:n.max_value,step:n.step??.01,value:n.min_value,label:String(n.min_value),measureLabel:o}};return{...e,kind:"progress",sortMode:"smart",typeIcon:":material/commit:",isEditable:!1,getCell(a){if(Te(a))return Kl();if(Te(n.min_value)||Te(n.max_value)||Number.isNaN(n.min_value)||Number.isNaN(n.max_value)||n.min_value>=n.max_value)return Rt("Invalid min/max parameters",`The min_value (${n.min_value}) and max_value (${n.max_value}) parameters must be valid numbers.`);if(ot(n.step)&&Number.isNaN(n.step))return Rt("Invalid step parameter",`The step parameter (${n.step}) must be a valid number.`);const l=yi(a);if(Number.isNaN(l)||Te(l))return Rt(it(a),"The value cannot be interpreted as a number.");if(Number.isInteger(l)&&!Number.isSafeInteger(l))return Rt(it(a),"The value is larger than the maximum supported integer values in number columns (2^53).");let s="";try{s=Ca(l,n.format,r)}catch(c){return Rt(it(l),ot(n.format)?`Failed to format the number based on the provided format configuration: (${n.format}). Error: ${c}`:`Failed to format the number. Error: ${c}`)}const u=Math.min(n.max_value,Math.max(n.min_value,l));return{...i,isMissingValue:Te(a),copyData:String(l),data:{...i.data,value:u,label:s,measureLabel:s.length>o.length?s:o}}},getCellValue(a){return a.kind===Z.Loading||a.data?.value===void 0?null:a.data?.value}}}Nh.isEditableType=!1;const Qb=e=>Te(e)?[]:e.filter(t=>ot(t)&&t!=="").map(t=>{if(typeof t=="object"&&"value"in t){const r=it(t.value).trim();return{value:r,label:t.label??r}}const n=it(t).trim();return{value:n,label:n}});function Ls(e){let t="string";const n=Po({options:fd(e.arrowType)?[!0,!1]:e.arrowType.categoricalOptions??[]},e.columnTypeOptions),r=s=>typeof s=="object"&&s!==null&&"value"in s,o=s=>r(s)?typeof s.value:typeof s,i=new Set(n.options.map(o));i.size===1&&(i.has("number")||i.has("bigint")?t="number":i.has("boolean")&&(t="boolean"));const a=Qb(n.options),l={kind:Z.Custom,allowOverlay:!0,copyData:"",contentAlign:e.contentAlignment,readonly:!e.isEditable,style:e.isPinned?"faded":"normal",data:{kind:"dropdown-cell",allowedValues:[...e.isRequired!==!0?[null]:[],...a],value:""}};return{...e,kind:"selectbox",sortMode:"default",typeIcon:":material/arrow_drop_down_circle:",getCell(s,u){let c=null;return ot(s)&&s!==""&&(c=it(s)),u&&!l.data.allowedValues.some(h=>h===null?c===null:typeof h=="string"?h===c:typeof h=="object"&&"value"in h?h.value===c:!1)?Rt(it(c),"The value is not part of the allowed options."):{...l,isMissingValue:c===null,copyData:c||"",data:{...l.data,value:c}}},getCellValue(s){return Te(s.data?.value)||s.data?.value===""?null:t==="number"?yi(s.data?.value)??null:t==="boolean"?Eh(s.data?.value)??null:s.data?.value}}}Ls.isEditableType=!0;function zs(e){const t=e.columnTypeOptions||{};let n;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(i){n=`Invalid validate regex: ${t.validate}.
Error: ${i}`}const r={kind:Z.Text,data:"",displayData:"",allowOverlay:!0,contentAlign:e.contentAlignment,allowWrapping:e.isWrappingAllowed,readonly:!e.isEditable,style:e.isPinned?"faded":"normal"},o=i=>{if(Te(i))return!e.isRequired;let a=it(i),l=!1;return t.max_chars&&a.length>t.max_chars&&(a=a.slice(0,t.max_chars),l=!0),n instanceof RegExp&&n.test(a)===!1?!1:l?a:!0};return{...e,kind:"text",sortMode:"default",typeIcon:":material/notes:",validateInput:o,getCell(i,a){if(typeof n=="string")return Rt(it(i),n);if(a){const l=o(i);if(l===!1)return Rt(it(i),"Invalid input.");typeof l=="string"&&(i=l)}try{const l=ot(i)?it(i):null,s=ot(l)?xi(l):"";return{...r,isMissingValue:Te(l),data:l,displayData:s}}catch(l){return Rt("Incompatible value",`The value cannot be interpreted as string. Error: ${l}`)}},getCellValue(i){return i.data===void 0?null:i.data}}}zs.isEditableType=!0;const kc=Jn("img",{target:"e24uaba0"})({name:"6eya2z",styles:"max-width:100%;max-height:37.5rem;object-fit:scale-down"}),Jb=({urls:e})=>{const t=e&&e.length>0?e[0]:"";return t.startsWith("http")?me.jsx("a",{href:t,target:"_blank",rel:"noreferrer noopener",children:me.jsx(kc,{src:t})}):me.jsx(kc,{src:t})},Cc=new Map(Object.entries({object:ki,text:zs,checkbox:Ts,selectbox:Ls,list:As,multiselect:$h,number:Fs,link:zh,datetime:Ds,date:Hs,time:Ps,line_chart:Ph,bar_chart:Hh,area_chart:Ah,image:Fh,progress:Nh,json:Lh})),ew=[Gb];var tw=pd();const nw=vr(tw);var Rl,Sc;function rw(){if(Sc)return Rl;Sc=1;var e=$p(),t=Np(),n=Vp(),r=pd(),o=_p(),i=Wp(),a=jp(),l=Bp(),s="[object Map]",u="[object Set]",c=Object.prototype,h=c.hasOwnProperty;function g(f){if(f==null)return!0;if(o(f)&&(r(f)||typeof f=="string"||typeof f.splice=="function"||i(f)||l(f)||n(f)))return!f.length;var p=t(f);if(p==s||p==u)return!f.size;if(a(f))return!e(f).length;for(var m in f)if(h.call(f,m))return!1;return!0}return Rl=g,Rl}var ow=rw();const iw=vr(ow);function El(e,t,n){if(!n.includes(t))return;const r=new RegExp(`${e}[,\\s].*{(?:[^}]*[\\s;]{1})?${t}:\\s*([^;}]+)[;]?.*}`,"gm");n=n.replace(/{/g," {");const o=r.exec(n);if(o)return o[1].trim()}function aw(e,t,n){const r={};if(!n.includes(t))return e;const o=El(t,"color",n);o&&(r.textDark=o,(e.kind===Z.Bubble||e.kind===Z.Custom&&e.data?.kind==="multi-select-cell")&&(r.textBubble=o),e.kind===Z.Uri&&(r.linkColor=o));const i=El(t,"background-color",n);i&&(r.bgCell=i),i==="yellow"&&o===void 0&&(r.textDark="#31333F");const a=El(t,"font-weight",n);return a&&(r.baseFontStyle=`${a} ${Fp.sm}`),r?{...e,themeOverride:r}:e}function lw(e){return Rp(e)||Ep(e)?zs:Ip(e)?Ds:cd(e)?Ps:Tp(e)?Hs:Op(e)||Dp(e)?ki:fd(e)?Ts:Pp(e)?Fs:Hp(e)?Ls:Ap(e)?As:ki}function Vh(e){const t=e.length>0?e[e.length-1]:"",n=e.length>1?e.slice(0,-1).filter(r=>r!=="").join(" / "):void 0;return{title:t,group:n}}function $s(e){return{group:void 0,isEditable:!1,isIndex:!1,isPinned:!1,isHidden:!1,isStretched:!1,...e}}function sw(e,t){const n=e.columnNames.map(l=>l[t]),{title:r,group:o}=Vh(n),i=e.columnTypes[t];let a=!0;return Mp(i)&&(a=!1),$s({id:`_index-${t}`,indexNumber:t,name:r,title:r,group:o,isEditable:a,arrowType:i,isIndex:!0,isPinned:!0})}function uw(e,t){const n=e.columnNames.map(a=>a[t]),{title:r,group:o}=Vh(n),i=e.columnTypes[t];return $s({id:`_column-${r}-${t}`,indexNumber:t,name:r,isEditable:!0,title:r,arrowType:i,group:o})}function _h(){return $s({id:"_empty-index",indexNumber:0,title:"",name:"",isEditable:!1,isIndex:!0,isPinned:!0,arrowType:{type:wp.INDEX,arrowField:new vp("",new bp,!0),pandasType:void 0}})}function Mc(e){const t=[],{dimensions:n}=e,r=n.numIndexColumns,o=n.numDataColumns;if(r===0&&o===0)return t.push(_h()),t;for(let i=0;i<r;i++)t.push(sw(e,i));for(let i=0;i<o;i++)t.push(uw(e,i+r));return t}function cw(e,t,n,r=void 0){let o;if(e.kind==="object"||e.kind==="json")o=e.getCell(ot(t.content)?xi(zl(t.content,t.contentType)):null);else if(["time","date","datetime"].includes(e.kind)&&ot(t.content)&&(typeof t.content=="number"||typeof t.content=="bigint")){let i;cd(t.contentType)&&ot(t.field?.type?.unit)?i=yp(t.content,t.field):i=Xr.utc(Number(t.content)).toDate(),o=e.getCell(i)}else if(xp(t.contentType)){const i=Te(t.content)?null:zl(t.content,t.contentType);o=e.getCell(i)}else o=e.getCell(t.content);if(To(o))return o;if(!e.isEditable){if(n&&ot(n?.displayContent)){const i=xi(n.displayContent);o.kind===Z.Text?o={...o,displayData:i}:o.kind===Z.Number&&Te(e.columnTypeOptions?.format)?o={...o,displayData:i}:o.kind===Z.Uri&&Te(e.columnTypeOptions?.display_text)?o={...o,displayData:i}:o.kind===Z.Custom&&o.data?.kind==="date-picker-cell"&&Te(e.columnTypeOptions?.format)&&(o={...o,data:{...o.data,displayDate:i}})}r&&n?.cssId&&(o=aw(o,n.cssId,r))}return o}function Wh(e,t){return t?t?.useStretch??!1:e.useContainerWidth??!1}function jh(e,t){return t?t.pixelWidth?t.pixelWidth:void 0:e.width||void 0}function dw(e){return e?.useContent??!1}function hw(e,t){return t?t.pixelHeight?t.pixelHeight:void 0:e.height||void 0}const ua="_index",Rc="_pos:",Ec={small:75,medium:200,large:400},Bh=rs.getLogger("useColumnLoader");function fw(e){if(!Te(e)){if(typeof e=="number")return e;if(e in Ec)return Ec[e]}}const ta=(e,t)=>mp(e,t,(n,r)=>{if(nw(r))return r});function Ic(e,t){if(!t)return e;let n={};return e.isIndex&&t.has(ua)&&(n=ta(n,t.get(ua)??{})),t.has(`${Rc}${e.indexNumber}`)&&(n=ta(n,t.get(`${Rc}${e.indexNumber}`)??{})),t.has(e.name)&&e.name!==ua&&(n=ta(n,t.get(e.name)??{})),t.has(e.id)&&(n=ta(n,t.get(e.id)??{})),iw(n)?e:ud({...e},{title:n.label,width:fw(n.width),isEditable:ot(n.disabled)?!n.disabled:void 0,isHidden:n.hidden,isPinned:n.pinned,isRequired:n.required,columnTypeOptions:n.type_config,contentAlignment:n.alignment,defaultValue:n.default,help:n.help})}function pw(e){if(!e)return new Map;try{return new Map(Object.entries(JSON.parse(e)))}catch(t){return Bh.error(t),new Map}}function Tc(e){const t=e.columnTypeOptions?.type;let n;return ot(t)&&(Cc.has(t)?n=Cc.get(t):Bh.warn(`Unknown column type configured in column configuration: ${t}`)),Te(n)&&(n=lw(e.arrowType)),n}function gw(e,t,n,r,o){const i=Zr(),a=d.useMemo(()=>pw(e.columns),[e.columns]),[l,s]=d.useState(a);d.useEffect(()=>{s(a)},[a]);const u=d.useMemo(()=>Wh(e,o),[e,o]),c=d.useMemo(()=>jh(e,o),[e,o]),h=u||ot(c)&&c>0,g=ot(e.rowHeight)&&e.rowHeight>rn("4rem"),f=d.useMemo(()=>Mc(t).map(p=>{let m={...p,...Ic(p,l),isStretched:h};const y=Tc(m);return(e.editingMode===on.EditingMode.READ_ONLY||n||y.isEditableType===!1)&&(m={...m,isEditable:!1}),e.editingMode!==on.EditingMode.READ_ONLY&&m.isEditable==!0&&(m={...m,icon:"editable"},m.isRequired&&e.editingMode===on.EditingMode.DYNAMIC&&(m={...m,isHidden:!1})),y(m,i)}),[t,l,h,e.editingMode,n,i]);return{columns:d.useMemo(()=>{const p=Mc(t).map(v=>{let x={...v,...Ic(v,l),isStretched:h,isWrappingAllowed:g};const E=Tc(x);return(e.editingMode===on.EditingMode.READ_ONLY||n||E.isEditableType===!1)&&(x={...x,isEditable:!1}),e.editingMode!==on.EditingMode.READ_ONLY&&x.isEditable==!0&&(x={...x,icon:"editable"},x.isRequired&&e.editingMode===on.EditingMode.DYNAMIC&&(x={...x,isHidden:!1})),E(x,i)}).filter(v=>!v.isHidden),m=[],y=[];r?.length?(p.forEach(v=>{v.isIndex&&!r.includes(v.name)&&!r.includes(v.id)&&v.isPinned!==!1&&m.push(v)}),r.forEach(v=>{const x=p.find(E=>E.name===v||E.id===v);x&&(x.isPinned?m.push(x):y.push(x))})):p.forEach(v=>{v.isPinned?m.push(v):y.push(v)});const w=[...m,...y];return w.length>0?w:[ki(_h())]},[t,l,g,h,n,e.editingMode,r,i]),allColumns:f,setColumnConfigMapping:s}}function Gr(e){return e.isIndex?ua:Te(e.name)?"":e.name}class na{constructor(t){this.editedCells=new Map,this.addedRows=[],this.deletedRows=[],this.numRows=0,this.numRows=t}toJson(t){const n=new Map;t.forEach(o=>{n.set(o.indexNumber,o)});const r={edited_rows:{},added_rows:[],deleted_rows:[]};return this.editedCells.forEach((o,i,a)=>{const l={};o.forEach((s,u)=>{const c=n.get(u);c&&(l[Gr(c)]=c.getCellValue(s))}),r.edited_rows[i]=l}),this.addedRows.forEach(o=>{const i={};let a=!1;o.forEach((l,s,u)=>{const c=n.get(s);if(c){const h=c.getCellValue(l);c.isRequired&&c.isEditable&&Ms(l)&&(a=!0),ot(h)&&(i[Gr(c)]=h)}}),a||r.added_rows.push(i)}),r.deleted_rows=this.deletedRows,JSON.stringify(r,(o,i)=>i===void 0?null:i)}fromJson(t,n){this.editedCells=new Map,this.addedRows=[],this.deletedRows=[];const r=JSON.parse(t),o=new Map;n.forEach(a=>{o.set(a.indexNumber,a)});const i=new Map;n.forEach(a=>{i.set(Gr(a),a)}),Object.keys(r.edited_rows).forEach(a=>{const l=Number(a),s=r.edited_rows[a];Object.keys(s).forEach(u=>{const c=s[u],h=i.get(u);if(h){const g=h.getCell(c);g&&(this.editedCells.has(l)||this.editedCells.set(l,new Map),this.editedCells.get(l)?.set(h.indexNumber,g))}})}),r.added_rows.forEach(a=>{const l=new Map;n.forEach(s=>{l.set(s.indexNumber,s.getCell(null))}),Object.keys(a).forEach(s=>{const u=a[s],c=i.get(s);if(c){const h=c.getCell(u);h&&l.set(c.indexNumber,h)}}),this.addedRows.push(l)}),this.deletedRows=r.deleted_rows}isAddedRow(t){return t>=this.numRows}getCell(t,n){if(this.isAddedRow(n))return this.addedRows[n-this.numRows].get(t);const r=this.editedCells.get(n);if(r!==void 0)return r.get(t)}setCell(t,n,r){if(this.isAddedRow(n)){if(n-this.numRows>=this.addedRows.length)return;this.addedRows[n-this.numRows].set(t,r)}else this.editedCells.get(n)===void 0&&this.editedCells.set(n,new Map),this.editedCells.get(n).set(t,r)}addRow(t){this.addedRows.push(t)}deleteRows(t){t.sort((n,r)=>r-n).forEach(n=>{this.deleteRow(n)})}deleteRow(t){if(!(Te(t)||t<0)){if(this.isAddedRow(t)){this.addedRows.splice(t-this.numRows,1);return}this.deletedRows.includes(t)||(this.deletedRows.push(t),this.deletedRows=this.deletedRows.sort((n,r)=>n-r)),this.editedCells.delete(t)}}getOriginalRowIndex(t){let n=t;for(let r=0;r<this.deletedRows.length&&!(this.deletedRows[r]>n);r++)n+=1;return n}getNumRows(){return this.numRows+this.addedRows.length-this.deletedRows.length}}const Ci=({columnId:e,columnConfigMapping:t,updatedProps:n})=>{const r=new Map(t),o=r.get(e),i={...o||{},...n||{}};return(o?.type_config||n?.type_config)&&(i.type_config={...o?.type_config||{},...n?.type_config||{}}),r.set(e,i),r};function mw(e){return{changeColumnFormat:d.useCallback((t,n)=>{e(r=>Ci({columnId:t,columnConfigMapping:r,updatedProps:{type_config:{format:n}}}))},[e])}}function vw(e,t,n,r,o,i){const a=d.useMemo(()=>e.filter(u=>u.isPinned).reduce((u,c)=>u+(c.width??r*2),0)>n*.6,[e,n,r]),l=t||a?0:e.filter(u=>u.isPinned).length,s=d.useCallback(u=>{i(c=>Ci({columnId:u,columnConfigMapping:c,updatedProps:{pinned:!1}})),o(!0,!1)},[o,i]);return{pinColumn:d.useCallback(u=>{i(c=>Ci({columnId:u,columnConfigMapping:c,updatedProps:{pinned:!0}})),o(!0,!1)},[o,i]),unpinColumn:s,freezeColumns:l}}function bw(e,t,n,r,o){return{onColumnMoved:d.useCallback((i,a)=>{const l=[...e],[s]=l.splice(i,1);l.splice(a,0,s),a<t&&!s.isPinned?n(s.id):a>=t&&s.isPinned&&r(s.id),o(l.map(u=>u.id))},[e,t,n,r,o])}}function ww(e){const[t,n]=d.useState(()=>new Map),r=d.useCallback((o,i,a,l)=>{o.id&&n(new Map(t).set(o.id,l))},[t]);return{columns:d.useMemo(()=>e.map(o=>o.id&&t.has(o.id)&&t.get(o.id)!==void 0?{...o,width:t.get(o.id),grow:0}:o),[e,t]),onColumnResize:r}}function yw(e){switch(e.kind){case Z.Number:return e.data?.toString()??"";case Z.Boolean:return e.data?.toString()??"";case Z.Markdown:case Z.RowID:case Z.Text:case Z.Uri:return e.data??"";case Z.Bubble:case Z.Image:return e.data.join("");case Z.Drilldown:return e.data.map(t=>t.text).join("");case Z.Protected:case Z.Loading:return"";case Z.Custom:return e.copyData}}function Oc(e){if(typeof e=="number")return e;if(e.length>0){const t=Number(e);isNaN(t)||(e=t)}return e}function xw(e,t){return e=Oc(e),t=Oc(t),typeof e=="string"&&typeof t=="string"?e.localeCompare(t):typeof e=="number"&&typeof t=="number"?e===t?0:e>t?1:-1:e==t?0:e>t?1:-1}function kw(e,t){return e>t?1:e===t?0:-1}function Cw(e){const{sort:t,rows:n,getCellContent:r}=e,o=d.useMemo(()=>t===void 0?[]:Array.isArray(t)?t:[t],[t]),i=d.useMemo(()=>o.map(u=>{const c=e.columns.findIndex(h=>u.column===h||h.id!==void 0&&u.column.id===h.id);return c===-1?void 0:c}),[o,e.columns]),a=d.useMemo(()=>{const u=o.map((h,g)=>({sort:h,col:i[g]})).filter(h=>h.col!==void 0);if(u.length===0)return;const c=u.map(()=>new Array(n));for(let h=0;h<u.length;h++){const{col:g}=u[h],f=[g,0];for(let p=0;p<n;p++)f[1]=p,c[h][p]=yw(r(f))}return Tr(n).sort((h,g)=>{for(let f=0;f<u.length;f++){const{sort:p}=u[f],m=c[f][h],y=c[f][g];let w;if(p.mode==="raw"?w=kw(m,y):p.mode==="smart"?w=xw(m,y):w=m.localeCompare(y),w!==0)return(p.direction??"asc")==="desc"&&(w=-w),w}return 0})},[r,n,o,i]),l=d.useCallback(u=>a===void 0?u:a[u],[a]),s=d.useCallback(([u,c])=>a===void 0?r([u,c]):(c=a[c],r([u,c])),[r,a]);return a===void 0?{getCellContent:e.getCellContent,getOriginalIndex:l}:{getOriginalIndex:l,getCellContent:s}}function Sw(e,t){return t===void 0?e:e.map(n=>n.id===t.column.id?{...n,title:t.direction==="asc"?` ${n.title}`:` ${n.title}`}:n)}function Mw(e,t,n){const[r,o]=d.useState(),{getCellContent:i,getOriginalIndex:a}=Cw({columns:t.map(u=>ql(u)),getCellContent:n,rows:e,sort:r}),l=d.useMemo(()=>Sw(t,r),[t,r]),s=d.useCallback((u,c,h)=>{const g=l[u];let f;c==="auto"?(f="asc",r&&r.column.id===g.id&&(r.direction==="asc"?f="desc":f=void 0)):f=c,f===void 0||h&&f===r?.direction?o(void 0):o({column:ql(g),direction:f,mode:g.sortMode})},[r,l]);return{columns:l,sortColumn:s,getOriginalIndex:a,getCellContent:i}}function Rw(e,t){const n=d.useCallback(o=>{t(i=>Ci({columnId:o,columnConfigMapping:i,updatedProps:{hidden:!0}})),e(!0,!1)},[e,t]),r=d.useCallback(o=>{t(i=>Ci({columnId:o,columnConfigMapping:i,updatedProps:{hidden:!1}})),e(!0,!1)},[e,t]);return{hideColumn:n,showColumn:r}}function Ew(){return{provideEditor:d.useCallback(e=>{if(e.kind===Z.Text&&e.readonly&&Nb(e.data))return{editor:Xb}},[])}}const Iw={kind:Z.Custom,isMatch:e=>e.data.kind==="sparkline-cell",needsHover:!0,needsHoverPosition:!0,draw:(e,t)=>{const{ctx:n,theme:r,rect:o,hoverAmount:i,hoverX:a}=e;let{values:l,yAxis:s,color:u,graphKind:c="area",displayValues:h,hideAxis:g}=t.data;const[f,p]=s;if(l.length===0)return!0;l=l.map(M=>Math.min(1,Math.max(0,(M-f)/(p-f))));const m=r.cellHorizontalPadding,y=m+o.x,w=o.y+3,v=o.height-6,x=o.width-m*2,E=p-f,O=p<=0?w:f>=0?w+v:w+v*(p/E);if(!g&&f<=0&&p>=0&&(n.beginPath(),n.moveTo(y,O),n.lineTo(y+x,O),n.globalAlpha=.4,n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.globalAlpha=1),c==="bar"){n.beginPath();const M=2,P=(l.length-1)*M,S=(x-P)/l.length;let k=y;for(const H of l){const I=w+v-H*v;n.moveTo(k,O),n.lineTo(k+S,O),n.lineTo(k+S,I),n.lineTo(k,I),k+=S+M}n.fillStyle=t.data.color??r.accentColor,n.fill()}else{l.length===1&&(l=[l[0],l[0]],h&&(h=[h[0],h[0]])),n.beginPath();const M=(o.width-16)/(l.length-1),P=l.map((k,H)=>({x:y+M*H,y:w+v-k*v}));n.moveTo(P[0].x,P[0].y);let S=0;if(P.length>2)for(S=1;S<P.length-2;S++){const k=(P[S].x+P[S+1].x)/2,H=(P[S].y+P[S+1].y)/2;n.quadraticCurveTo(P[S].x,P[S].y,k,H)}if(n.quadraticCurveTo(P[S].x,P[S].y,P[S+1].x,P[S+1].y),n.strokeStyle=u??r.accentColor,n.lineWidth=1+i*.5,n.stroke(),n.lineTo(o.x+o.width-m,O),n.lineTo(o.x+m,O),n.closePath(),c==="area"){n.globalAlpha=.2+.2*i;const k=n.createLinearGradient(0,w,0,w+v*1.4);k.addColorStop(0,u??r.accentColor);const[H,I,R]=vi(u??r.accentColor);k.addColorStop(1,`rgba(${H}, ${I}, ${R}, 0)`),n.fillStyle=k,n.fill(),n.globalAlpha=1}if(a!==void 0&&(c==="line"||c==="area")&&h!==void 0){n.beginPath();const k=Math.min(l.length-1,Math.max(0,Math.round((a-m)/M)));n.moveTo(y+k*M,o.y+1),n.lineTo(y+k*M,o.y+o.height),n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.save(),n.font=`8px ${r.fontFamily}`,n.fillStyle=r.textMedium,n.textBaseline="top",n.fillText(h[k],y,o.y+r.cellVerticalPadding),n.restore()}}return!0},provideEditor:()=>{},onPaste:(e,t)=>t};function Dc(e,t,n,r,o,i){if(!(r<=0||o<=0)){if(typeof i=="number"&&i<=0){e.rect(t,n,r,o);return}typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.min(i.tl,o/2,r/2),tr:Math.min(i.tr,o/2,r/2),bl:Math.min(i.bl,o/2,r/2),br:Math.min(i.br,o/2,r/2)},i.tl=Math.max(0,i.tl),i.tr=Math.max(0,i.tr),i.br=Math.max(0,i.br),i.bl=Math.max(0,i.bl),e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(n),!0).forEach(function(r){si(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tw=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Uh(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,o=r===void 0?!1:r,i=e.defaultValue,a=i===void 0?null:i,l=e.inputValue,s=e.menuIsOpen,u=e.onChange,c=e.onInputChange,h=e.onMenuClose,g=e.onMenuOpen,f=e.value,p=ur(e,Tw),m=d.useState(l!==void 0?l:n),y=gr(m,2),w=y[0],v=y[1],x=d.useState(s!==void 0?s:o),E=gr(x,2),O=E[0],M=E[1],P=d.useState(f!==void 0?f:a),S=gr(P,2),k=S[0],H=S[1],I=d.useCallback(function(q,ue){typeof u=="function"&&u(q,ue),H(q)},[u]),R=d.useCallback(function(q,ue){var te;typeof c=="function"&&(te=c(q,ue)),v(te!==void 0?te:q)},[c]),T=d.useCallback(function(){typeof g=="function"&&g(),M(!0)},[g]),D=d.useCallback(function(){typeof h=="function"&&h(),M(!1)},[h]),C=l!==void 0?l:w,Q=s!==void 0?s:O,j=f!==void 0?f:k;return He(He({},p),{},{inputValue:C,menuIsOpen:Q,onChange:I,onInputChange:R,onMenuClose:D,onMenuOpen:T,value:j})}function Ow(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Dw(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Pw=(function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Dw(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Ow(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e})(),Hw=function(e,t,n){for(var r=0,o=0;r=o,o=$l(),r===38&&o===12&&(t[n]=1),!xd(o);)yd();return Og(e,kd)},Aw=function(e,t){var n=-1,r=44;do switch(xd(r)){case 0:r===38&&$l()===12&&(t[n]=1),e[n]+=Hw(kd-1,t,n);break;case 2:e[n]+=Tg(r);break;case 4:if(r===44){e[++n]=$l()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ig(r)}while(r=yd());return e},Fw=function(e,t){return Mg(Aw(Rg(e),t))},Hc=new WeakMap,Lw=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Hc.get(n))&&!r){Hc.set(e,!0);for(var o=[],i=Fw(t,o),a=n.props,l=0,s=0;l<i.length;l++)for(var u=0;u<a.length;u++,s++)e.props[s]=o[l]?i[l].replace(/&\f/g,a[u]):a[u]+" "+i[l]}}},zw=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Xh(e,t){switch(Eg(e,t)){case 5103:return Ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ct+e+ha+e+vn+e+e;case 6828:case 4268:return Ct+e+vn+e+e;case 6165:return Ct+e+vn+"flex-"+e+e;case 5187:return Ct+e+Lt(e,/(\w+).+(:[^]+)/,Ct+"box-$1$2"+vn+"flex-$1$2")+e;case 5443:return Ct+e+vn+"flex-item-"+Lt(e,/flex-|-self/,"")+e;case 4675:return Ct+e+vn+"flex-line-pack"+Lt(e,/align-content|flex-|-self/,"")+e;case 5548:return Ct+e+vn+Lt(e,"shrink","negative")+e;case 5292:return Ct+e+vn+Lt(e,"basis","preferred-size")+e;case 6060:return Ct+"box-"+Lt(e,"-grow","")+Ct+e+vn+Lt(e,"grow","positive")+e;case 4554:return Ct+Lt(e,/([^-])(transform)/g,"$1"+Ct+"$2")+e;case 6187:return Lt(Lt(Lt(e,/(zoom-|grab)/,Ct+"$1"),/(image-set)/,Ct+"$1"),e,"")+e;case 5495:case 3959:return Lt(e,/(image-set\([^]*)/,Ct+"$1$`$1");case 4968:return Lt(Lt(e,/(.+:)(flex-)?(.*)/,Ct+"box-pack:$3"+vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ct+e+e;case 4095:case 3583:case 4068:case 2532:return Lt(e,/(.+)-inline(.+)/,Ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hu(e)-1-t>6)switch(jr(e,t+1)){case 109:if(jr(e,t+4)!==45)break;case 102:return Lt(e,/(.+:)(.+)-([^]+)/,"$1"+Ct+"$2-$3$1"+ha+(jr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~fu(e,"stretch")?Xh(Lt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(jr(e,t+1)!==115)break;case 6444:switch(jr(e,hu(e)-3-(~fu(e,"!important")&&10))){case 107:return Lt(e,":",":"+Ct)+e;case 101:return Lt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ct+(jr(e,14)===45?"inline-":"")+"box$3$1"+Ct+"$2$3$1"+vn+"$2box$3")+e}break;case 5936:switch(jr(e,t+11)){case 114:return Ct+e+vn+Lt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ct+e+vn+Lt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ct+e+vn+Lt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ct+e+vn+e+e}return e}var $w=function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case kg:e.return=Xh(e.value,e.length);break;case xg:return aa([Xo(e,{value:Lt(e.value,"@","@"+Ct)})],r);case bg:if(e.length)return wg(e.props,function(o){switch(yg(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return aa([Xo(e,{props:[Lt(o,/:(read-\w+)/,":"+ha+"$1")]})],r);case"::placeholder":return aa([Xo(e,{props:[Lt(o,/:(plac\w+)/,":"+Ct+"input-$1")]}),Xo(e,{props:[Lt(o,/:(plac\w+)/,":"+ha+"$1")]}),Xo(e,{props:[Lt(o,/:(plac\w+)/,vn+"input-$1")]})],r)}return""})}},Nw=[$w],Vw=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var m=p.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||Nw,o={},i,a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(p){for(var m=p.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)o[m[y]]=!0;a.push(p)});var l,s=[Lw,zw];{var u,c=[pg,gg(function(p){u.insert(p)})],h=ag(s.concat(r,c)),g=function(p){return aa(Dg(p),h)};l=function(p,m,y,w){u=y,g(p?p+"{"+m.styles+"}":m.styles),w&&(f.inserted[m.name]=!0)}}var f={key:t,sheet:new Pw({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(a),f},_w=function(e){return e()},Ww=d.useInsertionEffect?d.useInsertionEffect:!1,jw=Ww||_w,Ns={}.hasOwnProperty,Gh=d.createContext(typeof HTMLElement<"u"?Vw({key:"css"}):null);Gh.Provider;var Bw=function(e){return d.forwardRef(function(t,n){var r=d.useContext(Gh);return e(t,r,n)})},Uw=d.createContext({}),Zl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xw=function(e,t){var n={};for(var r in t)Ns.call(t,r)&&(n[r]=t[r]);return n[Zl]=e,n},Gw=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Cg(t,n,r),jw(function(){return Sg(t,n,r)}),null},Yw=Bw(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[Zl],i=[r],a="";typeof e.className=="string"?a=mg(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var l=vd(i,void 0,d.useContext(Uw));a+=t.key+"-"+l.name;var s={};for(var u in e)Ns.call(e,u)&&u!=="css"&&u!==Zl&&(s[u]=e[u]);return s.ref=n,s.className=a,d.createElement(d.Fragment,null,d.createElement(Gw,{cache:t,serialized:l,isStringTag:typeof o=="string"}),d.createElement(o,s))}),Kw=Yw,Ae=function(e,t){var n=arguments;if(t==null||!Ns.call(t,"css"))return d.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=Kw,o[1]=Xw(e,t);for(var i=2;i<r;i++)o[i]=n[i];return d.createElement.apply(null,o)};function Vs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vd(t)}var qw=function(){var e=Vs.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Zw(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Qw=Math.min,Jw=Math.max,Sa=Math.round,ra=Math.floor,Ql=e=>({x:e,y:e});function ey(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Fa(){return typeof window<"u"}function Yh(e){return qh(e)?(e.nodeName||"").toLowerCase():"#document"}function Or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kh(e){var t;return(t=(qh(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qh(e){return Fa()?e instanceof Node||e instanceof Or(e).Node:!1}function ty(e){return Fa()?e instanceof Element||e instanceof Or(e).Element:!1}function _s(e){return Fa()?e instanceof HTMLElement||e instanceof Or(e).HTMLElement:!1}function Ac(e){return!Fa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Or(e).ShadowRoot}const ny=new Set(["inline","contents"]);function Zh(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ny.has(o)}const ry=new Set(["html","body","#document"]);function oy(e){return ry.has(Yh(e))}function Ws(e){return Or(e).getComputedStyle(e)}function iy(e){if(Yh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ac(e)&&e.host||Kh(e);return Ac(t)?t.host:t}function Qh(e){const t=iy(e);return oy(t)?e.ownerDocument?e.ownerDocument.body:e.body:_s(t)&&Zh(t)?t:Qh(t)}function Ma(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Qh(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=Or(o);if(i){const l=Jl(a);return t.concat(a,a.visualViewport||[],Zh(o)?o:[],l&&n?Ma(l):[])}return t.concat(o,Ma(o,[],n))}function Jl(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ay(e){const t=Ws(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=_s(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=Sa(n)!==i||Sa(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function js(e){return ty(e)?e:e.contextElement}function Fc(e){const t=js(e);if(!_s(t))return Ql(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=ay(t);let a=(i?Sa(n.width):n.width)/r,l=(i?Sa(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}function Lc(e,t,n,r){t===void 0&&(t=!1);const o=e.getBoundingClientRect(),i=js(e);let a=Ql(1);t&&(a=Fc(e));const l=Ql(0);let s=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,c=o.width/a.x,h=o.height/a.y;if(i){const g=Or(i),f=r;let p=g,m=Jl(p);for(;m&&r&&f!==p;){const y=Fc(m),w=m.getBoundingClientRect(),v=Ws(m),x=w.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,E=w.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;s*=y.x,u*=y.y,c*=y.x,h*=y.y,s+=x,u+=E,p=Or(m),m=Jl(p)}}return ey({width:c,height:h,x:s,y:u})}function Jh(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ly(e,t){let n=null,r;const o=Kh(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),i();const u=e.getBoundingClientRect(),{left:c,top:h,width:g,height:f}=u;if(l||t(),!g||!f)return;const p=ra(h),m=ra(o.clientWidth-(c+g)),y=ra(o.clientHeight-(h+f)),w=ra(c),v={rootMargin:-p+"px "+-m+"px "+-y+"px "+-w+"px",threshold:Jw(0,Qw(1,s))||1};let x=!0;function E(O){const M=O[0].intersectionRatio;if(M!==s){if(!x)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!Jh(u,e.getBoundingClientRect())&&a(),x=!1}try{n=new IntersectionObserver(E,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return a(!0),i}function sy(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=js(e),c=o||i?[...u?Ma(u):[],...Ma(t)]:[];c.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&l?ly(u,n):null;let g=-1,f=null;a&&(f=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),n()}),u&&!s&&f.observe(u),f.observe(t));let p,m=s?Lc(e):null;s&&y();function y(){const w=Lc(e);m&&!Jh(m,w)&&n(),m=w,p=requestAnimationFrame(y)}return n(),()=>{var w;c.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h?.(),(w=f)==null||w.disconnect(),f=null,s&&cancelAnimationFrame(p)}}var es=d.useLayoutEffect,uy=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ra=function(){};function cy(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function dy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&i.push("".concat(cy(e,a)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Ea=function(e){return yy(e)?e.filter(Boolean):tg(e)==="object"&&e!==null?[e]:[]},ef=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=ur(e,uy);return He({},t)},Xt=function(e,t,n){var r=e.cx,o=e.getStyles,i=e.getClassNames,a=e.className;return{css:o(t,e),className:r(n??{},i(t,e),a)}};function La(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function hy(e){return La(e)?window.innerHeight:e.clientHeight}function tf(e){return La(e)?window.pageYOffset:e.scrollTop}function Ia(e,t){if(La(e)){window.scrollTo(0,t);return}e.scrollTop=t}function fy(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function py(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function oa(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ra,o=tf(e),i=t-o,a=10,l=0;function s(){l+=a;var u=py(l,o,i,n);Ia(e,u),l<n?window.requestAnimationFrame(s):r(e)}s()}function zc(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?Ia(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&Ia(e,Math.max(t.offsetTop-o,0))}function gy(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function $c(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function my(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var nf=!1,vy={get passive(){return nf=!0}},ia=typeof window<"u"?window:{};ia.addEventListener&&ia.removeEventListener&&(ia.addEventListener("p",Ra,vy),ia.removeEventListener("p",Ra,!1));var by=nf;function wy(e){return e!=null}function yy(e){return Array.isArray(e)}function ui(e,t,n){return e?t:n}var xy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object.entries(e).filter(function(i){var a=gr(i,1),l=a[0];return!n.includes(l)});return o.reduce(function(i,a){var l=gr(a,2),s=l[0],u=l[1];return i[s]=u,i},{})},ky=["children","innerProps"],Cy=["children","innerProps"];function Sy(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,a=e.isFixedPosition,l=e.controlHeight,s=fy(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=s.getBoundingClientRect(),h=c.height,g=n.getBoundingClientRect(),f=g.bottom,p=g.height,m=g.top,y=n.offsetParent.getBoundingClientRect(),w=y.top,v=a?window.innerHeight:hy(s),x=tf(s),E=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),M=w-O,P=v-m,S=M+x,k=h-x-m,H=f-v+x+E,I=x+m-O,R=160;switch(o){case"auto":case"bottom":if(P>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!a)return i&&oa(s,H,R),{placement:"bottom",maxHeight:t};if(!a&&k>=r||a&&P>=r){i&&oa(s,H,R);var T=a?P-E:k-E;return{placement:"bottom",maxHeight:T}}if(o==="auto"||a){var D=t,C=a?M:S;return C>=r&&(D=Math.min(C-E-l,t)),{placement:"top",maxHeight:D}}if(o==="bottom")return i&&Ia(s,H),{placement:"bottom",maxHeight:t};break;case"top":if(M>=p)return{placement:"top",maxHeight:t};if(S>=p&&!a)return i&&oa(s,I,R),{placement:"top",maxHeight:t};if(!a&&S>=r||a&&M>=r){var Q=t;return(!a&&S>=r||a&&M>=r)&&(Q=a?M-O:S-O),i&&oa(s,I,R),{placement:"top",maxHeight:Q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return u}function My(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var rf=function(e){return e==="auto"?"bottom":e},Ry=function(e,t){var n,r=e.placement,o=e.theme,i=o.borderRadius,a=o.spacing,l=o.colors;return He((n={label:"menu"},si(n,My(r),"100%"),si(n,"position","absolute"),si(n,"width","100%"),si(n,"zIndex",1),n),t?{}:{backgroundColor:l.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},of=d.createContext(null),Ey=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,o=e.menuPlacement,i=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,s=d.useContext(of)||{},u=s.setPortalPlacement,c=d.useRef(null),h=d.useState(r),g=gr(h,2),f=g[0],p=g[1],m=d.useState(null),y=gr(m,2),w=y[0],v=y[1],x=l.spacing.controlHeight;return es(function(){var E=c.current;if(E){var O=i==="fixed",M=a&&!O,P=Sy({maxHeight:r,menuEl:E,minHeight:n,placement:o,shouldScroll:M,isFixedPosition:O,controlHeight:x});p(P.maxHeight),v(P.placement),u?.(P.placement)}},[r,o,i,a,n,u,x]),t({ref:c,placerProps:He(He({},e),{},{placement:w||rf(o),maxHeight:f})})},Iy=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Ae("div",Le({},Xt(e,"menu",{menu:!0}),{ref:n},r),t)},Ty=Iy,Oy=function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return He({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},Dy=function(e){var t=e.children,n=e.innerProps,r=e.innerRef,o=e.isMulti;return Ae("div",Le({},Xt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:r},n),t)},af=function(e,t){var n=e.theme,r=n.spacing.baseUnit,o=n.colors;return He({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},Py=af,Hy=af,Ay=function(e){var t=e.children,n=t===void 0?"No options":t,r=e.innerProps,o=ur(e,ky);return Ae("div",Le({},Xt(He(He({},o),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},Fy=function(e){var t=e.children,n=t===void 0?"Loading...":t,r=e.innerProps,o=ur(e,Cy);return Ae("div",Le({},Xt(He(He({},o),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},Ly=function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},zy=function(e){var t=e.appendTo,n=e.children,r=e.controlElement,o=e.innerProps,i=e.menuPlacement,a=e.menuPosition,l=d.useRef(null),s=d.useRef(null),u=d.useState(rf(i)),c=gr(u,2),h=c[0],g=c[1],f=d.useMemo(function(){return{setPortalPlacement:g}},[]),p=d.useState(null),m=gr(p,2),y=m[0],w=m[1],v=d.useCallback(function(){if(r){var M=gy(r),P=a==="fixed"?0:window.pageYOffset,S=M[h]+P;(S!==y?.offset||M.left!==y?.rect.left||M.width!==y?.rect.width)&&w({offset:S,rect:M})}},[r,a,h,y?.offset,y?.rect.left,y?.rect.width]);es(function(){v()},[v]);var x=d.useCallback(function(){typeof s.current=="function"&&(s.current(),s.current=null),r&&l.current&&(s.current=sy(r,l.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);es(function(){x()},[x]);var E=d.useCallback(function(M){l.current=M,x()},[x]);if(!t&&a!=="fixed"||!y)return null;var O=Ae("div",Le({ref:E},Xt(He(He({},e),{},{offset:y.offset,position:a,rect:y.rect}),"menuPortal",{"menu-portal":!0}),o),n);return Ae(of.Provider,{value:f},t?sd.createPortal(O,t):O)},$y=function(e){var t=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},Ny=function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,o=e.isRtl;return Ae("div",Le({},Xt(e,"container",{"--is-disabled":r,"--is-rtl":o}),n),t)},Vy=function(e,t){var n=e.theme.spacing,r=e.isMulti,o=e.hasValue,i=e.selectProps.controlShouldRenderValue;return He({alignItems:"center",display:r&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},_y=function(e){var t=e.children,n=e.innerProps,r=e.isMulti,o=e.hasValue;return Ae("div",Le({},Xt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":o}),n),t)},Wy=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},jy=function(e){var t=e.children,n=e.innerProps;return Ae("div",Le({},Xt(e,"indicatorsContainer",{indicators:!0}),n),t)},Nc,By=["size"],Uy=["innerProps","isRtl","size"],Xy={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},lf=function(e){var t=e.size,n=ur(e,By);return Ae("svg",Le({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Xy},n))},Bs=function(e){return Ae(lf,Le({size:20},e),Ae("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},sf=function(e){return Ae(lf,Le({size:20},e),Ae("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},uf=function(e,t){var n=e.isFocused,r=e.theme,o=r.spacing.baseUnit,i=r.colors;return He({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?i.neutral60:i.neutral20,padding:o*2,":hover":{color:n?i.neutral80:i.neutral40}})},Gy=uf,Yy=function(e){var t=e.children,n=e.innerProps;return Ae("div",Le({},Xt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Ae(sf,null))},Ky=uf,qy=function(e){var t=e.children,n=e.innerProps;return Ae("div",Le({},Xt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Ae(Bs,null))},Zy=function(e,t){var n=e.isDisabled,r=e.theme,o=r.spacing.baseUnit,i=r.colors;return He({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},Qy=function(e){var t=e.innerProps;return Ae("span",Le({},t,Xt(e,"indicatorSeparator",{"indicator-separator":!0})))},Jy=qw(Nc||(Nc=Zw([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ex=function(e,t){var n=e.isFocused,r=e.size,o=e.theme,i=o.colors,a=o.spacing.baseUnit;return He({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?i.neutral60:i.neutral20,padding:a*2})},Il=function(e){var t=e.delay,n=e.offset;return Ae("span",{css:Vs({animation:"".concat(Jy," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},tx=function(e){var t=e.innerProps,n=e.isRtl,r=e.size,o=r===void 0?4:r,i=ur(e,Uy);return Ae("div",Le({},Xt(He(He({},i),{},{innerProps:t,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Ae(Il,{delay:0,offset:n}),Ae(Il,{delay:160,offset:!0}),Ae(Il,{delay:320,offset:!n}))},nx=function(e,t){var n=e.isDisabled,r=e.isFocused,o=e.theme,i=o.colors,a=o.borderRadius,l=o.spacing;return He({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},rx=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.innerRef,i=e.innerProps,a=e.menuIsOpen;return Ae("div",Le({ref:o},Xt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),i,{"aria-disabled":n||void 0}),t)},ox=rx,ix=["data"],ax=function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},lx=function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.getClassNames,i=e.Heading,a=e.headingProps,l=e.innerProps,s=e.label,u=e.theme,c=e.selectProps;return Ae("div",Le({},Xt(e,"group",{group:!0}),l),Ae(i,Le({},a,{selectProps:c,theme:u,getStyles:r,getClassNames:o,cx:n}),s),Ae("div",null,t))},sx=function(e,t){var n=e.theme,r=n.colors,o=n.spacing;return He({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},ux=function(e){var t=ef(e);t.data;var n=ur(t,ix);return Ae("div",Le({},Xt(e,"groupHeading",{"group-heading":!0}),n))},cx=lx,dx=["innerRef","isDisabled","isHidden","inputClassName"],hx=function(e,t){var n=e.isDisabled,r=e.value,o=e.theme,i=o.spacing,a=o.colors;return He(He({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},fx),t?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:a.neutral80})},cf={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},fx={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":He({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cf)},px=function(e){return He({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},cf)},gx=function(e){var t=e.cx,n=e.value,r=ef(e),o=r.innerRef,i=r.isDisabled,a=r.isHidden,l=r.inputClassName,s=ur(r,dx);return Ae("div",Le({},Xt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ae("input",Le({className:t({input:!0},l),ref:o,style:px(a),disabled:i},s)))},mx=gx,vx=function(e,t){var n=e.theme,r=n.spacing,o=n.borderRadius,i=n.colors;return He({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:r.baseUnit/2})},bx=function(e,t){var n=e.theme,r=n.borderRadius,o=n.colors,i=e.cropWithEllipsis;return He({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},wx=function(e,t){var n=e.theme,r=n.spacing,o=n.borderRadius,i=n.colors,a=e.isFocused;return He({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:a?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},df=function(e){var t=e.children,n=e.innerProps;return Ae("div",n,t)},yx=df,xx=df;function kx(e){var t=e.children,n=e.innerProps;return Ae("div",Le({role:"button"},n),t||Ae(Bs,{size:14}))}var Cx=function(e){var t=e.children,n=e.components,r=e.data,o=e.innerProps,i=e.isDisabled,a=e.removeProps,l=e.selectProps,s=n.Container,u=n.Label,c=n.Remove;return Ae(s,{data:r,innerProps:He(He({},Xt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:l},Ae(u,{data:r,innerProps:He({},Xt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),Ae(c,{data:r,innerProps:He(He({},Xt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:l}))},Sx=Cx,Mx=function(e,t){var n=e.isDisabled,r=e.isFocused,o=e.isSelected,i=e.theme,a=i.spacing,l=i.colors;return He({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?l.primary:r?l.primary25:"transparent",color:n?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:o?l.primary:l.primary50}})},Rx=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,o=e.isSelected,i=e.innerRef,a=e.innerProps;return Ae("div",Le({},Xt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":o}),{ref:i,"aria-disabled":n},a),t)},Ex=Rx,Ix=function(e,t){var n=e.theme,r=n.spacing,o=n.colors;return He({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},Tx=function(e){var t=e.children,n=e.innerProps;return Ae("div",Le({},Xt(e,"placeholder",{placeholder:!0}),n),t)},Ox=Tx,Dx=function(e,t){var n=e.isDisabled,r=e.theme,o=r.spacing,i=r.colors;return He({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Px=function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Ae("div",Le({},Xt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},Hx=Px,Us={ClearIndicator:qy,Control:ox,DropdownIndicator:Yy,DownChevron:sf,CrossIcon:Bs,Group:cx,GroupHeading:ux,IndicatorsContainer:jy,IndicatorSeparator:Qy,Input:mx,LoadingIndicator:tx,Menu:Ty,MenuList:Dy,MenuPortal:zy,LoadingMessage:Fy,NoOptionsMessage:Ay,MultiValue:Sx,MultiValueContainer:yx,MultiValueLabel:xx,MultiValueRemove:kx,Option:Ex,Placeholder:Ox,SelectContainer:Ny,SingleValue:Hx,ValueContainer:_y},Ax=function(e){return He(He({},Us),e.components)},Vc=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Fx(e,t){return!!(e===t||Vc(e)&&Vc(t))}function Lx(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Fx(e[n],t[n]))return!1;return!0}function zx(e,t){t===void 0&&(t=Lx);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var $x={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Nx=function(e){return Ae("span",Le({css:$x},e))},_c=Nx,Vx={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,o=e.context,i=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=n===void 0?"":n,o=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,o=e.label,i=o===void 0?"":o,a=e.selectValue,l=e.isDisabled,s=e.isSelected,u=e.isAppleDevice,c=function(f,p){return f&&f.length?"".concat(f.indexOf(p)+1," of ").concat(f.length):""};if(t==="value"&&a)return"value ".concat(i," focused, ").concat(c(a,n),".");if(t==="menu"&&u){var h=l?" disabled":"",g="".concat(s?" selected":"").concat(h);return"".concat(i).concat(g,", ").concat(c(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},_x=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,i=e.isFocused,a=e.selectValue,l=e.selectProps,s=e.id,u=e.isAppleDevice,c=l.ariaLiveMessages,h=l.getOptionLabel,g=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,y=l.menuIsOpen,w=l.options,v=l.screenReaderStatus,x=l.tabSelectsValue,E=l.isLoading,O=l["aria-label"],M=l["aria-live"],P=d.useMemo(function(){return He(He({},Vx),c||{})},[c]),S=d.useMemo(function(){var D="";if(t&&P.onChange){var C=t.option,Q=t.options,j=t.removedValue,q=t.removedValues,ue=t.value,te=function(oe){return Array.isArray(oe)?null:oe},K=j||C||te(ue),ge=K?h(K):"",ae=Q||q||void 0,fe=ae?ae.map(h):[],he=He({isDisabled:K&&p(K,a),label:ge,labels:fe},t);D=P.onChange(he)}return D},[t,P,p,a,h]),k=d.useMemo(function(){var D="",C=n||r,Q=!!(n&&a&&a.includes(n));if(C&&P.onFocus){var j={focused:C,label:h(C),isDisabled:p(C,a),isSelected:Q,options:o,context:C===n?"menu":"value",selectValue:a,isAppleDevice:u};D=P.onFocus(j)}return D},[n,r,h,p,P,o,a,u]),H=d.useMemo(function(){var D="";if(y&&w.length&&!E&&P.onFilter){var C=v({count:o.length});D=P.onFilter({inputValue:g,resultsMessage:C})}return D},[o,g,y,P,w,v,E]),I=t?.action==="initial-input-focus",R=d.useMemo(function(){var D="";if(P.guidance){var C=r?"value":y?"menu":"input";D=P.guidance({"aria-label":O,context:C,isDisabled:n&&p(n,a),isMulti:f,isSearchable:m,tabSelectsValue:x,isInitialFocus:I})}return D},[O,n,r,f,p,m,y,P,a,x,I]),T=Ae(d.Fragment,null,Ae("span",{id:"aria-selection"},S),Ae("span",{id:"aria-focused"},k),Ae("span",{id:"aria-results"},H),Ae("span",{id:"aria-guidance"},R));return Ae(d.Fragment,null,Ae(_c,{id:s},I&&T),Ae(_c,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!I&&T))},Wx=_x,ts=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],jx=new RegExp("["+ts.map(function(e){return e.letters}).join("")+"]","g"),hf={};for(var Tl=0;Tl<ts.length;Tl++)for(var Ol=ts[Tl],Dl=0;Dl<Ol.letters.length;Dl++)hf[Ol.letters[Dl]]=Ol.base;var ff=function(e){return e.replace(jx,function(t){return hf[t]})},Bx=zx(ff),Wc=function(e){return e.replace(/^\s+|\s+$/g,"")},Ux=function(e){return"".concat(e.label," ").concat(e.value)},Xx=function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=He({ignoreCase:!0,ignoreAccents:!0,stringify:Ux,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,i=r.ignoreAccents,a=r.stringify,l=r.trim,s=r.matchFrom,u=l?Wc(n):n,c=l?Wc(a(t)):a(t);return o&&(u=u.toLowerCase(),c=c.toLowerCase()),i&&(u=Bx(u),c=ff(c)),s==="start"?c.substr(0,u.length)===u:c.indexOf(u)>-1}},Gx=["innerRef"];function Yx(e){var t=e.innerRef,n=ur(e,Gx),r=xy(n,"onExited","in","enter","exit","appear");return Ae("input",Le({ref:t},r,{css:Vs({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Kx=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function qx(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,a=d.useRef(!1),l=d.useRef(!1),s=d.useRef(0),u=d.useRef(null),c=d.useCallback(function(y,w){if(u.current!==null){var v=u.current,x=v.scrollTop,E=v.scrollHeight,O=v.clientHeight,M=u.current,P=w>0,S=E-O-x,k=!1;S>w&&a.current&&(r&&r(y),a.current=!1),P&&l.current&&(i&&i(y),l.current=!1),P&&w>S?(n&&!a.current&&n(y),M.scrollTop=E,k=!0,a.current=!0):!P&&-w>x&&(o&&!l.current&&o(y),M.scrollTop=0,k=!0,l.current=!0),k&&Kx(y)}},[n,r,o,i]),h=d.useCallback(function(y){c(y,y.deltaY)},[c]),g=d.useCallback(function(y){s.current=y.changedTouches[0].clientY},[]),f=d.useCallback(function(y){var w=s.current-y.changedTouches[0].clientY;c(y,w)},[c]),p=d.useCallback(function(y){if(y){var w=by?{passive:!1}:!1;y.addEventListener("wheel",h,w),y.addEventListener("touchstart",g,w),y.addEventListener("touchmove",f,w)}},[f,g,h]),m=d.useCallback(function(y){y&&(y.removeEventListener("wheel",h,!1),y.removeEventListener("touchstart",g,!1),y.removeEventListener("touchmove",f,!1))},[f,g,h]);return d.useEffect(function(){if(t){var y=u.current;return p(y),function(){m(y)}}},[t,p,m]),function(y){u.current=y}}var jc=["boxSizing","height","overflow","paddingRight","position"],Bc={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Uc(e){e.cancelable&&e.preventDefault()}function Xc(e){e.stopPropagation()}function Gc(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Yc(){return"ontouchstart"in window||navigator.maxTouchPoints}var Kc=!!(typeof window<"u"&&window.document&&window.document.createElement),ai=0,yo={capture:!1,passive:!1};function Zx(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=d.useRef({}),i=d.useRef(null),a=d.useCallback(function(s){if(Kc){var u=document.body,c=u&&u.style;if(r&&jc.forEach(function(p){var m=c&&c[p];o.current[p]=m}),r&&ai<1){var h=parseInt(o.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,f=window.innerWidth-g+h||0;Object.keys(Bc).forEach(function(p){var m=Bc[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&Yc()&&(u.addEventListener("touchmove",Uc,yo),s&&(s.addEventListener("touchstart",Gc,yo),s.addEventListener("touchmove",Xc,yo))),ai+=1}},[r]),l=d.useCallback(function(s){if(Kc){var u=document.body,c=u&&u.style;ai=Math.max(ai-1,0),r&&ai<1&&jc.forEach(function(h){var g=o.current[h];c&&(c[h]=g)}),u&&Yc()&&(u.removeEventListener("touchmove",Uc,yo),s&&(s.removeEventListener("touchstart",Gc,yo),s.removeEventListener("touchmove",Xc,yo)))}},[r]);return d.useEffect(function(){if(t){var s=i.current;return a(s),function(){l(s)}}},[t,a,l]),function(s){i.current=s}}var Qx=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Jx={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ek(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,i=e.onBottomArrive,a=e.onBottomLeave,l=e.onTopArrive,s=e.onTopLeave,u=qx({isEnabled:o,onBottomArrive:i,onBottomLeave:a,onTopArrive:l,onTopLeave:s}),c=Zx({isEnabled:n}),h=function(g){u(g),c(g)};return Ae(d.Fragment,null,n&&Ae("div",{onClick:Qx,css:Jx}),t(h))}var tk={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},nk=function(e){var t=e.name,n=e.onFocus;return Ae("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:tk,value:"",onChange:function(){}})},rk=nk;function Xs(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function ok(){return Xs(/^iPhone/i)}function pf(){return Xs(/^Mac/i)}function ik(){return Xs(/^iPad/i)||pf()&&navigator.maxTouchPoints>1}function ak(){return ok()||ik()}function lk(){return pf()||ak()}var sk=function(e){return e.label},gf=function(e){return e.label},mf=function(e){return e.value},uk=function(e){return!!e.isDisabled},ck={clearIndicator:Ky,container:$y,control:nx,dropdownIndicator:Gy,group:ax,groupHeading:sx,indicatorsContainer:Wy,indicatorSeparator:Zy,input:hx,loadingIndicator:ex,loadingMessage:Hy,menu:Ry,menuList:Oy,menuPortal:Ly,multiValue:vx,multiValueLabel:bx,multiValueRemove:wx,noOptionsMessage:Py,option:Mx,placeholder:Ix,singleValue:Dx,valueContainer:Vy},dk={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},hk=4,vf=4,fk=38,pk=vf*2,gk={baseUnit:vf,controlHeight:fk,menuGutter:pk},Pl={borderRadius:hk,colors:dk,spacing:gk},mk={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:$c(),captureMenuScroll:!$c(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Xx(),formatGroupLabel:sk,getOptionLabel:gf,getOptionValue:mf,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:uk,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!my(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function qc(e,t,n,r){var o=yf(e,t,n),i=xf(e,t,n),a=wf(e,t),l=Ta(e,t);return{type:"option",data:t,isDisabled:o,isSelected:i,label:a,value:l,index:r}}function ca(e,t){return e.options.map(function(n,r){if("options"in n){var o=n.options.map(function(a,l){return qc(e,a,t,l)}).filter(function(a){return Qc(e,a)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var i=qc(e,n,t,r);return Qc(e,i)?i:void 0}).filter(wy)}function bf(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Io(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function Zc(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Io(r.options.map(function(o){return{data:o.data,id:"".concat(t,"-").concat(r.index,"-").concat(o.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function vk(e,t){return bf(ca(e,t))}function Qc(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,i=t.isSelected,a=t.label,l=t.value;return(!Cf(e)||!i)&&kf(e,{label:a,value:l,data:o},r)}function bk(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var i=t.indexOf(n);if(i>-1)return n;if(o<t.length)return t[o]}return null}function wk(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Hl=function(e,t){var n,r=(n=e.find(function(o){return o.data===t}))===null||n===void 0?void 0:n.id;return r||null},wf=function(e,t){return e.getOptionLabel(t)},Ta=function(e,t){return e.getOptionValue(t)};function yf(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function xf(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Ta(e,t);return n.some(function(o){return Ta(e,o)===r})}function kf(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var Cf=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return t===void 0?n:t},yk=1,Gs=(function(e){Wg(n,e);var t=Ug(n);function n(r){var o;if(Bg(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(s){o.controlRef=s},o.focusedOptionRef=null,o.getFocusedOptionRef=function(s){o.focusedOptionRef=s},o.menuListRef=null,o.getMenuListRef=function(s){o.menuListRef=s},o.inputRef=null,o.getInputRef=function(s){o.inputRef=s},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(s,u){var c=o.props,h=c.onChange,g=c.name;u.name=g,o.ariaOnChange(s,u),h(s,u)},o.setValue=function(s,u,c){var h=o.props,g=h.closeMenuOnSelect,f=h.isMulti,p=h.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:p}),g&&(o.setState({inputIsHiddenAfterUpdate:!f}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(s,{action:u,option:c})},o.selectOption=function(s){var u=o.props,c=u.blurInputOnSelect,h=u.isMulti,g=u.name,f=o.state.selectValue,p=h&&o.isOptionSelected(s,f),m=o.isOptionDisabled(s,f);if(p){var y=o.getOptionValue(s);o.setValue(f.filter(function(w){return o.getOptionValue(w)!==y}),"deselect-option",s)}else if(!m)h?o.setValue([].concat(Io(f),[s]),"select-option",s):o.setValue(s,"select-option");else{o.ariaOnChange(s,{action:"select-option",option:s,name:g});return}c&&o.blurInput()},o.removeValue=function(s){var u=o.props.isMulti,c=o.state.selectValue,h=o.getOptionValue(s),g=c.filter(function(p){return o.getOptionValue(p)!==h}),f=ui(u,g,g[0]||null);o.onChange(f,{action:"remove-value",removedValue:s}),o.focusInput()},o.clearValue=function(){var s=o.state.selectValue;o.onChange(ui(o.props.isMulti,[],null),{action:"clear",removedValues:s})},o.popValue=function(){var s=o.props.isMulti,u=o.state.selectValue,c=u[u.length-1],h=u.slice(0,u.length-1),g=ui(s,h,h[0]||null);c&&o.onChange(g,{action:"pop-value",removedValue:c})},o.getFocusedOptionId=function(s){return Hl(o.state.focusableOptionsWithIds,s)},o.getFocusableOptionsWithIds=function(){return Zc(ca(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return dy.apply(void 0,[o.props.classNamePrefix].concat(u))},o.getOptionLabel=function(s){return wf(o.props,s)},o.getOptionValue=function(s){return Ta(o.props,s)},o.getStyles=function(s,u){var c=o.props.unstyled,h=ck[s](u,c);h.boxSizing="border-box";var g=o.props.styles[s];return g?g(h,u):h},o.getClassNames=function(s,u){var c,h;return(c=(h=o.props.classNames)[s])===null||c===void 0?void 0:c.call(h,u)},o.getElementId=function(s){return"".concat(o.state.instancePrefix,"-").concat(s)},o.getComponents=function(){return Ax(o.props)},o.buildCategorizedOptions=function(){return ca(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return bf(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(s,u){o.setState({ariaSelection:He({value:s},u)})},o.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(s){o.blockOptionHover=!1},o.onControlMouseDown=function(s){if(!s.defaultPrevented){var u=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&o.onMenuClose():u&&o.openMenu("first"):(u&&(o.openAfterFocus=!0),o.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},o.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!o.props.isDisabled){var u=o.props,c=u.isMulti,h=u.menuIsOpen;o.focusInput(),h?(o.setState({inputIsHiddenAfterUpdate:!c}),o.onMenuClose()):o.openMenu("first"),s.preventDefault()}},o.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(o.clearValue(),s.preventDefault(),o.openAfterFocus=!1,s.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(s){typeof o.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&La(s.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(s)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(s){var u=s.touches,c=u&&u.item(0);c&&(o.initialTouchX=c.clientX,o.initialTouchY=c.clientY,o.userIsDragging=!1)},o.onTouchMove=function(s){var u=s.touches,c=u&&u.item(0);if(c){var h=Math.abs(c.clientX-o.initialTouchX),g=Math.abs(c.clientY-o.initialTouchY),f=5;o.userIsDragging=h>f||g>f}},o.onTouchEnd=function(s){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(s.target)&&o.menuListRef&&!o.menuListRef.contains(s.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(s){o.userIsDragging||o.onControlMouseDown(s)},o.onClearIndicatorTouchEnd=function(s){o.userIsDragging||o.onClearIndicatorMouseDown(s)},o.onDropdownIndicatorTouchEnd=function(s){o.userIsDragging||o.onDropdownIndicatorMouseDown(s)},o.handleInputChange=function(s){var u=o.props.inputValue,c=s.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(c,{action:"input-change",prevInputValue:u}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(s){o.props.onFocus&&o.props.onFocus(s),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(s){var u=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(s),o.onInputChange("",{action:"input-blur",prevInputValue:u}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(s){if(!(o.blockOptionHover||o.state.focusedOption===s)){var u=o.getFocusableOptions(),c=u.indexOf(s);o.setState({focusedOption:s,focusedOptionId:c>-1?o.getFocusedOptionId(s):null})}},o.shouldHideSelectedOptions=function(){return Cf(o.props)},o.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),o.focus()},o.onKeyDown=function(s){var u=o.props,c=u.isMulti,h=u.backspaceRemovesValue,g=u.escapeClearsValue,f=u.inputValue,p=u.isClearable,m=u.isDisabled,y=u.menuIsOpen,w=u.onKeyDown,v=u.tabSelectsValue,x=u.openMenuOnFocus,E=o.state,O=E.focusedOption,M=E.focusedValue,P=E.selectValue;if(!m&&!(typeof w=="function"&&(w(s),s.defaultPrevented))){switch(o.blockOptionHover=!0,s.key){case"ArrowLeft":if(!c||f)return;o.focusValue("previous");break;case"ArrowRight":if(!c||f)return;o.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(M)o.removeValue(M);else{if(!h)return;c?o.popValue():p&&o.clearValue()}break;case"Tab":if(o.isComposing||s.shiftKey||!y||!v||!O||x&&o.isOptionSelected(O,P))return;o.selectOption(O);break;case"Enter":if(s.keyCode===229)break;if(y){if(!O||o.isComposing)return;o.selectOption(O);break}return;case"Escape":y?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:f}),o.onMenuClose()):p&&g&&o.clearValue();break;case" ":if(f)return;if(!y){o.openMenu("first");break}if(!O)return;o.selectOption(O);break;case"ArrowUp":y?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":y?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!y)return;o.focusOption("pageup");break;case"PageDown":if(!y)return;o.focusOption("pagedown");break;case"Home":if(!y)return;o.focusOption("first");break;case"End":if(!y)return;o.focusOption("last");break;default:return}s.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++yk),o.state.selectValue=Ea(r.value),r.menuIsOpen&&o.state.selectValue.length){var i=o.getFocusableOptionsWithIds(),a=o.buildFocusableOptions(),l=a.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=i,o.state.focusedOption=a[l],o.state.focusedOptionId=Hl(i,a[l])}return o}return jg(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&zc(this.menuListRef,this.focusedOptionRef),lk()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(r){var o=this.props,i=o.isDisabled,a=o.menuIsOpen,l=this.state.isFocused;(l&&!i&&r.isDisabled||l&&a&&!r.menuIsOpen)&&this.focusInput(),l&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(zc(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,o){this.props.onInputChange(r,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var o=this,i=this.state,a=i.selectValue,l=i.isFocused,s=this.buildFocusableOptions(),u=r==="first"?0:s.length-1;if(!this.props.isMulti){var c=s.indexOf(a[0]);c>-1&&(u=c)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[u],focusedOptionId:this.getFocusedOptionId(s[u])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(r){var o=this.state,i=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=i.indexOf(a);a||(l=-1);var s=i.length-1,u=-1;if(i.length){switch(r){case"previous":l===0?u=0:l===-1?u=s:u=l-1;break;case"next":l>-1&&l<s&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,s=a.indexOf(i);i||(s=-1),r==="up"?l=s>0?s-1:a.length-1:r==="down"?l=(s+1)%a.length:r==="pageup"?(l=s-o,l<0&&(l=0)):r==="pagedown"?(l=s+o,l>a.length-1&&(l=a.length-1)):r==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Pl):He(He({},Pl),this.props.theme):Pl})},{key:"getCommonProps",value:function(){var r=this.clearValue,o=this.cx,i=this.getStyles,a=this.getClassNames,l=this.getValue,s=this.selectOption,u=this.setValue,c=this.props,h=c.isMulti,g=c.isRtl,f=c.options,p=this.hasValue();return{clearValue:r,cx:o,getStyles:i,getClassNames:a,getValue:l,hasValue:p,isMulti:h,isRtl:g,options:f,selectOption:s,selectProps:c,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,o=r.isClearable,i=r.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(r,o){return yf(this.props,r,o)}},{key:"isOptionSelected",value:function(r,o){return xf(this.props,r,o)}},{key:"filterOption",value:function(r,o){return kf(this.props,r,o)}},{key:"formatOptionLabel",value:function(r,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(r,{context:o,inputValue:i,selectValue:a})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var r=this.props,o=r.isDisabled,i=r.isSearchable,a=r.inputId,l=r.inputValue,s=r.tabIndex,u=r.form,c=r.menuIsOpen,h=r.required,g=this.getComponents(),f=g.Input,p=this.state,m=p.inputIsHidden,y=p.ariaSelection,w=this.commonProps,v=a||this.getElementId("input"),x=He(He(He({"aria-autocomplete":"list","aria-expanded":c,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},c&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?y?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?d.createElement(f,Le({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:o,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:u,type:"text",value:l},x)):d.createElement(Yx,Le({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ra,onFocus:this.onInputFocus,disabled:o,tabIndex:s,inputMode:"none",form:u,value:""},x))})},{key:"renderPlaceholderOrValue",value:function(){var r=this,o=this.getComponents(),i=o.MultiValue,a=o.MultiValueContainer,l=o.MultiValueLabel,s=o.MultiValueRemove,u=o.SingleValue,c=o.Placeholder,h=this.commonProps,g=this.props,f=g.controlShouldRenderValue,p=g.isDisabled,m=g.isMulti,y=g.inputValue,w=g.placeholder,v=this.state,x=v.selectValue,E=v.focusedValue,O=v.isFocused;if(!this.hasValue()||!f)return y?null:d.createElement(c,Le({},h,{key:"placeholder",isDisabled:p,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),w);if(m)return x.map(function(P,S){var k=P===E,H="".concat(r.getOptionLabel(P),"-").concat(r.getOptionValue(P));return d.createElement(i,Le({},h,{components:{Container:a,Label:l,Remove:s},isFocused:k,isDisabled:p,key:H,index:S,removeProps:{onClick:function(){return r.removeValue(P)},onTouchEnd:function(){return r.removeValue(P)},onMouseDown:function(I){I.preventDefault()}},data:P}),r.formatOptionLabel(P,"value"))});if(y)return null;var M=x[0];return d.createElement(u,Le({},h,{data:M,isDisabled:p}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),o=r.ClearIndicator,i=this.commonProps,a=this.props,l=a.isDisabled,s=a.isLoading,u=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||s)return null;var c={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(o,Le({},i,{innerProps:c,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),o=r.LoadingIndicator,i=this.commonProps,a=this.props,l=a.isDisabled,s=a.isLoading,u=this.state.isFocused;if(!o||!s)return null;var c={"aria-hidden":"true"};return d.createElement(o,Le({},i,{innerProps:c,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator,i=r.IndicatorSeparator;if(!o||!i)return null;var a=this.commonProps,l=this.props.isDisabled,s=this.state.isFocused;return d.createElement(i,Le({},a,{isDisabled:l,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator;if(!o)return null;var i=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(o,Le({},i,{innerProps:s,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var r=this,o=this.getComponents(),i=o.Group,a=o.GroupHeading,l=o.Menu,s=o.MenuList,u=o.MenuPortal,c=o.LoadingMessage,h=o.NoOptionsMessage,g=o.Option,f=this.commonProps,p=this.state.focusedOption,m=this.props,y=m.captureMenuScroll,w=m.inputValue,v=m.isLoading,x=m.loadingMessage,E=m.minMenuHeight,O=m.maxMenuHeight,M=m.menuIsOpen,P=m.menuPlacement,S=m.menuPosition,k=m.menuPortalTarget,H=m.menuShouldBlockScroll,I=m.menuShouldScrollIntoView,R=m.noOptionsMessage,T=m.onMenuScrollToTop,D=m.onMenuScrollToBottom;if(!M)return null;var C=function(K,ge){var ae=K.type,fe=K.data,he=K.isDisabled,oe=K.isSelected,$=K.label,A=K.value,U=p===fe,re=he?void 0:function(){return r.onOptionHover(fe)},le=he?void 0:function(){return r.selectOption(fe)},Ee="".concat(r.getElementId("option"),"-").concat(ge),we={id:Ee,onClick:le,onMouseMove:re,onMouseOver:re,tabIndex:-1,role:"option","aria-selected":r.state.isAppleDevice?void 0:oe};return d.createElement(g,Le({},f,{innerProps:we,data:fe,isDisabled:he,isSelected:oe,key:Ee,label:$,type:ae,value:A,isFocused:U,innerRef:U?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(K.data,"menu"))},Q;if(this.hasOptions())Q=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var ge=K.data,ae=K.options,fe=K.index,he="".concat(r.getElementId("group"),"-").concat(fe),oe="".concat(he,"-heading");return d.createElement(i,Le({},f,{key:he,data:ge,options:ae,Heading:a,headingProps:{id:oe,data:K.data},label:r.formatGroupLabel(K.data)}),K.options.map(function($){return C($,"".concat(fe,"-").concat($.index))}))}else if(K.type==="option")return C(K,"".concat(K.index))});else if(v){var j=x({inputValue:w});if(j===null)return null;Q=d.createElement(c,f,j)}else{var q=R({inputValue:w});if(q===null)return null;Q=d.createElement(h,f,q)}var ue={minMenuHeight:E,maxMenuHeight:O,menuPlacement:P,menuPosition:S,menuShouldScrollIntoView:I},te=d.createElement(Ey,Le({},f,ue),function(K){var ge=K.ref,ae=K.placerProps,fe=ae.placement,he=ae.maxHeight;return d.createElement(l,Le({},f,ue,{innerRef:ge,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:v,placement:fe}),d.createElement(ek,{captureEnabled:y,onTopArrive:T,onBottomArrive:D,lockEnabled:H},function(oe){return d.createElement(s,Le({},f,{innerRef:function($){r.getMenuListRef($),oe($)},innerProps:{role:"listbox","aria-multiselectable":f.isMulti,id:r.getElementId("listbox")},isLoading:v,maxHeight:he,focusedOption:p}),Q)}))});return k||S==="fixed"?d.createElement(u,Le({},f,{appendTo:k,controlElement:this.controlRef,menuPlacement:P,menuPosition:S}),te):te}},{key:"renderFormField",value:function(){var r=this,o=this.props,i=o.delimiter,a=o.isDisabled,l=o.isMulti,s=o.name,u=o.required,c=this.state.selectValue;if(u&&!this.hasValue()&&!a)return d.createElement(rk,{name:s,onFocus:this.onValueInputFocus});if(!(!s||a))if(l)if(i){var h=c.map(function(p){return r.getOptionValue(p)}).join(i);return d.createElement("input",{name:s,type:"hidden",value:h})}else{var g=c.length>0?c.map(function(p,m){return d.createElement("input",{key:"i-".concat(m),name:s,type:"hidden",value:r.getOptionValue(p)})}):d.createElement("input",{name:s,type:"hidden",value:""});return d.createElement("div",null,g)}else{var f=c[0]?this.getOptionValue(c[0]):"";return d.createElement("input",{name:s,type:"hidden",value:f})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,o=this.state,i=o.ariaSelection,a=o.focusedOption,l=o.focusedValue,s=o.isFocused,u=o.selectValue,c=this.getFocusableOptions();return d.createElement(Wx,Le({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:a,focusedValue:l,isFocused:s,selectValue:u,focusableOptions:c,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),o=r.Control,i=r.IndicatorsContainer,a=r.SelectContainer,l=r.ValueContainer,s=this.props,u=s.className,c=s.id,h=s.isDisabled,g=s.menuIsOpen,f=this.state.isFocused,p=this.commonProps=this.getCommonProps();return d.createElement(a,Le({},p,{className:u,innerProps:{id:c,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:f}),this.renderLiveRegion(),d.createElement(o,Le({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:f,menuIsOpen:g}),d.createElement(l,Le({},p,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),d.createElement(i,Le({},p,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,o){var i=o.prevProps,a=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,s=o.ariaSelection,u=o.isFocused,c=o.prevWasFocused,h=o.instancePrefix,g=r.options,f=r.value,p=r.menuIsOpen,m=r.inputValue,y=r.isMulti,w=Ea(f),v={};if(i&&(f!==i.value||g!==i.options||p!==i.menuIsOpen||m!==i.inputValue)){var x=p?vk(r,w):[],E=p?Zc(ca(r,w),"".concat(h,"-option")):[],O=a?bk(o,w):null,M=wk(o,x),P=Hl(E,M);v={selectValue:w,focusedOption:M,focusedOptionId:P,focusableOptionsWithIds:E,focusedValue:O,clearFocusValueOnUpdate:!1}}var S=l!=null&&r!==i?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},k=s,H=u&&c;return u&&!H&&(k={value:ui(y,w,w[0]||null),options:w,action:"initial-input-focus"},H=!c),s?.action==="initial-input-focus"&&(k=null),He(He(He({},v),S),{},{prevProps:r,ariaSelection:k,prevWasFocused:H})}}]),n})(d.Component);Gs.defaultProps=mk;var xk=d.forwardRef(function(e,t){var n=Uh(e);return d.createElement(Gs,Le({ref:t},n))}),Sf=xk;const kk=e=>{const{Menu:t}=Us,{children:n,...r}=e;return d.createElement(t,{...r},n)},Ck=cn("div")({name:"Wrap",class:"gdg-wghi2zc",propsAsIs:!1}),Sk=cn("div")({name:"PortalWrap",class:"gdg-p13nj8j0",propsAsIs:!1}),Mk=cn("div")({name:"ReadOnlyWrap",class:"gdg-r6sia3g",propsAsIs:!1}),Rk=e=>{const{value:t,onFinishedEditing:n,initialValue:r,portalElementRef:o}=e,{allowedValues:i,value:a}=t.data,[l,s]=d.useState(a),[u,c]=d.useState(r??""),h=lh(),g=d.useMemo(()=>i.map(f=>typeof f=="string"||f===null||f===void 0?{value:f,label:f?.toString()??""}:f),[i]);return t.readonly?d.createElement(Mk,null,d.createElement(Jr,{highlight:!0,autoFocus:!1,disabled:!0,value:l??"",onChange:()=>{}})):d.createElement(Ck,null,d.createElement(Sf,{className:"glide-select",inputValue:u,onInputChange:c,menuPlacement:"auto",value:g.find(f=>f.value===l),styles:{control:f=>({...f,border:0,boxShadow:"none"}),option:(f,{isFocused:p})=>({...f,fontSize:h.editorFontSize,fontFamily:h.fontFamily,cursor:p?"pointer":void 0,paddingLeft:h.cellHorizontalPadding,paddingRight:h.cellHorizontalPadding,":active":{...f[":active"],color:h.accentFg},":empty::after":{content:'"&nbsp;"',visibility:"hidden"}})},theme:f=>({...f,colors:{...f.colors,neutral0:h.bgCell,neutral5:h.bgCell,neutral10:h.bgCell,neutral20:h.bgCellMedium,neutral30:h.bgCellMedium,neutral40:h.bgCellMedium,neutral50:h.textLight,neutral60:h.textMedium,neutral70:h.textMedium,neutral80:h.textDark,neutral90:h.textDark,neutral100:h.textDark,primary:h.accentColor,primary75:h.accentColor,primary50:h.accentColor,primary25:h.accentLight}}),menuPortalTarget:o?.current??document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:f=>d.createElement(Sk,null,d.createElement(kk,{className:"click-outside-ignore",...f}))},options:g,onChange:async f=>{f!==null&&(s(f.value),await new Promise(p=>window.requestAnimationFrame(p)),n({...t,data:{...t.data,value:f.value}}))}}))},Ek={kind:Z.Custom,isMatch:e=>e.data.kind==="dropdown-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{value:i}=t.data,a=t.data.allowedValues.find(s=>typeof s=="string"||s===null||s===void 0?s===i:s.value===i),l=typeof a=="string"?a:a?.label??"";return l&&(n.fillStyle=r.textDark,n.fillText(l,o.x+r.cellHorizontalPadding,o.y+o.height/2+er(n,r))),!0},measure:(e,t,n)=>{const{value:r}=t.data;return(r?e.measureText(r).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:Rk,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,value:""}})}),onPaste:(e,t)=>({...t,value:t.allowedValues.some(n=>n==null?!1:typeof n=="string"?n===e:n.value===e)?e:t.value})};function Ik(e,t){const n=/(\d+\.?\d*)\s*(px|rem|em|%|pt)/,r=e.match(n);if(r){const o=parseFloat(r[1]),i=r[2],a=o*t;return e.replace(n,`${Number(a.toPrecision(3))}${i}`)}return e}const Tk={marginRight:8},Ok={display:"flex",alignItems:"center",flexGrow:1},Dk={kind:Z.Custom,isMatch:e=>e.data.kind==="range-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{min:i,max:a,value:l,label:s,measureLabel:u}=t.data,c=o.x+r.cellHorizontalPadding,h=o.y+o.height/2,g=a-i,f=(l-i)/g,p=`${Ik(r.baseFontStyle,.9)} ${r.fontFamily}`,m=bs(n,p)/2;n.save();let y=0;s!==void 0&&(n.font=p,y=Dr(u??s,n,p).width+r.cellHorizontalPadding);const w=o.width-r.cellHorizontalPadding*2-y;if(w>=m){const v=n.createLinearGradient(c,h,c+w,h);v.addColorStop(0,r.accentColor),v.addColorStop(f,r.accentColor),v.addColorStop(f,r.bgBubble),v.addColorStop(1,r.bgBubble),n.beginPath(),n.fillStyle=v,Dc(n,c,h-m/2,w,m,m/2),n.fill(),n.beginPath(),Dc(n,c+.5,h-m/2+.5,w-1,m-1,(m-1)/2),n.strokeStyle=r.accentLight,n.lineWidth=1,n.stroke()}return s!==void 0&&(n.textAlign="right",n.fillStyle=r.textDark,n.fillText(s,o.x+o.width-r.cellHorizontalPadding,h+er(n,p))),n.restore(),!0},provideEditor:()=>e=>{const{data:t,readonly:n}=e.value,r=t.value.toString(),o=t.min.toString(),i=t.max.toString(),a=t.step.toString(),l=s=>{e.onChange({...e.value,data:{...t,value:Number(s.target.value)}})};return d.createElement("label",{style:Ok},d.createElement("input",{style:Tk,type:"range",value:r,min:o,max:i,step:a,onChange:l,disabled:n}),r)},onPaste:(e,t)=>{let n=Number.parseFloat(e);return n=Number.isNaN(n)?t.value:Math.max(t.min,Math.min(t.max,n)),{...t,value:n}}},Pk=cn("input")({name:"StyledInputBox",class:"gdg-s1wtovjx",propsAsIs:!1}),Al=(e,t,n)=>{if(t==null)return"";n&&(t=new Date(t.getTime()+n));const r=t.toISOString();switch(e){case"date":return r.split("T")[0];case"datetime-local":return r.replace("Z","");case"time":return r.split("T")[1].replace("Z","");default:throw new Error(`Unknown date kind ${e}`)}},Hk=e=>{const t=e.value.data,{format:n,displayDate:r}=t,o=t.step!==void 0&&!Number.isNaN(Number(t.step))?Number(t.step):void 0,i=t.timezoneOffset?t.timezoneOffset*60*1e3:0,a=t.min instanceof Date?Al(n,t.min,i):t.min,l=t.max instanceof Date?Al(n,t.max,i):t.max,s=Al(n,t.date,i);return e.value.readonly?St.createElement(Jr,{highlight:!0,autoFocus:!1,disabled:!0,value:r??"",onChange:()=>{}}):St.createElement(Pk,{"data-testid":"date-picker-cell",required:!0,type:n,defaultValue:s,min:a,max:l,step:o,autoFocus:!0,onChange:u=>{isNaN(u.target.valueAsNumber)?e.onChange({...e.value,data:{...e.value.data,date:void 0}}):e.onChange({...e.value,data:{...e.value.data,date:new Date(u.target.valueAsNumber-i)}})}})},Ak={kind:Z.Custom,isMatch:e=>e.data.kind==="date-picker-cell",draw:(e,t)=>{const{displayDate:n}=t.data;return vs(e,n,t.contentAlign),!0},measure:(e,t,n)=>{const{displayDate:r}=t.data;return e.measureText(r).width+n.cellHorizontalPadding*2},provideEditor:()=>({editor:Hk}),onPaste:(e,t)=>{let n=NaN;return e&&(n=Number(e).valueOf(),Number.isNaN(n)&&(n=Date.parse(e),t.format==="time"&&Number.isNaN(n)&&(n=Date.parse(`1970-01-01T${e}Z`)))),{...t,date:Number.isNaN(n)?void 0:new Date(n)}}};var Fk=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Jc=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),o=String(n.getOptionValue(t)).toLowerCase(),i=String(n.getOptionLabel(t)).toLowerCase();return o===r||i===r},Fl={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some(function(o){return Jc(e,o,r)})||n.some(function(o){return Jc(e,o,r)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function Lk(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,o=r===void 0?"last":r,i=e.formatCreateLabel,a=i===void 0?Fl.formatCreateLabel:i,l=e.isValidNewOption,s=l===void 0?Fl.isValidNewOption:l,u=e.getNewOptionData,c=u===void 0?Fl.getNewOptionData:u,h=e.onCreateOption,g=e.options,f=g===void 0?[]:g,p=e.onChange,m=ur(e,Fk),y=m.getOptionValue,w=y===void 0?mf:y,v=m.getOptionLabel,x=v===void 0?gf:v,E=m.inputValue,O=m.isLoading,M=m.isMulti,P=m.value,S=m.name,k=d.useMemo(function(){return s(E,Ea(P),f,{getOptionValue:w,getOptionLabel:x})?c(E,a(E)):void 0},[a,c,x,w,E,s,f,P]),H=d.useMemo(function(){return(n||!O)&&k?o==="first"?[k].concat(Io(f)):[].concat(Io(f),[k]):f},[n,o,O,k,f]),I=d.useCallback(function(R,T){if(T.action!=="select-option")return p(R,T);var D=Array.isArray(R)?R:[R];if(D[D.length-1]===k){if(h)h(E);else{var C=c(E,E),Q={action:"create-option",name:S,option:C};p(ui(M,[].concat(Io(Ea(P)),[C]),C),Q)}return}p(R,T)},[c,E,M,S,k,h,p,P]);return He(He({},m),{},{options:H,onChange:I})}var zk=d.forwardRef(function(e,t){var n=Uh(e),r=Lk(n);return d.createElement(Gs,Le({ref:t},r))}),$k=zk;const Ys="__value",Nk=new RegExp(`^${Ys}\\d+__`),Vk=cn("div")({name:"Wrap",class:"gdg-w1i61rz",propsAsIs:!1}),_k=cn("div")({name:"PortalWrap",class:"gdg-phbadu4",propsAsIs:!1}),da=e=>e.map(t=>typeof t=="string"||t===null||t===void 0?{value:t,label:t??"",color:void 0}:{value:t.value,label:t.label??t.value??"",color:t.color??void 0}),Mf=(e,t,n)=>e==null?[]:e.map((r,o)=>{const i=n?`${Ys}${o}__`:"",a=t.find(l=>l.value===r);return a?{...a,value:`${i}${a.value}`}:{value:`${i}${r}`,label:r}}),Wk=e=>{const{Menu:t}=Us,{children:n,...r}=e;return d.createElement(t,{...r},n)},jk=e=>{const{value:t,initialValue:n,onChange:r,onFinishedEditing:o,portalElementRef:i}=e,{options:a,values:l,allowCreation:s,allowDuplicates:u}=t.data,c=lh(),[h,g]=d.useState(l),[f,p]=d.useState(!0),[m,y]=d.useState(n??""),w=d.useMemo(()=>da(a??[]),[a]),v=s&&u&&w.length===0,x=d.useCallback(S=>{f&&S.stopPropagation()},[f]),E={control:(S,k)=>({...S,border:0,boxShadow:"none",backgroundColor:c.bgCell,pointerEvents:k.isDisabled?"auto":S.pointerEvents,cursor:k.isDisabled?"default":S.cursor}),valueContainer:S=>({...S,flexWrap:S.flexWrap??"wrap",overflowX:"auto",overflowY:"hidden"}),menu:S=>({...S,backgroundColor:c.bgCell}),option:(S,k)=>({...S,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textDark,...k.isFocused?{backgroundColor:c.accentLight,cursor:"pointer"}:{},":active":{...S[":active"],color:c.accentFg,backgroundColor:c.accentColor}}),input:(S,{isDisabled:k})=>k?{display:"none"}:{...S,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textDark},placeholder:S=>({...S,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textLight}),noOptionsMessage:S=>({...S,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textLight}),clearIndicator:S=>({...S,color:c.textLight,":hover":{color:c.textDark,cursor:"pointer"}}),multiValue:(S,{data:k})=>({...S,backgroundColor:k.color??c.bgBubble,borderRadius:`${c.roundingRadius??c.bubbleHeight/2}px`,flexShrink:0,whiteSpace:"nowrap"}),multiValueLabel:(S,{data:k,isDisabled:H})=>({...S,paddingRight:H?c.bubblePadding:0,paddingLeft:c.bubblePadding,paddingTop:0,paddingBottom:0,color:k.color?_l(k.color)>.5?"black":"white":c.textBubble,fontSize:c.editorFontSize,fontFamily:c.fontFamily,justifyContent:"center",alignItems:"center",display:"flex",height:c.bubbleHeight,whiteSpace:"nowrap"}),multiValueRemove:(S,{data:k,isDisabled:H,isFocused:I})=>H?{display:"none"}:{...S,color:k.color?_l(k.color)>.5?"black":"white":c.textBubble,backgroundColor:void 0,borderRadius:I?`${c.roundingRadius??c.bubbleHeight/2}px`:void 0,":hover":{cursor:"pointer"}}},O=d.useCallback(S=>{const k=S.map(H=>u&&H.startsWith(Ys)?H.replace(new RegExp(Nk),""):H);g(k),r({...t,data:{...t.data,values:k}})},[t,r,u]),M=S=>{switch(S.key){case"Enter":case"Tab":if(!m){o(t,[0,1]);return}u&&s&&(y(""),O([...h??[],m]),p(!1),S.preventDefault())}},P=s?$k:Sf;return d.createElement(Vk,{onKeyDown:x,"data-testid":"multi-select-cell"},d.createElement(P,{className:"gdg-multi-select",isMulti:!0,isDisabled:t.readonly,isClearable:!0,isSearchable:!0,inputValue:m,onInputChange:y,options:w,placeholder:t.readonly?"":s?"Add...":void 0,noOptionsMessage:S=>s&&u&&S.inputValue?`Create "${S.inputValue}"`:void 0,menuIsOpen:t.readonly?!1:f,onMenuOpen:()=>p(!0),onMenuClose:()=>p(!1),value:Mf(h,w,u),onKeyDown:t.readonly?void 0:M,menuPlacement:"auto",menuPortalTarget:i?.current??document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,openMenuOnClick:!0,closeMenuOnSelect:!0,backspaceRemovesValue:!0,escapeClearsValue:!1,styles:E,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:S=>v?null:d.createElement(_k,null,d.createElement(Wk,{className:"click-outside-ignore",...S}))},onChange:async S=>{S!==null&&O(S.map(k=>k.value))}}))},Bk={kind:Z.Custom,isMatch:e=>e.data.kind==="multi-select-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o,highlighted:i}=e,{values:a,options:l}=t.data;if(a==null)return!0;const s=da(l??[]),u={x:o.x+r.cellHorizontalPadding,y:o.y+r.cellVerticalPadding,width:o.width-2*r.cellHorizontalPadding,height:o.height-2*r.cellVerticalPadding},c=Math.max(1,Math.floor(u.height/(r.bubbleHeight+r.bubblePadding)));let{x:h}=u,g=1,f=c===1?u.y+(u.height-r.bubbleHeight)/2:u.y+(u.height-c*r.bubbleHeight-(c-1)*r.bubblePadding)/2;for(const p of a){const m=s.find(E=>E.value===p),y=m?.color??(i?r.bgBubbleSelected:r.bgBubble),w=m?.label??p,v=Dr(w,n).width+r.bubblePadding*2,x=r.bubbleHeight/2;if(h!==u.x&&h+v>u.x+u.width&&g<c&&(g++,f+=r.bubbleHeight+r.bubblePadding,h=u.x),n.fillStyle=y,n.beginPath(),Qn(n,h,f,v,r.bubbleHeight,r.roundingRadius??r.bubbleHeight/2),n.fill(),n.fillStyle=m?.color?_l(y)>.5?"#000000":"#ffffff":r.textBubble,n.fillText(w,h+r.bubblePadding,f+x+er(n,r)),h+=v+r.bubbleMargin,h>u.x+u.width+r.cellHorizontalPadding&&g>=c)break}return!0},measure:(e,t,n)=>{const{values:r,options:o}=t.data;if(!r)return n.cellHorizontalPadding*2;const i=Mf(r,da(o??[]),t.data.allowDuplicates).map(l=>l.label??l.value),a=i.reduce((l,s)=>e.measureText(s).width+l+n.bubblePadding*2+n.bubbleMargin,0);return i.length===0?n.cellHorizontalPadding*2:a+2*n.cellHorizontalPadding-n.bubbleMargin},provideEditor:()=>({editor:jk,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,values:[]}})}),onPaste:(e,t)=>{if(!e||!e.trim())return{...t,values:[]};let n=e.split(",").map(r=>r.trim());if(t.allowDuplicates||(n=n.filter((r,o)=>n.indexOf(r)===o)),!t.allowCreation){const r=da(t.options??[]);n=n.filter(o=>r.find(i=>i.value===o))}if(n.length!==0)return{...t,values:n}}},Uk="None";function ed(e,t,n){e.save(),e.beginPath(),e.moveTo(t.x+t.width-n.cellHorizontalPadding,t.y+1),e.lineTo(t.x+t.width,t.y+1),e.lineTo(t.x+t.width,t.y+1+n.cellHorizontalPadding),e.fillStyle=n.accentColor,e.fill(),e.restore()}const Xk=e=>{const{cell:t,theme:n,ctx:r}=e;vs({...e,theme:{...n,textDark:n.textLight,headerFontFull:`${n.headerFontStyle} ${n.fontFamily}`,baseFontFull:`${n.baseFontStyle} ${n.fontFamily}`,markerFontFull:`${n.markerFontStyle} ${n.fontFamily}`}},Uk,t.contentAlign),r.fillStyle=n.textDark};function Gk(e){const t=d.useCallback((r,o)=>{const{cell:i,theme:a,ctx:l,rect:s}=r,u=r.col;if(To(i))ed(l,s,a);else if(Ms(i)&&u<e.length){const c=e[u];["checkbox","line_chart","bar_chart","progress"].includes(c.kind)?o():Xk(r),c.isRequired&&c.isEditable&&ed(l,s,a);return}o()},[e]),n=d.useMemo(()=>[Iw,Ek,Dk,Ak,Bk,...ew],[]);return{drawCell:t,customRenderers:n}}function Yk(){const e=Zr();return d.useMemo(()=>{const t={editable:n=>`<svg xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 96 960 960" width="40" fill="${n.bgColor}"><path d="m800.641 679.743-64.384-64.384 29-29q7.156-6.948 17.642-6.948 10.485 0 17.742 6.948l29 29q6.948 7.464 6.948 17.95 0 10.486-6.948 17.434l-29 29Zm-310.64 246.256v-64.383l210.82-210.821 64.384 64.384-210.821 210.82h-64.383Zm-360-204.872v-50.254h289.743v50.254H130.001Zm0-162.564v-50.255h454.615v50.255H130.001Zm0-162.307v-50.255h454.615v50.255H130.001Z"/></svg>`};return{glideTheme:{accentColor:e.colors.primary,accentFg:e.colors.white,accentLight:xo(e.colors.primary,.9),borderColor:e.colors.dataframeBorderColor,horizontalBorderColor:e.colors.dataframeBorderColor,fontFamily:e.genericFonts.bodyFont,bgSearchResult:xo(e.colors.primary,.9),resizeIndicatorColor:e.colors.primary,bgIconHeader:e.colors.fadedText60,fgIconHeader:e.colors.white,bgHeader:e.colors.dataframeHeaderBackgroundColor,bgHeaderHasFocus:xo(e.colors.darkenedBgMix100,.9),bgHeaderHovered:xo(e.colors.darkenedBgMix100,.9),textHeader:e.colors.fadedText60,textHeaderSelected:e.colors.white,textGroupHeader:e.colors.fadedText60,headerIconSize:Math.round(rn("1.125rem")),headerFontStyle:`${e.fontWeights.normal} ${rn(e.fontSizes.sm)}px`,baseFontStyle:`${e.fontWeights.normal} ${rn(e.fontSizes.sm)}px`,editorFontSize:e.fontSizes.sm,textDark:e.colors.bodyText,textMedium:xo(e.colors.bodyText,.2),textLight:e.colors.fadedText40,bgCell:e.colors.bgColor,bgCellMedium:e.colors.bgColor,cellHorizontalPadding:Math.round(rn(e.spacing.sm)),cellVerticalPadding:Math.round(rn("0.1875rem")),textBubble:e.colors.fadedText60,bgBubble:e.colors.secondaryBg,bgBubbleSelected:pp(e.colors.secondaryBg,.1),bubbleHeight:Math.round(rn("1.25rem")),bubblePadding:Math.round(rn(e.spacing.sm)),bubbleMargin:Math.round(rn(e.spacing.twoXS)),linkColor:e.colors.link,drilldownBorder:e.colors.darkenedBgMix25,checkboxMaxSize:Math.round(rn(e.sizes.checkbox))},tableBorderRadius:e.radii.default,tableBorderWidth:1,defaultTableHeight:Math.round(rn("25rem")),minColumnWidth:Math.round(rn("3.125rem")),maxColumnWidth:Math.round(rn("62.5rem")),maxColumnAutoWidth:Math.round(rn("31.25rem")),defaultRowHeight:Math.round(rn("2.1875rem")),defaultHeaderHeight:Math.round(rn("2.1875rem")),bgRowHovered:fp(e.colors.bgColor,e.colors.secondaryBg,.3),headerIcons:t}},[e])}const Kk=rs.getLogger("useDataEditor");function qk(e,t,n,r,o,i,a,l,s){const u=d.useCallback(([m,y],w)=>{const v=e[m];if(!v.isEditable)return;const x=v.indexNumber,E=n.current.getOriginalRowIndex(o(y)),O=r([m,y]),M=v.getCellValue(O),P=v.getCellValue(w);if(!To(O)&&P===M)return;const S=v.getCell(P,!0);To(S)?Kk.warn(`Not applying the cell edit since it causes this error:
 ${S.data}`):(n.current.setCell(x,E,{...S,lastUpdated:performance.now()}),l())},[e,n,o,r,l]),c=d.useCallback(()=>{if(t)return;const m=new Map;e.forEach(y=>{m.set(y.indexNumber,y.getCell(y.defaultValue))}),n.current.addRow(m),a()},[e,n,t,a]),h=d.useCallback(()=>{t||(c(),l())},[c,l,t]),g=d.useCallback(m=>{if(m.rows.length>0){if(t)return!0;const y=m.rows.toArray().map(w=>n.current.getOriginalRowIndex(o(w)));return n.current.deleteRows(y),a(),s(),l(),!1}if(m.current?.range){const y=[],w=m.current.range;for(let v=w.y;v<w.y+w.height;v++)for(let x=w.x;x<w.x+w.width;x++){const E=e[x];E.isEditable&&!E.isRequired&&(y.push({cell:[x,v]}),u([x,v],E.getCell(null)))}return y.length>0&&(l(),i(y)),!1}return!0},[e,n,t,i,o,l,u,s,a]),f=d.useCallback((m,y)=>{const[w,v]=m,x=[];for(let E=0;E<y.length;E++){const O=y[E];if(E+v>=n.current.getNumRows()){if(t)break;c()}for(let M=0;M<O.length;M++){const P=O[M],S=E+v,k=M+w;if(k>=e.length)break;const H=e[k];if(H.isEditable){const I=H.getCell(P,!0);if(ot(I)&&!To(I)){const R=H.indexNumber,T=n.current.getOriginalRowIndex(o(S)),D=H.getCellValue(r([k,S]));H.getCellValue(I)!==D&&(n.current.setCell(R,T,{...I,lastUpdated:performance.now()}),x.push({cell:[k,S]}))}}}x.length>0&&(l(),i(x))}return!1},[e,n,t,o,r,c,l,i]),p=d.useCallback((m,y)=>{const w=m[0];if(w>=e.length)return!0;const v=e[w];if(v.validateInput){const x=v.validateInput(v.getCellValue(y));return x===!0||x===!1?x:v.getCell(x)}return!0},[e]);return{onCellEdited:u,onPaste:f,onRowAppended:h,onDelete:g,validateCell:p}}const Rf=",",ci='"',Zk='"',Ef=`
`,Qk="\uFEFF",Jk=new RegExp(`[${[Rf,ci,Ef].join("")}]`),td=rs.getLogger("useDataExporter");function nd(e){return e.map(t=>eC(t)).join(Rf)+Ef}function eC(e){if(Te(e))return"";const t=it(e);return Jk.test(t)?`${ci}${t.replace(new RegExp(ci,"g"),Zk+ci)}${ci}`:t}async function rd(e,t,n,r){const o=new TextEncoder;await e.write(o.encode(Qk));const i=n.map(a=>a.name);await e.write(o.encode(nd(i)));for(let a=0;a<r;a++){const l=[];n.forEach((s,u,c)=>{l.push(s.getCellValue(t([u,a])))}),await e.write(o.encode(nd(l)))}await e.close()}function tC(e,t,n,r){return{exportToCsv:d.useCallback(async()=>{const o=`${new Date().toISOString().slice(0,16).replace(":","-")}_export.csv`;try{const i=await(await(await ns(()=>import("./es6--XPcqeHG-D1VmO9CH-BEgR1dll.js"),__vite__mapDeps([13,1])).then(a=>a.a)).showSaveFilePicker({suggestedName:o,types:[{accept:{"text/csv":[".csv"]}}],excludeAcceptAllOption:!1})).createWritable();await rd(i,e,t,n)}catch(i){if(i instanceof Error&&i.name==="AbortError")return;try{td.warn("Failed to export data as CSV with FileSystem API, trying fallback method",i);let a="";const l=new WritableStream({write:h=>{a+=new TextDecoder("utf-8").decode(h)},close:async()=>{}});await rd(l.getWriter(),e,t,n);const s=new Blob([a],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(s),c=Vg({enforceDownloadInNewTab:r,url:u,filename:o});c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(u)}catch(a){td.error("Failed to export data as CSV",a)}}},[t,n,e,r])}}function nC(e,t,n,r){return{getCellContent:d.useCallback(([o,i])=>{if(o>t.length-1)return Rt("Column index out of bounds","This error should never happen. Please report this bug.");if(i>n-1)return Rt("Row index out of bounds","This error should never happen. Please report this bug.");try{const a=t[o],l=a.indexNumber,s=r.current.getOriginalRowIndex(i),u=r.current.isAddedRow(s);if(a.isEditable||u){const g=r.current.getCell(l,s);if(ot(g))return{...a.getCell(a.getCellValue(g),!1),lastUpdated:g.lastUpdated};if(u)return Rt("Error during cell creation",`This error should never happen. Please report this bug. No cell found for an added row: col=${l}; row=${s}`)}const c=e.getCell(s,l),h=gp(e,s,l);return cw(a,c,h,e.styler?.cssStyles)}catch(a){return Rt("Error during cell creation",`This error should never happen. Please report this bug. 
Error: ${a}`)}},[t,n,e,r])}}function rC(e){const[t,n]=d.useState(void 0),r=d.useCallback(o=>{if(o.kind!=="cell")n(void 0);else{const[,i]=o.location;n(i)}},[n]);return{getRowThemeOverride:d.useCallback(o=>{if(o===t)return{bgCell:e.bgRowHovered,bgCellMedium:e.bgRowHovered}},[e.bgRowHovered,t]),onItemHovered:r}}function oC(e,t,n,r,o){const[i,a]=d.useState({columns:Ze.empty(),rows:Ze.empty(),current:void 0}),l=!t&&!n&&(e.selectionMode.includes(on.SelectionMode.MULTI_ROW)||e.selectionMode.includes(on.SelectionMode.SINGLE_ROW)),s=l&&e.selectionMode.includes(on.SelectionMode.MULTI_ROW),u=!t&&!n&&(e.selectionMode.includes(on.SelectionMode.SINGLE_COLUMN)||e.selectionMode.includes(on.SelectionMode.MULTI_COLUMN)),c=u&&e.selectionMode.includes(on.SelectionMode.MULTI_COLUMN),h=!t&&!n&&(e.selectionMode.includes(on.SelectionMode.SINGLE_CELL)||e.selectionMode.includes(on.SelectionMode.MULTI_CELL)),g=h&&e.selectionMode.includes(on.SelectionMode.MULTI_CELL),f=i.rows.length>0,p=i.columns.length>0,m=i.current!==void 0,y=d.useCallback(v=>{const x=!rl(v.rows.toArray(),i.rows.toArray()),E=!rl(v.columns.toArray(),i.columns.toArray()),O=!rl(v.current,i.current),M=l&&x||u&&E||h&&O;let P=v;if(E&&P.columns.length>=0){let S=P.columns;r.forEach((k,H)=>{k.isIndex&&(S=S.remove(H))}),S.length<P.columns.length&&(P={...P,columns:S})}a(P),M&&o(P,h)},[i,l,u,h,o,r]),w=d.useCallback((v=!1,x=!1)=>{const E={columns:x?i.columns:Ze.empty(),rows:v?i.rows:Ze.empty(),current:void 0};a(E),(!v&&l||!x&&u||h)&&o(E,h)},[i,l,u,h,o]);return{gridSelection:i,isRowSelectionActivated:l,isMultiRowSelectionActivated:s,isColumnSelectionActivated:u,isMultiColumnSelectionActivated:c,isCellSelectionActivated:h,isMultiCellSelectionActivated:g,isRowSelected:f,isColumnSelected:p,isCellSelected:m,clearSelection:w,processSelectionChange:y}}function iC(e,t,n,r,o,i,a,l,s){const u=e.rowHeight??t.defaultRowHeight,c=t.defaultHeaderHeight+u+2*t.tableBorderWidth,h=r?2:1,g=e.editingMode===on.EditingMode.DYNAMIC?1:0,f=n+g;let p=Math.max(f*u+h*t.defaultHeaderHeight+2*t.tableBorderWidth,c),m=Math.min(p,t.defaultTableHeight);const y=hw(e,s);y&&(m=Math.max(y,c),p=Math.max(y,p)),i&&(m=Math.min(m,i),p=Math.min(p,i),y||(m=p));const w=t.minColumnWidth+2*t.tableBorderWidth,v=Math.max(o,w);let x,E=v;const O=Wh(e,l),M=jh(e,l),P=dw(l);O?x=v:M?(x=Math.min(Math.max(M,w),v),E=Math.min(Math.max(M,E),v)):P&&(x=void 0);const[S,k]=d.useState({width:x||"100%",height:m});return d.useLayoutEffect(()=>{O&&S.width==="100%"&&k(H=>({...H,width:v}))},[v]),d.useLayoutEffect(()=>{k(H=>({...H,width:x||"100%"}))},[x]),d.useLayoutEffect(()=>{k(H=>({...H,height:m}))},[m,n]),d.useLayoutEffect(()=>{if(a){const H=O||ot(M)&&M>0;k({width:H?E:"100%",height:p})}else k({width:x||"100%",height:m})},[a]),{minHeight:c,maxHeight:p,minWidth:w,maxWidth:E,rowHeight:u,resizableSize:S,setResizableSize:k}}const aC=600,lC=" Please fill out this cell.";function sC(e,t,n=[]){const[r,o]=d.useState(),i=d.useRef(null),a=d.useCallback(s=>{if(clearTimeout(i.current),i.current=0,o(void 0),(s.kind==="header"||s.kind==="cell")&&s.location){const u=s.location[0],c=s.location[1];let h;if(u<0||u>=e.length||n.includes(c))return;const g=e[u];if(s.kind==="header"&&ot(g))h=g.help;else if(s.kind==="cell"){const f=t([u,c]);To(f)?h=f.errorDetails:g.isRequired&&g.isEditable&&Ms(f)?h=lC:zb(f)&&(h=f.tooltip)}h&&(i.current=setTimeout(()=>{h&&o({content:h,left:s.bounds.x+s.bounds.width/2,top:s.bounds.y})},aC))}},[e,t,o,i,n]),l=d.useCallback(()=>{o(void 0)},[o]);return{tooltip:r,clearTooltip:l,onItemHovered:a}}const If=Jn("div",{target:"e1hnsd047"})(({theme:e})=>({paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}),""),Ir=Jn("div",{target:"e1hnsd046"})(({theme:e,isActive:t,hasSubmenu:n})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",gap:e.spacing.sm,paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,paddingTop:e.spacing.twoXS,paddingBottom:e.spacing.twoXS,cursor:"pointer",backgroundColor:t?e.colors.darkenedBgMix15:void 0,"&:hover":{backgroundColor:e.colors.darkenedBgMix15},minWidth:e.sizes.minMenuWidth,...n&&{justifyContent:"space-between","& > :first-of-type":{display:"flex",alignItems:"center",gap:e.spacing.sm}}}),""),Tf=Jn("div",{target:"e1hnsd045"})(({theme:e})=>({height:e.sizes.borderWidth,backgroundColor:e.colors.borderColor,marginTop:e.spacing.xs,marginBottom:e.spacing.xs}),""),uC=Jn("div",{target:"e1hnsd044"})(({theme:e})=>({display:"flex",alignItems:"center",padding:`${e.spacing.sm} ${e.spacing.sm}`,cursor:"default",gap:e.spacing.twoXS}),""),cC=Jn("div",{target:"e1hnsd043"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing.twoXS,border:`${e.sizes.borderWidth} solid ${e.colors.borderColor}`,borderRadius:e.radii.md,backgroundColor:"transparent",color:e.colors.bodyText,height:"fit-content"}),""),dC=Jn("div",{target:"e1hnsd042"})(({theme:e})=>({display:"flex",alignItems:"center",flexGrow:1,padding:`${e.spacing.threeXS} ${e.spacing.threeXS}`,border:`${e.sizes.borderWidth} solid ${e.colors.borderColor}`,borderRadius:e.radii.md,backgroundColor:e.colors.secondaryBg,minWidth:0,overflow:"hidden"}),""),hC=Jn("span",{target:"e1hnsd041"})(({theme:e})=>({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1,margin:`0 ${e.spacing.xs}`,fontSize:e.fontSizes.twoSm,maxWidth:"4rem"}),""),fC=Jn("button",{target:"e1hnsd040"})(({theme:e})=>({background:"none",border:"none",padding:e.spacing.twoXS,cursor:"pointer",color:e.colors.bodyText,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.radii.md,transition:"background-color 0.2s ease","&:hover":{backgroundColor:e.colors.fadedText05},"&:active":{backgroundColor:e.colors.fadedText10}}),""),od=[{format:"",label:"Automatic",icon:":material/123:"},{format:"localized",label:"Localized",icon:":material/translate:"},{format:"plain",label:"Plain",icon:":material/speed_1_75:"},{format:"compact",label:"Compact",icon:":material/1k:"},{format:"dollar",label:"Dollar",icon:":material/attach_money:"},{format:"euro",label:"Euro",icon:":material/euro:"},{format:"yen",label:"Yen",icon:":material/currency_yen:"},{format:"percent",label:"Percent",icon:":material/percent:"},{format:"scientific",label:"Scientific",icon:":material/experiment:"},{format:"accounting",label:"Accounting",icon:":material/finance_chip:"}],pC={number:od,progress:od,datetime:[{format:"",label:"Automatic",icon:":material/schedule:"},{format:"localized",label:"Localized",icon:":material/translate:"},{format:"distance",label:"Distance",icon:":material/search_activity:"},{format:"calendar",label:"Calendar",icon:":material/today:"}],date:[{format:"",label:"Automatic",icon:":material/schedule:"},{format:"localized",label:"Localized",icon:":material/translate:"},{format:"distance",label:"Distance",icon:":material/search_activity:"}],time:[{format:"",label:"Automatic",icon:":material/schedule:"},{format:"localized",label:"Localized",icon:":material/translate:"}]};function gC({columnKind:e,isOpen:t,onMouseEnter:n,onMouseLeave:r,onChangeFormat:o,onCloseMenu:i,children:a}){const l=Zr(),{colors:s,fontSizes:u,radii:c,fontWeights:h}=l,g=pC[e]||[];return g.length===0?me.jsx(me.Fragment,{}):me.jsx(Oa,{triggerType:dd.hover,returnFocus:!0,autoFocus:!0,focusLock:!0,isOpen:t,onMouseEnter:n,onMouseLeave:r,ignoreBoundary:!0,content:me.jsx(If,{role:"menu",children:g.map(f=>me.jsxs(Ir,{onClick:()=>{o(f.format),i()},role:"menuitem",children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:f.icon}),f.label]},f.format))}),placement:Da.right,showArrow:!1,popoverMargin:2,overrides:{Body:{props:{"data-testid":"stDataFrameColumnFormattingMenu"},style:{borderTopLeftRadius:c.default,borderTopRightRadius:c.default,borderBottomLeftRadius:c.default,borderBottomRightRadius:c.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent",border:`${l.sizes.borderWidth} solid ${l.colors.borderColor}`}},Inner:{style:{backgroundColor:Pa(l)?s.bgColor:s.secondaryBg,color:s.bodyText,fontSize:u.sm,fontWeight:h.normal,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},children:a})}const mC=d.memo(gC);function vC({top:e,left:t,isColumnPinned:n,onPinColumn:r,onUnpinColumn:o,onCloseMenu:i,onSortColumn:a,onHideColumn:l,column:s,onChangeFormat:u,onAutosize:c}){const h=Zr(),[g,f]=d.useState(!1),{colors:p,fontSizes:m,radii:y,fontWeights:w}=h,{isCopied:v,copyToClipboard:x}=Sp();d.useEffect(()=>{function M(P){P.preventDefault()}return document.addEventListener("wheel",M,{passive:!1}),document.addEventListener("touchmove",M,{passive:!1}),()=>{document.removeEventListener("wheel",M),document.removeEventListener("touchmove",M)}},[]);const E=d.useCallback(()=>{i()},[i]),O=d.useCallback(()=>{x(s.title)},[s.title,x]);return me.jsx(Oa,{autoFocus:!0,"aria-label":"Dataframe column menu",content:me.jsxs(If,{children:[me.jsxs(uC,{children:[me.jsx(cC,{title:s.kind,children:me.jsx(Kn,{iconValue:s.typeIcon||":material/notes:",size:"base",color:"inherit"})}),me.jsxs(dC,{title:s.title,children:[me.jsx(hC,{children:s.title}),me.jsx(fC,{onClick:O,title:"Copy column name","aria-label":"Copy column name",children:me.jsx(Kn,{iconValue:v?":material/check:":":material/content_copy:",size:"sm",margin:"0",color:"inherit"})})]})]}),a&&me.jsxs(me.Fragment,{children:[me.jsxs(Ir,{onClick:()=>{a("asc"),E()},role:"menuitem",children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrow_upward:"}),"Sort ascending"]}),me.jsxs(Ir,{onClick:()=>{a("desc"),E()},role:"menuitem",children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrow_downward:"}),"Sort descending"]}),me.jsx(Tf,{})]}),u&&me.jsx(mC,{columnKind:s.kind,isOpen:g,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onChangeFormat:u,onCloseMenu:E,children:me.jsxs(Ir,{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),isActive:g,hasSubmenu:!0,children:[me.jsxs("div",{children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/format_list_numbered:"}),"Format"]}),me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/chevron_right:"})]})}),c&&me.jsxs(Ir,{onClick:()=>{c(),E()},children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/arrows_outward:"}),"Autosize"]}),n&&me.jsxs(Ir,{onClick:()=>{o(),E()},children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/keep_off:"}),"Unpin column"]}),!n&&me.jsxs(Ir,{onClick:()=>{r(),E()},children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/keep:"}),"Pin column"]}),l&&me.jsxs(Ir,{onClick:()=>{l(),E()},children:[me.jsx(Kn,{size:"base",margin:"0",color:"inherit",iconValue:":material/visibility_off:"}),"Hide column"]})]}),placement:Da.bottomRight,accessibilityType:hd.menu,showArrow:!1,popoverMargin:rn("0.375rem"),onClickOutside:g?void 0:E,onEsc:E,overrides:{Body:{props:{"data-testid":"stDataFrameColumnMenu"},style:{paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{border:`${h.sizes.borderWidth} solid ${h.colors.borderColor}`,backgroundColor:Pa(h)?p.bgColor:p.secondaryBg,color:p.bodyText,fontSize:m.sm,fontWeight:w.normal,borderTopLeftRadius:y.default,borderTopRightRadius:y.default,borderBottomLeftRadius:y.default,borderBottomRightRadius:y.default,overflow:"auto",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:!0,children:me.jsx("div",{"data-testid":"stDataFrameColumnMenuTarget",style:{position:"fixed",top:e,left:t,visibility:"hidden",transform:"unset"}})})}const bC=d.memo(vC),wC="(index)";function Ll(e,t){return!t.length||e.isIndex?!1:!t.includes(e.id)&&!t.includes(e.name)}const id=({label:e,initialValue:t,isIndeterminate:n,onChange:r})=>{const o=Zr();return me.jsx(zg,{isIndeterminate:n,checked:t,onChange:i=>{r(i.target.checked)},"aria-label":e,checkmarkType:Ng.default,labelPlacement:$g.right,overrides:{Root:{style:({$isFocusVisible:i})=>({marginBottom:o.spacing.none,marginTop:o.spacing.none,paddingLeft:o.spacing.md,paddingRight:o.spacing.md,paddingTop:o.spacing.twoXS,paddingBottom:o.spacing.twoXS,backgroundColor:i?o.colors.darkenedBgMix25:"",display:"flex",alignItems:"start"})},Checkmark:{style:({$isFocusVisible:i,$checked:a,$isIndeterminate:l})=>{const s=a||l?o.colors.primary:o.colors.fadedText40;return{outline:0,width:o.sizes.checkbox,height:o.sizes.checkbox,marginTop:o.spacing.twoXS,marginLeft:0,marginBottom:0,boxShadow:i&&(a||l)?`0 0 0 0.2rem ${xo(o.colors.primary,.5)}`:"",borderLeftWidth:o.sizes.borderWidth,borderRightWidth:o.sizes.borderWidth,borderTopWidth:o.sizes.borderWidth,borderBottomWidth:o.sizes.borderWidth,borderLeftColor:s,borderRightColor:s,borderTopColor:s,borderBottomColor:s}}},Label:{style:{lineHeight:o.lineHeights.small,paddingLeft:o.spacing.sm,position:"relative",color:o.colors.bodyText,fontSize:o.fontSizes.sm,fontWeight:o.fontWeights.normal}}},children:e})},yC=({columns:e,columnOrder:t,setColumnOrder:n,hideColumn:r,showColumn:o,children:i,isOpen:a,onClose:l})=>{const s=Zr(),u=f=>!(f.isHidden===!0||Ll(f,t)),c=e.every(u),h=e.some(u)&&!c,g=f=>{e.forEach(p=>{const m=Ll(p,t);f?(o(p.id),m&&n(y=>[...y,p.id])):r(p.id)})};return me.jsx(Oa,{triggerType:dd.click,placement:Da.bottomRight,autoFocus:!0,focusLock:!0,content:()=>me.jsxs("div",{style:{paddingTop:s.spacing.sm,paddingBottom:s.spacing.sm,maxHeight:s.sizes.maxDropdownHeight,overflow:"auto"},children:[me.jsx(id,{label:"Select all",isIndeterminate:h,initialValue:c,onChange:f=>{g(f)}}),me.jsx(Tf,{}),me.jsx("div",{children:e.map(f=>{const p=Ll(f,t);return me.jsx(id,{label:!f.title&&f.isIndex?wC:f.title,initialValue:!(f.isHidden===!0||p),onChange:m=>{m?(o(f.id),p&&n(y=>[...y,f.id])):r(f.id)}},f.id)})})]}),isOpen:a,onClickOutside:l,onClick:()=>a?l():void 0,onEsc:l,ignoreBoundary:!1,overrides:{Body:{props:{"data-testid":"stDataFrameColumnVisibilityMenu"},style:{borderTopLeftRadius:s.radii.default,borderTopRightRadius:s.radii.default,borderBottomLeftRadius:s.radii.default,borderBottomRightRadius:s.radii.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent",border:`${s.sizes.borderWidth} solid ${s.colors.borderColor}`}},Inner:{style:{backgroundColor:Pa(s)?s.colors.bgColor:s.colors.secondaryBg,color:s.colors.bodyText,fontSize:s.fontSizes.sm,fontWeight:s.fontWeights.normal,minWidth:s.sizes.minMenuWidth,maxWidth:`calc(${s.sizes.minMenuWidth} * 2)`,maxHeight:s.sizes.maxDropdownHeight,overflow:"auto",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},children:me.jsx("div",{children:i})})},xC=d.memo(yC),ad=Jn("div",{target:"e1w7nams0"})(({theme:e,isInHorizontalLayout:t})=>({position:"relative",display:t?"flex":"inline-block","& .stDataFrameGlideDataEditor":{height:"100%",minWidth:"100%",borderRadius:e.radii.default},"& .dvn-scroller":{overflowX:"auto !important",overflowY:"auto !important"},"& .gdg-search-bar":{maxWidth:"19rem",width:"80%",minWidth:"6rem",top:e.spacing.sm,right:e.spacing.sm,padding:e.spacing.sm,borderRadius:e.radii.default,"& .gdg-search-status":{paddingTop:e.spacing.twoXS,fontSize:e.fontSizes.twoSm},"& .gdg-search-progress":{display:"none"},"& input":{width:"100%"},"& button":{width:e.iconSizes.xl,height:e.iconSizes.xl,"& .button-icon":{width:e.iconSizes.base,height:e.iconSizes.base}}}}),"");function kC({top:e,left:t,content:n,clearTooltip:r}){const[o,i]=d.useState(!0),a=Zr(),{colors:l,fontSizes:s,radii:u,fontWeights:c}=a,h=d.useCallback(()=>{i(!1),r()},[r,i]);return me.jsx(Oa,{content:me.jsx(kp,{"data-testid":"stDataFrameTooltipContent",children:me.jsx(Cp,{style:{fontSize:s.sm},source:n,allowHTML:!1})}),placement:Da.top,accessibilityType:hd.tooltip,showArrow:!1,popoverMargin:5,onClickOutside:h,onEsc:h,overrides:{Body:{style:{borderTopLeftRadius:u.default,borderTopRightRadius:u.default,borderBottomLeftRadius:u.default,borderBottomRightRadius:u.default,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{backgroundColor:Pa(a)?l.bgColor:l.secondaryBg,color:l.bodyText,fontSize:s.sm,fontWeight:c.normal,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:o,children:me.jsx("div",{"data-testid":"stDataFrameTooltipTarget",style:{position:"fixed",top:e,left:t}})})}const CC=d.memo(kC),ld=150,SC=15e4,MC="0.5rem";function RC({element:e,data:t,disabled:n,widgetMgr:r,disableFullscreenMode:o,fragmentId:i,customToolbarActions:a,widthConfig:l,heightConfig:s}){const{expanded:u,expand:c,collapse:h,width:g,height:f}=cu(Hg),{isInHorizontalLayout:p}=cu(up),m=d.useRef(null),y=d.useRef(null),w=d.useRef(null),v=cp(),x=Yk(),{getRowThemeOverride:E,onItemHovered:O}=rC(x),{libConfig:{enforceDownloadInNewTab:M=!1}}=d.useContext(dp),[P,S]=d.useState(!0),[k,H]=d.useState(!1),[I,R]=d.useState(!1),[T,D]=d.useState(!1),[C,Q]=d.useState(),[j,q]=d.useState(!1),ue=d.useCallback(()=>q(ye=>!ye),[]),te=d.useCallback(()=>q(!1),[]),K=d.useMemo(()=>window.matchMedia&&window.matchMedia("(pointer: coarse)").matches,[]);Te(e.editingMode)&&(e.editingMode=on.EditingMode.READ_ONLY);const{READ_ONLY:ge,DYNAMIC:ae}=on.EditingMode,fe=t.dimensions,he=Math.max(0,fe.numDataRows),oe=he===0&&!(e.editingMode===ae&&fe.numDataColumns>0),$=he>SC,A=!$&&!oe&&e.editingMode!==ae,U=!oe&&e.editingMode===ae&&!n,re=d.useRef(new na(he)),[le,Ee]=d.useState(re.current.getNumRows());d.useEffect(()=>{re.current=new na(he),Ee(re.current.getNumRows())},[he]);const we=d.useCallback(()=>{re.current=new na(he),Ee(re.current.getNumRows())},[he]),[at,Ce]=d.useState(e.columnOrder);d.useEffect(()=>{Ce(e.columnOrder)},[e.columnOrder.join(",")]);const{columns:ft,allColumns:vt,setColumnConfigMapping:_e}=gw(e,t,n,at,l);d.useEffect(()=>{if(e.editingMode===ge||!r)return;const ye=r.getStringValue({id:e.id,formId:e.formId});ye&&(re.current.fromJson(ye,ft),Ee(re.current.getNumRows()))},[]);const{getCellContent:ne}=nC(t,ft,le,re),{columns:ie,sortColumn:be,getOriginalIndex:ce,getCellContent:ve}=Mw(he,ft,ne),ze=d.useCallback((ye,At)=>{if(!r)return;const Gt={selection:{rows:[],columns:[],cells:[]}};if(Gt.selection.rows=ye.rows.toArray().map(Bt=>ce(Bt)),Gt.selection.columns=ye.columns.toArray().map(Bt=>Gr(ie[Bt])),At&&ye.current){const{cell:Bt,range:Ut}=ye.current;if(Ut)for(let Pn=Ut.y;Pn<Ut.y+Ut.height;Pn++)for(let Hn=Ut.x;Hn<Ut.x+Ut.width;Hn++)ie[Hn].isIndex||Gt.selection.cells.push([ce(Pn),Gr(ie[Hn])]);else if(Bt){const[Pn,Hn]=Bt;ie[Pn].isIndex||Gt.selection.cells.push([ce(Hn),Gr(ie[Pn])])}}const Vn=JSON.stringify(Gt),Yt=r.getStringValue({id:e.id,formId:e.formId});(Yt===void 0||Yt!==Vn)&&r.setStringValue({id:e.id,formId:e.formId},Vn,{fromUi:!0},i)},[ie,e.id,e.formId,r,i,ce]),{debouncedCallback:$e}=bc(ze,ld),{gridSelection:Qe,isRowSelectionActivated:Se,isMultiRowSelectionActivated:qe,isColumnSelectionActivated:Ie,isMultiColumnSelectionActivated:Me,isCellSelectionActivated:Oe,isMultiCellSelectionActivated:ct,isRowSelected:Je,isColumnSelected:Xe,isCellSelected:yt,clearSelection:gt,processSelectionChange:Tt}=oC(e,oe,n,ie,$e);d.useEffect(()=>{Oe||gt(!0,!0)},[u]);const Ot=d.useCallback(ye=>{y.current?.updateCells(ye)},[]);d.useEffect(()=>{if(!Se&&!Ie&&!Oe||!r)return;const ye=r.getStringValue({id:e.id,formId:e.formId});if(ye){const At=ie.map(Ut=>Gr(Ut)),Gt=JSON.parse(ye);let Vn=Ze.empty(),Yt=Ze.empty(),Bt;if(Gt.selection?.rows?.forEach(Ut=>{Vn=Vn.add(Ut)}),Gt.selection?.columns?.forEach(Ut=>{Yt=Yt.add(At.indexOf(Ut))}),Oe&&!ct){const[Ut,Pn]=Gt.selection?.cells?.[0]??[];Ut!==void 0&&Pn!==void 0&&(Bt=[At.indexOf(Pn),Ut])}if(Vn.length>0||Yt.length>0||Bt!==void 0){const Ut={rows:Vn,columns:Yt,current:Bt?{cell:Bt,range:{x:Bt[0],y:Bt[1],width:1,height:1},rangeStack:[]}:void 0};Tt(Ut)}}},[]);const an=d.useCallback(()=>{le!==re.current.getNumRows()&&Ee(re.current.getNumRows())},[le]),Kt=d.useCallback(()=>{if(!r)return;const ye=re.current.toJson(ie);let At=r.getStringValue({id:e.id,formId:e.formId});At===void 0&&(At=new na(0).toJson([])),ye!==At&&r.setStringValue({id:e.id,formId:e.formId},ye,{fromUi:!0},i)},[ie,e.id,e.formId,r,i]),{debouncedCallback:En}=bc(Kt,ld),{exportToCsv:Mt}=tC(ve,ie,le,M),{onCellEdited:dt,onPaste:In,onRowAppended:mt,onDelete:qt,validateCell:kn}=qk(ie,e.editingMode!==ae,re,ve,ce,Ot,an,En,gt),De=d.useMemo(()=>oe?[0]:U?[le]:[],[oe,U,le]),{tooltip:et,clearTooltip:bt,onItemHovered:Tn}=sC(ie,ve,De),{drawCell:ln,customRenderers:sn}=Gk(ie),{provideEditor:On}=Ew(),Zt=d.useCallback(ye=>({...ye,hasMenu:!oe}),[oe]),Qt=d.useMemo(()=>ie.map(ye=>Zt(ql(ye))),[ie,Zt]),{columns:Ne,onColumnResize:xt}=ww(Qt),Dn=t.dimensions.numHeaderRows>1,{minHeight:Ht,maxHeight:ht,minWidth:Cn,maxWidth:cr,rowHeight:Nn,resizableSize:_,setResizableSize:Ve}=iC(e,x,le,Dn,g||0,f,u,l,s),We=d.useCallback(([ye,At])=>({...$b(!0,!1),displayData:"empty",contentAlign:"center",allowOverlay:!1,themeOverride:{textDark:x.glideTheme.textLight},span:[0,Math.max(ie.length-1,0)]}),[ie,x.glideTheme.textLight]),Dt=d.useCallback(()=>{we(),gt()},[we,gt]);Fg({element:e,widgetMgr:r,onFormCleared:Dt});const{pinColumn:Jt,unpinColumn:dn,freezeColumns:Sn}=vw(ie,oe,g||0,x.minColumnWidth,gt,_e),{changeColumnFormat:bn}=mw(_e),{hideColumn:Vt,showColumn:Mn}=Rw(gt,_e),{onColumnMoved:Rn}=bw(ie,Sn,Jt,dn,Ce);return d.useEffect(()=>{let ye;const At=requestAnimationFrame(()=>{ye=setTimeout(()=>{if(w.current&&y.current){const Gt=w.current?.querySelector(".dvn-stack")?.getBoundingClientRect();Gt&&(R(Gt.height>w.current.clientHeight),D(Gt.width>w.current.clientWidth))}},0)});return()=>{cancelAnimationFrame(At),ye&&clearTimeout(ye)}},[_,le,Ne]),d.useEffect(()=>{vt.length==ie.length&&q(!1)},[vt.length,ie.length]),me.jsxs(ad,{className:"stDataFrame","data-testid":"stDataFrame",ref:w,isInHorizontalLayout:p,onPointerDown:ye=>{if(w.current){const At=w.current.getBoundingClientRect(),Gt=(v||Math.round(rn(MC)))+1;T&&At.height-Gt<ye.clientY-At.top&&ye.stopPropagation(),I&&At.width-Gt<ye.clientX-At.left&&ye.stopPropagation()}},onBlur:ye=>{!P&&!K&&!ye.currentTarget.contains(ye.relatedTarget)&&!Oe&&gt(!0,!0)},children:[me.jsxs(Ag,{isFullScreen:u,disableFullscreenMode:o,locked:Je&&!Se||yt||K&&P||j,onExpand:c,onCollapse:h,target:ad,children:[a?.map(ye=>ye),(Se&&Je||Ie&&Xe||Oe&&yt)&&me.jsx(wo,{label:"Clear selection",icon:_g,onClick:()=>{gt(),bt()}}),U&&Je&&me.jsx(wo,{label:"Delete row(s)",icon:Xg,onClick:()=>{qt&&(qt(Qe),bt())}}),U&&!Je&&me.jsx(wo,{label:"Add row",icon:Cd,onClick:()=>{mt&&(S(!0),mt(),bt(),y.current?.scrollTo(0,le,"vertical"))}}),!oe&&vt.length>ie.length&&me.jsx(xC,{columns:vt,columnOrder:at,setColumnOrder:Ce,hideColumn:Vt,showColumn:Mn,isOpen:j,onClose:te,children:me.jsx(wo,{label:"Show/hide columns",icon:Md,onClick:ue})}),!$&&!oe&&me.jsx(wo,{label:"Download as CSV",icon:Gg,onClick:Mt}),!oe&&me.jsx(wo,{label:"Search",icon:Sd,onClick:()=>{k?H(!1):(S(!0),H(!0)),bt()}})]}),me.jsx(hp,{"data-testid":"stDataFrameResizable",ref:m,defaultSize:_,style:{border:`${x.tableBorderWidth}px solid ${x.glideTheme.borderColor}`,borderRadius:`${x.tableBorderRadius}`},minHeight:Ht,maxHeight:ht,minWidth:Cn,maxWidth:p?void 0:cr,size:_,enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!p,bottomLeft:!1,topLeft:!1},grid:[1,Nn],snapGap:Nn/3,onResizeStop:(ye,At,Gt,Vn)=>{if(m.current){const Yt=2*x.tableBorderWidth;Ve({width:m.current.size.width,height:ht-m.current.size.height===Yt?m.current.size.height+Yt:m.current.size.height})}},children:me.jsx(Ob,{className:"stDataFrameGlideDataEditor","data-testid":"stDataFrameGlideDataEditor",ref:y,columns:Ne,rows:oe?1:le,minColumnWidth:x.minColumnWidth,maxColumnWidth:x.maxColumnWidth,maxColumnAutoWidth:x.maxColumnAutoWidth,rowHeight:Nn,headerHeight:x.defaultHeaderHeight,getCellContent:oe?We:ve,onColumnResize:K?void 0:xt,resizeIndicator:"header",freezeColumns:Sn,smoothScrollX:!0,smoothScrollY:!0,verticalBorder:!0,getCellsForSelection:!0,rowMarkers:"none",rangeSelect:K?"cell":"rect",columnSelect:"none",rowSelect:"none",onColumnMoved:Ie?void 0:Rn,onItemHovered:ye=>{O?.(ye),Tn?.(ye)},keybindings:{downFill:!0,...Oe||$?{selectAll:!1}:{}},onKeyDown:ye=>{(ye.ctrlKey||ye.metaKey)&&ye.key==="f"&&(H(At=>!At),ye.stopPropagation(),ye.preventDefault())},showSearch:k,searchResults:k?void 0:[],onSearchClose:()=>{H(!1),bt()},onHeaderClicked:(ye,At)=>{!A||Ie||(k&&H(!1),Se&&Je?gt():gt(!0,!0),be(ye,"auto"))},gridSelection:Qe,onGridSelectionChange:ye=>{(P||K)&&(Tt(ye),et!==void 0&&bt(),Q(void 0),q(!1))},theme:x.glideTheme,getRowThemeOverride:E,onMouseMove:ye=>{ye.kind==="out-of-bounds"&&P?S(!1):ye.kind!=="out-of-bounds"&&!P&&S(!0)},fixedShadowX:!0,fixedShadowY:!0,experimental:{scrollbarWidthOverride:0,paddingBottom:T?-v:void 0,paddingRight:I?-v:void 0},provideEditor:On,drawCell:ln,customRenderers:sn,imageEditorOverride:Jb,headerIcons:x.headerIcons,validateCell:kn,onHeaderMenuClick:(ye,At)=>{j||Q({columnIdx:ye,headerBounds:At})},onPaste:!1,...Se&&{rowMarkers:{kind:"checkbox-visible",checkboxStyle:"square",theme:{bgCell:x.glideTheme.bgHeader,bgCellMedium:x.glideTheme.bgHeader,textMedium:x.glideTheme.textLight}},rowSelectionMode:qe?"multi":"auto",rowSelect:n?"none":qe?"multi":"single",rowSelectionBlending:"additive",rangeSelectionBlending:"additive"},...Ie&&{columnSelect:n?"none":Me?"multi":"single",columnSelectionBlending:"additive",columnSelectionMode:Me?"multi":"auto",rangeSelectionBlending:"additive"},...Oe&&{rangeSelect:ct?"rect":"cell",rangeSelectionBlending:"additive"},...!oe&&e.editingMode!==ge&&!n&&{fillHandle:!K,onCellEdited:dt,onPaste:In,onDelete:qt},...!oe&&e.editingMode===ae&&{trailingRowOptions:{sticky:!1,tint:!0},rowMarkers:{kind:"checkbox",checkboxStyle:"square",theme:{bgCell:x.glideTheme.bgHeader,bgCellMedium:x.glideTheme.bgHeader}},rowSelectionMode:"multi",rowSelect:n?"none":"multi",onRowAppended:n?void 0:mt,onHeaderClicked:void 0}})}),et?.content&&me.jsx(CC,{top:et.top,left:et.left,content:et.content,clearTooltip:bt}),C&&sd.createPortal(me.jsx(bC,{top:C.headerBounds.y+C.headerBounds.height,left:C.headerBounds.x+C.headerBounds.width,column:ft[C.columnIdx],onCloseMenu:()=>Q(void 0),onSortColumn:A?ye=>{k&&H(!1),gt(!(Se&&Je),!0),be(C.columnIdx,ye,!0)}:void 0,isColumnPinned:ft[C.columnIdx].isPinned,onUnpinColumn:()=>{dn(ft[C.columnIdx].id)},onPinColumn:()=>{Jt(ft[C.columnIdx].id)},onHideColumn:()=>{Vt(ft[C.columnIdx].id)},onChangeFormat:ye=>{bn(ft[C.columnIdx].id,ye),setTimeout(()=>{y.current?.remeasureColumns(Ze.fromSingleSelection(C.columnIdx))},100)},onAutosize:()=>{y.current?.remeasureColumns(Ze.fromSingleSelection(C.columnIdx))}}),document.querySelector("#portal"))]})}const EC=Pg(RC),Of=d.memo(EC),IC=({data:e,height:t,customToolbarActions:n})=>me.jsx(Of,{element:new on({useContainerWidth:!0,editingMode:on.EditingMode.READ_ONLY,disabled:!0,data:void 0,styler:null,width:void 0,height:t??null,id:"",columns:"",formId:"",columnOrder:[],selectionMode:[]}),data:e,widgetMgr:void 0,disabled:!0,fragmentId:void 0,disableFullscreenMode:!0,customToolbarActions:n,widthConfig:new uu.WidthConfig({useStretch:!0}),heightConfig:t?new uu.HeightConfig({pixelHeight:t}):void 0}),VC=Object.freeze(Object.defineProperty({__proto__:null,ReadOnlyGrid:IC,default:Of},Symbol.toStringTag,{value:"Module"}));export{ko as B,Mo as F,ah as H,IC as T,Jg as a,cn as h,VC as i,P0 as s,c1 as z};
