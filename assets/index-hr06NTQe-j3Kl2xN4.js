import{r as s,m as w,j as i,c as f,ae as T,ac as v,bA as o,bB as R,bC as j,a9 as z,x as C}from"./index-B_CN4CJH.js";const B=f("button",{target:"elibz2u2"})(({theme:e})=>({fontSize:e.fontSizes.sm,lineHeight:e.lineHeights.base,color:e.colors.fadedText60,backgroundColor:e.colors.transparent,fontFamily:"inherit",margin:e.spacing.none,border:"none",boxShadow:"none",padding:e.spacing.none,"&:hover, &:active, &:focus":{border:"none",outline:"none",boxShadow:"none"},"&:hover":{color:e.colors.primary}}),""),E=f("div",{target:"elibz2u1"})(({theme:e})=>({display:"flex",flexDirection:"row",gap:e.spacing.lg,"> span":{marginTop:e.spacing.twoXS}}),""),k=f("div",{target:"elibz2u0"})(({theme:e})=>({display:"flex",flexDirection:"column",gap:e.spacing.sm,alignItems:"start",justifyContent:"center",overflow:"hidden",minHeight:"100%",fontSize:e.fontSizes.sm,lineHeight:e.lineHeights.base,div:{display:"inline-flex"}}),"");function H(e){const t=z(e);return{Body:{props:{"data-testid":"stToast",className:"stToast"},style:{display:"flex",flexDirection:"row",gap:e.spacing.md,width:e.sizes.toastWidth,marginTop:e.spacing.sm,borderTopLeftRadius:e.radii.default,borderTopRightRadius:e.radii.default,borderBottomLeftRadius:e.radii.default,borderBottomRightRadius:e.radii.default,paddingTop:e.spacing.lg,paddingBottom:e.spacing.lg,paddingLeft:e.spacing.twoXL,paddingRight:e.spacing.twoXL,backgroundColor:e.colors.bgColor,filter:t?"brightness(0.98)":"brightness(1.2)",color:e.colors.bodyText,boxShadow:t?"0px 4px 16px rgba(0, 0, 0, 0.16)":"0px 4px 16px rgba(0, 0, 0, 0.7)"}},CloseIcon:{style:{color:e.colors.fadedText40,width:e.fontSizes.lg,height:e.fontSizes.lg,marginRight:`calc(-1 * ${e.spacing.lg} / 2)`,":hover":{color:e.colors.bodyText}}}}}function D(e){if(e.length>104){let t=e.replace(/^(.{104}[^\s]*).*/,"$1");return t.length>104&&(t=t.substring(0,104).split(" ").slice(0,-1).join(" ")),t.trim()}return e}function I({element:e}){const{body:t,icon:r,duration:d}=e,n=w(),l=D(t),c=t!==l,[a,b]=s.useState(!c),[m,x]=s.useState(0),h=s.useCallback(()=>{b(!a)},[a]),g=s.useMemo(()=>H(n),[n]),p=s.useMemo(()=>i.jsxs(E,{expanded:a,children:[r&&i.jsx(T,{iconValue:r,size:"xl",testid:"stToastDynamicIcon"}),i.jsxs(k,{children:[i.jsx(v,{source:a?t:l,allowHTML:!1,isToast:!0}),c&&i.jsx(B,{"data-testid":"stToastViewButton",onClick:h,children:a?"view less":"view more"})]})]}),[c,a,t,r,l,h]);s.useEffect(()=>{if(n.inSidebar)return;const S=C(d)?d===0?0:d*1e3:4e3,u=o.info(p,{overrides:{...g},autoHideDuration:S});return x(u),()=>{o.update(u,{overrides:{Body:{style:{display:"none"}}}}),o.clear(u)}},[]),s.useEffect(()=>{o.update(m,{children:p,overrides:{...g}})},[m,p,g]);const y=i.jsx(R,{kind:j.ERROR,body:"Streamlit API Error: `st.toast` cannot be called directly on the sidebar with `st.sidebar.toast`.\n        See our `st.toast` API [docs](https://docs.streamlit.io/develop/api-reference/status/st.toast) for more information."});return i.jsx(i.Fragment,{children:n.inSidebar&&y})}const $=s.memo(I);export{$ as default};
