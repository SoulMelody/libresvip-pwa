import{cC as pt,r as I,m as ht,d9 as gt,j as Z,c as me,cj as mt,ck as vt,cD as bt,cl as yt,c5 as Tt,a4 as kt,V as ze,cV as xt,cM as wt,cz as G,cy as J,da as Se,Q as qe,cW as Ot,cX as Rt}from"./index-BXy9S0ZG.js";import{S as _e}from"./sprintf-D5E86llw-yUkJWEcD-CuWy5xoB.js";import{C as Mt}from"./useBasicWidgetState-D4VeU4xG-MaIlkQ17-BpsZpNll.js";import"./FormClearHelper-DSORW5o1-C9o5k7P7-CT8OSwJM.js";var pe={},H={},he={},oe={},Fe;function Ee(){if(Fe)return oe;Fe=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.Direction=void 0;var e;return(function(n){n.Right="to right",n.Left="to left",n.Down="to bottom",n.Up="to top"})(e||(oe.Direction=e={})),oe}var Ne;function Ke(){return Ne||(Ne=1,(function(e){var n=he&&he.__spreadArray||function(i,o,u){if(u||arguments.length===2)for(var f=0,b=o.length,m;f<b;f++)(m||!(f in o))&&(m||(m=Array.prototype.slice.call(o,0,f)),m[f]=o[f]);return i.concat(m||Array.prototype.slice.call(o))};Object.defineProperty(e,"__esModule",{value:!0}),e.isIOS=e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var r=qe,s=Ee(),g=function(i){var o=i.toString().split(".")[1];return o?o.length:0};e.getStepDecimals=g;function k(i){return i.touches&&i.touches.length||i.changedTouches&&i.changedTouches.length}e.isTouchEvent=k;function l(i,o,u){var f=(o-i)/u,b=8,m=Number(f.toFixed(b));return parseInt(m.toString(),10)===m}e.isStepDivisible=l;function h(i,o,u,f,b,m,T){var E=1e11;if(i=Math.round(i*E)/E,!m){var C=T[o-1],j=T[o+1];if(C&&C>i)return C;if(j&&j<i)return j}if(i>f)return f;if(i<u)return u;var U=Math.floor(i*E-u*E)%Math.floor(b*E),F=Math.floor(i*E-Math.abs(U)),X=U===0?i:F/E,$=Math.abs(U/E)<b/2?X:X+b,A=(0,e.getStepDecimals)(b);return parseFloat($.toFixed(A))}e.normalizeValue=h;function L(i,o,u){return(i-o)/(u-o)}e.relativeValue=L;function z(i){return i===s.Direction.Up||i===s.Direction.Down}e.isVertical=z;function N(i,o,u){if(o>=u)throw new RangeError("min (".concat(o,") is equal/bigger than max (").concat(u,")"));if(i<o)throw new RangeError("value (".concat(i,") is smaller than min (").concat(o,")"));if(i>u)throw new RangeError("value (".concat(i,") is bigger than max (").concat(u,")"))}e.checkBoundaries=N;function M(i,o,u){return i<o?o:i>u?u:i}e.checkValuesAgainstBoundaries=M;function y(i){if(!(i.length<2)&&!i.slice(1).every(function(o,u){return i[u]<=o}))throw new RangeError("values={[".concat(i,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=y;function p(i){var o=window.getComputedStyle(i);return{top:parseInt(o["margin-top"],10),bottom:parseInt(o["margin-bottom"],10),left:parseInt(o["margin-left"],10),right:parseInt(o["margin-right"],10)}}e.getMargin=p;function t(i){var o=window.getComputedStyle(i);return{top:parseInt(o["padding-top"],10)+parseInt(o["border-top-width"],10),bottom:parseInt(o["padding-bottom"],10)+parseInt(o["border-bottom-width"],10),left:parseInt(o["padding-left"],10)+parseInt(o["border-left-width"],10),right:parseInt(o["padding-right"],10)+parseInt(o["border-right-width"],10)}}e.getPaddingAndBorder=t;function a(i,o,u){var f=u?-1:1;i.forEach(function(b,m){return d(b,f*o[m].x,o[m].y)})}e.translateThumbs=a;function c(i,o,u,f){for(var b=0,m=D(i[0],o,u,f),T=1;T<i.length;T++){var E=D(i[T],o,u,f);E<m&&(m=E,b=T)}return b}e.getClosestThumbIndex=c;function d(i,o,u){i.style.transform="translate(".concat(o,"px, ").concat(u,"px)")}e.translate=d;var v=function(i){var o=[],u=null,f=function(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];o=b,!u&&(u=requestAnimationFrame(function(){u=null,i.apply(void 0,o)}))};return f};e.schd=v;function x(i,o,u){var f=i.slice(0);return f[o]=u,f}e.replaceAt=x;function P(i){var o=i.values,u=i.colors,f=i.min,b=i.max,m=i.direction,T=m===void 0?s.Direction.Right:m,E=i.rtl,C=E===void 0?!1:E;C&&T===s.Direction.Right?T=s.Direction.Left:C&&s.Direction.Left&&(T=s.Direction.Right);var j=o.slice(0).sort(function(F,X){return F-X}).map(function(F){return(F-f)/(b-f)*100}),U=j.reduce(function(F,X,$){return"".concat(F,", ").concat(u[$]," ").concat(X,"%, ").concat(u[$+1]," ").concat(X,"%")},"");return"linear-gradient(".concat(T,", ").concat(u[0]," 0%").concat(U,", ").concat(u[u.length-1]," 100%)")}e.getTrackBackground=P;function w(){}e.voidFn=w;function O(i){throw new Error("Didn't expect to get here")}e.assertUnreachable=O;var S=function(i,o,u,f,b){b===void 0&&(b=function(T){return T});var m=Math.ceil(n([i],Array.from(i.children),!0).reduce(function(T,E){var C=Math.ceil(E.getBoundingClientRect().width);if(E.innerText&&E.innerText.includes(u)&&E.childElementCount===0){var j=E.cloneNode(!0);j.innerHTML=b(o.toFixed(f)),j.style.visibility="hidden",document.body.appendChild(j),C=Math.ceil(j.getBoundingClientRect().width),document.body.removeChild(j)}return C>T?C:T},i.getBoundingClientRect().width));return m},B=function(i,o,u,f,b,m,T){T===void 0&&(T=function(j){return j});var E=[],C=function(j){var U=S(u[j],f[j],b,m,T),F=o[j].x;o.forEach(function(X,$){var A=X.x,Q=S(u[$],f[$],b,m,T);j!==$&&(F>=A&&F<=A+Q||F+U>=A&&F+U<=A+Q)&&(E.includes($)||(E.push(j),E.push($),E=n(n([],E,!0),[j,$],!1),C($)))})};return C(i),Array.from(new Set(E.sort()))},R=function(i,o,u,f,b,m){f===void 0&&(f=.1),b===void 0&&(b=" - "),m===void 0&&(m=function($){return $});var T=(0,e.getStepDecimals)(f),E=(0,r.useState)({}),C=E[0],j=E[1],U=(0,r.useState)(m(o[u].toFixed(T))),F=U[0],X=U[1];return(0,r.useEffect)(function(){if(i){var $=i.getThumbs();if($.length<1)return;var A={},Q=i.getOffsets(),ne=B(u,Q,$,o,b,T,m),se=m(o[u].toFixed(T));if(ne.length){var ee=ne.reduce(function(te,ie,de,fe){return te.length?n(n([],te,!0),[Q[fe[de]].x],!1):[Q[fe[de]].x]},[]);if(Math.min.apply(Math,ee)===Q[u].x){var ue=[];ne.forEach(function(te){ue.push(o[te].toFixed(T))}),se=Array.from(new Set(ue.sort(function(te,ie){return parseFloat(te)-parseFloat(ie)}))).map(m).join(b);var ce=Math.min.apply(Math,ee),le=Math.max.apply(Math,ee),Me=$[ne[ee.indexOf(le)]].getBoundingClientRect().width;A.left="".concat(Math.abs(ce-(le+Me))/2,"px"),A.transform="translate(-50%, 0)"}else A.visibility="hidden"}X(se),j(A)}},[i,o]),[F,C]};e.useThumbOverlap=R;function D(i,o,u,f){var b=i.getBoundingClientRect(),m=b.left,T=b.top,E=b.width,C=b.height;return z(f)?Math.abs(u-(T+C/2)):Math.abs(o-(m+E/2))}var _=function(){var i,o=((i=navigator.userAgentData)===null||i===void 0?void 0:i.platform)||navigator.platform;return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(o)||navigator.userAgent.includes("Mac")&&"ontouchend"in document};e.isIOS=_})(he)),he}var Ue;function St(){if(Ue)return H;Ue=1;var e=H&&H.__extends||(function(){var M=function(y,p){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])},M(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");M(y,p);function t(){this.constructor=y}y.prototype=p===null?Object.create(p):(t.prototype=p.prototype,new t)}})(),n=H&&H.__createBinding||(Object.create?function(M,y,p,t){t===void 0&&(t=p);var a=Object.getOwnPropertyDescriptor(y,p);(!a||("get"in a?!y.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return y[p]}}),Object.defineProperty(M,t,a)}:function(M,y,p,t){t===void 0&&(t=p),M[t]=y[p]}),r=H&&H.__setModuleDefault||(Object.create?function(M,y){Object.defineProperty(M,"default",{enumerable:!0,value:y})}:function(M,y){M.default=y}),s=H&&H.__importStar||function(M){if(M&&M.__esModule)return M;var y={};if(M!=null)for(var p in M)p!=="default"&&Object.prototype.hasOwnProperty.call(M,p)&&n(y,M,p);return r(y,M),y},g=H&&H.__spreadArray||function(M,y,p){if(p||arguments.length===2)for(var t=0,a=y.length,c;t<a;t++)(c||!(t in y))&&(c||(c=Array.prototype.slice.call(y,0,t)),c[t]=y[t]);return M.concat(c||Array.prototype.slice.call(y))};Object.defineProperty(H,"__esModule",{value:!0});var k=s(qe),l=Ke(),h=Ee(),L=["ArrowRight","ArrowUp","k","PageUp"],z=["ArrowLeft","ArrowDown","j","PageDown"],N=(function(M){e(y,M);function y(p){var t=M.call(this,p)||this;if(t.trackRef=k.createRef(),t.thumbRefs=[],t.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(t.props.values.length).fill(0).map(function(a,c){return c}),isChanged:!1,markOffsets:[]},t.getOffsets=function(){var a=t.props,c=a.direction,d=a.values,v=a.min,x=a.max,P=t.trackRef.current;if(!P)return console.warn("No track element found."),[];var w=P.getBoundingClientRect(),O=(0,l.getPaddingAndBorder)(P);return t.getThumbs().map(function(S,B){var R={x:0,y:0},D=S.getBoundingClientRect(),_=(0,l.getMargin)(S);switch(c){case h.Direction.Right:return R.x=(_.left+O.left)*-1,R.y=((D.height-w.height)/2+O.top)*-1,R.x+=w.width*(0,l.relativeValue)(d[B],v,x)-D.width/2,R;case h.Direction.Left:return R.x=(_.right+O.right)*-1,R.y=((D.height-w.height)/2+O.top)*-1,R.x+=w.width-w.width*(0,l.relativeValue)(d[B],v,x)-D.width/2,R;case h.Direction.Up:return R.x=((D.width-w.width)/2+_.left+O.left)*-1,R.y=-O.left,R.y+=w.height-w.height*(0,l.relativeValue)(d[B],v,x)-D.height/2,R;case h.Direction.Down:return R.x=((D.width-w.width)/2+_.left+O.left)*-1,R.y=-O.left,R.y+=w.height*(0,l.relativeValue)(d[B],v,x)-D.height/2,R;default:return(0,l.assertUnreachable)(c)}})},t.getThumbs=function(){return t.trackRef&&t.trackRef.current?Array.from(t.trackRef.current.children).filter(function(a){return a.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},t.getTargetIndex=function(a){return t.getThumbs().findIndex(function(c){return c===a.target||c.contains(a.target)})},t.addTouchEvents=function(a){document.addEventListener("touchmove",t.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",t.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",t.schdOnEnd,{passive:!1})},t.addMouseEvents=function(a){document.addEventListener("mousemove",t.schdOnMouseMove),document.addEventListener("mouseup",t.schdOnEnd)},t.onMouseDownTrack=function(a){var c;if(!(a.button!==0||(0,l.isIOS)()))if(a.persist(),a.preventDefault(),t.addMouseEvents(a.nativeEvent),t.props.values.length>1&&t.props.draggableTrack){if(t.thumbRefs.some(function(v){var x;return(x=v.current)===null||x===void 0?void 0:x.contains(a.target)}))return;t.setState({draggedTrackPos:[a.clientX,a.clientY]},function(){return t.onMove(a.clientX,a.clientY)})}else{var d=(0,l.getClosestThumbIndex)(t.thumbRefs.map(function(v){return v.current}),a.clientX,a.clientY,t.props.direction);(c=t.thumbRefs[d].current)===null||c===void 0||c.focus(),t.setState({draggedThumbIndex:d},function(){return t.onMove(a.clientX,a.clientY)})}},t.onResize=function(){(0,l.translateThumbs)(t.getThumbs(),t.getOffsets(),t.props.rtl),t.calculateMarkOffsets()},t.onTouchStartTrack=function(a){var c;if(a.persist(),t.addTouchEvents(a.nativeEvent),t.props.values.length>1&&t.props.draggableTrack){if(t.thumbRefs.some(function(v){var x;return(x=v.current)===null||x===void 0?void 0:x.contains(a.target)}))return;t.setState({draggedTrackPos:[a.touches[0].clientX,a.touches[0].clientY]},function(){return t.onMove(a.touches[0].clientX,a.touches[0].clientY)})}else{var d=(0,l.getClosestThumbIndex)(t.thumbRefs.map(function(v){return v.current}),a.touches[0].clientX,a.touches[0].clientY,t.props.direction);(c=t.thumbRefs[d].current)===null||c===void 0||c.focus(),t.setState({draggedThumbIndex:d},function(){return t.onMove(a.touches[0].clientX,a.touches[0].clientY)})}},t.onMouseOrTouchStart=function(a){if(!t.props.disabled){var c=(0,l.isTouchEvent)(a);if(!(!c&&a.button!==0)){var d=t.getTargetIndex(a);d!==-1&&(c?t.addTouchEvents(a):t.addMouseEvents(a),t.setState({draggedThumbIndex:d,thumbZIndexes:t.state.thumbZIndexes.map(function(v,x){return x===d?Math.max.apply(Math,t.state.thumbZIndexes):v<=t.state.thumbZIndexes[d]?v:v-1})}))}}},t.onMouseMove=function(a){a.preventDefault(),t.onMove(a.clientX,a.clientY)},t.onTouchMove=function(a){a.preventDefault(),t.onMove(a.touches[0].clientX,a.touches[0].clientY)},t.onKeyDown=function(a){var c=t.props,d=c.values,v=c.onChange,x=c.step,P=c.rtl,w=c.direction,O=t.state.isChanged,S=t.getTargetIndex(a.nativeEvent),B=P||w===h.Direction.Left||w===h.Direction.Down?-1:1;S!==-1&&(L.includes(a.key)?(a.preventDefault(),t.setState({draggedThumbIndex:S,isChanged:!0}),v((0,l.replaceAt)(d,S,t.normalizeValue(d[S]+B*(a.key==="PageUp"?x*10:x),S)))):z.includes(a.key)?(a.preventDefault(),t.setState({draggedThumbIndex:S,isChanged:!0}),v((0,l.replaceAt)(d,S,t.normalizeValue(d[S]-B*(a.key==="PageDown"?x*10:x),S)))):a.key==="Tab"?t.setState({draggedThumbIndex:-1},function(){O&&t.fireOnFinalChange()}):O&&t.fireOnFinalChange())},t.onKeyUp=function(a){var c=t.state.isChanged;t.setState({draggedThumbIndex:-1},function(){c&&t.fireOnFinalChange()})},t.onMove=function(a,c){var d=t.state,v=d.draggedThumbIndex,x=d.draggedTrackPos,P=t.props,w=P.direction,O=P.min,S=P.max,B=P.onChange,R=P.values,D=P.step,_=P.rtl;if(v===-1&&x[0]===-1&&x[1]===-1)return null;var i=t.trackRef.current;if(!i)return null;var o=i.getBoundingClientRect(),u=(0,l.isVertical)(w)?o.height:o.width;if(x[0]!==-1&&x[1]!==-1){var f=a-x[0],b=c-x[1],m=0;switch(w){case h.Direction.Right:case h.Direction.Left:m=f/u*(S-O);break;case h.Direction.Down:case h.Direction.Up:m=b/u*(S-O);break;default:(0,l.assertUnreachable)(w)}if(_&&(m*=-1),Math.abs(m)>=D/2){for(var T=0;T<t.thumbRefs.length;T++){if(R[T]===S&&Math.sign(m)===1||R[T]===O&&Math.sign(m)===-1)return;var E=R[T]+m;E>S?m=S-R[T]:E<O&&(m=O-R[T])}for(var C=R.slice(0),T=0;T<t.thumbRefs.length;T++)C=(0,l.replaceAt)(C,T,t.normalizeValue(R[T]+m,T));t.setState({draggedTrackPos:[a,c]}),B(C)}}else{var j=0;switch(w){case h.Direction.Right:j=(a-o.left)/u*(S-O)+O;break;case h.Direction.Left:j=(u-(a-o.left))/u*(S-O)+O;break;case h.Direction.Down:j=(c-o.top)/u*(S-O)+O;break;case h.Direction.Up:j=(u-(c-o.top))/u*(S-O)+O;break;default:(0,l.assertUnreachable)(w)}_&&(j=S+O-j),Math.abs(R[v]-j)>=D/2&&B((0,l.replaceAt)(R,v,t.normalizeValue(j,v)))}},t.normalizeValue=function(a,c){var d=t.props,v=d.min,x=d.max,P=d.step,w=d.allowOverlap,O=d.values;return(0,l.normalizeValue)(a,c,v,x,P,w,O)},t.onEnd=function(a){if(a.preventDefault(),document.removeEventListener("mousemove",t.schdOnMouseMove),document.removeEventListener("touchmove",t.schdOnTouchMove),document.removeEventListener("mouseup",t.schdOnEnd),document.removeEventListener("touchend",t.schdOnEnd),document.removeEventListener("touchcancel",t.schdOnEnd),t.state.draggedThumbIndex===-1&&t.state.draggedTrackPos[0]===-1&&t.state.draggedTrackPos[1]===-1)return null;t.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){t.fireOnFinalChange()})},t.fireOnFinalChange=function(){t.setState({isChanged:!1});var a=t.props,c=a.onFinalChange,d=a.values;c&&c(d)},t.updateMarkRefs=function(a){if(!a.renderMark){t.numOfMarks=void 0,t.markRefs=void 0;return}t.numOfMarks=(a.max-a.min)/t.props.step,t.markRefs=[];for(var c=0;c<t.numOfMarks+1;c++)t.markRefs[c]=k.createRef()},t.calculateMarkOffsets=function(){if(!(!t.props.renderMark||!t.trackRef||!t.numOfMarks||!t.markRefs||t.trackRef.current===null)){for(var a=window.getComputedStyle(t.trackRef.current),c=parseInt(a.width,10),d=parseInt(a.height,10),v=parseInt(a.paddingLeft,10),x=parseInt(a.paddingTop,10),P=[],w=0;w<t.numOfMarks+1;w++){var O=9999,S=9999;if(t.markRefs[w].current){var B=t.markRefs[w].current.getBoundingClientRect();O=B.height,S=B.width}t.props.direction===h.Direction.Left||t.props.direction===h.Direction.Right?P.push([Math.round(c/t.numOfMarks*w+v-S/2),-Math.round((O-d)/2)]):P.push([Math.round(d/t.numOfMarks*w+x-O/2),-Math.round((S-c)/2)])}t.setState({markOffsets:P})}},p.step===0)throw new Error('"step" property should be a positive number');return t.schdOnMouseMove=(0,l.schd)(t.onMouseMove),t.schdOnTouchMove=(0,l.schd)(t.onTouchMove),t.schdOnEnd=(0,l.schd)(t.onEnd),t.thumbRefs=p.values.map(function(){return k.createRef()}),t.updateMarkRefs(p),t}return y.prototype.componentDidMount=function(){var p=this,t=this.props,a=t.values,c=t.min,d=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",p.onResize)},unobserve:function(){return window.removeEventListener("resize",p.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,l.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(v){return(0,l.checkBoundaries)(v,p.props.min,p.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),a.forEach(function(v){(0,l.isStepDivisible)(c,v,d)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},y.prototype.componentDidUpdate=function(p,t){var a=this.props,c=a.max,d=a.min,v=a.step,x=a.values,P=a.rtl;(p.max!==c||p.min!==d||p.step!==v)&&this.updateMarkRefs(this.props),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),P),(p.max!==c||p.min!==d||p.step!==v||t.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),x.forEach(function(w){(0,l.isStepDivisible)(d,w,v)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},y.prototype.componentWillUnmount=function(){var p={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,p),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},y.prototype.render=function(){var p=this,t=this.props,a=t.label,c=t.labelledBy,d=t.renderTrack,v=t.renderThumb,x=t.renderMark,P=x===void 0?function(){return null}:x,w=t.values,O=t.min,S=t.max,B=t.allowOverlap,R=t.disabled,D=this.state,_=D.draggedThumbIndex,i=D.thumbZIndexes,o=D.markOffsets;return d({props:{style:{transform:"scale(1)",cursor:_>-1?"grabbing":this.props.draggableTrack?(0,l.isVertical)(this.props.direction)?"ns-resize":"ew-resize":w.length===1&&!R?"pointer":"inherit"},onMouseDown:R?l.voidFn:this.onMouseDownTrack,onTouchStart:R?l.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:R,children:g(g([],o.map(function(u,f,b){return P({props:{style:p.props.direction===h.Direction.Left||p.props.direction===h.Direction.Right?{position:"absolute",left:"".concat(u[0],"px"),marginTop:"".concat(u[1],"px")}:{position:"absolute",top:"".concat(u[0],"px"),marginLeft:"".concat(u[1],"px")},key:"mark".concat(f),ref:p.markRefs[f]},index:f})}),!0),w.map(function(u,f){var b=p.state.draggedThumbIndex===f;return v({index:f,value:u,isDragged:b,props:{style:{position:"absolute",zIndex:i[f],cursor:R?"inherit":b?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:f,tabIndex:R?void 0:0,"aria-valuemax":B?S:w[f+1]||S,"aria-valuemin":B?O:w[f-1]||O,"aria-valuenow":u,draggable:!1,ref:p.thumbRefs[f],"aria-label":a,"aria-labelledby":c,role:"slider",onKeyDown:R?l.voidFn:p.onKeyDown,onKeyUp:R?l.voidFn:p.onKeyUp}})}),!0)})},y.defaultProps={label:"Accessibility label",labelledBy:null,step:1,direction:h.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},y})(k.Component);return H.default=N,H}var He;function Dt(){return He||(He=1,(function(e){var n=pe&&pe.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var r=n(St());e.Range=r.default;var s=Ke();Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return s.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return s.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return s.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return s.checkValuesAgainstBoundaries}});var g=Ee();Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return g.Direction}})})(pe)),pe}var Ze=Dt();function Xe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),r.push.apply(r,s)}return r}function ge(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Xe(Object(r),!0).forEach(function(s){Et(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Et(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var ve=J("div",{position:"relative",width:"100%"});ve.displayName="Root";ve.displayName="Root";ve.displayName="StyledRoot";var be=J("div",function(e){var n=e.$theme,r=e.$value,s=r===void 0?[]:r,g=e.$disabled,k=e.$isDragged,l=n.sizing,h="inherit";return g?h="not-allowed":k?h="grabbing":s.length===1&&(h="pointer"),{paddingTop:l.scale600,paddingBottom:l.scale600,paddingRight:l.scale600,paddingLeft:l.scale600,display:"flex",cursor:h,backgroundColor:n.colors.sliderTrackFill}});be.displayName="Track";be.displayName="Track";be.displayName="StyledTrack";var ye=J("div",function(e){var n=e.$theme,r=e.$value,s=r===void 0?[]:r,g=e.$min,k=e.$max,l=e.$disabled,h=n.colors,L=n.borders,z=n.direction,N=n.borders.useRoundedCorners?L.radius100:0;return{borderTopLeftRadius:N,borderTopRightRadius:N,borderBottomRightRadius:N,borderBottomLeftRadius:N,background:Ze.getTrackBackground({values:s,colors:s.length===1?[l?h.borderOpaque:h.primary,l?h.backgroundSecondary:h.borderOpaque]:[l?h.backgroundSecondary:h.borderOpaque,l?h.borderOpaque:h.primary,l?h.backgroundSecondary:h.borderOpaque],min:g||0,max:k||0,rtl:z==="rtl"}),height:"2px",width:"100%",alignSelf:"center",cursor:l?"not-allowed":"inherit"}});ye.displayName="InnerTrack";ye.displayName="InnerTrack";ye.displayName="StyledInnerTrack";var Te=J("div",function(e){return{width:"4px",height:"2px",backgroundColor:e.$theme.colors.backgroundPrimary,marginLeft:"16px"}});Te.displayName="Mark";Te.displayName="Mark";Te.displayName="StyledMark";var ke=J("div",function(e){return ge(ge({},e.$theme.typography.font200),{},{color:e.$theme.colors.contentPrimary})});ke.displayName="Tick";ke.displayName="Tick";ke.displayName="StyledTick";var xe=J("div",function(e){var n=e.$theme,r=n.sizing;return{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:r.scale600,paddingLeft:r.scale600,paddingBottom:r.scale400}});xe.displayName="TickBar";xe.displayName="TickBar";xe.displayName="StyledTickBar";var we=J("div",function(e){var n=e.$theme,r=e.$value,s=r===void 0?[]:r,g=e.$thumbIndex,k=e.$disabled,l=s.length===2&&g===0,h=s.length===2&&g===1;return n.direction==="rtl"&&(h||l)&&(l=!l,h=!h),{height:"24px",width:"24px",borderTopLeftRadius:"24px",borderTopRightRadius:"24px",borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:k?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleFill,outline:"none",boxShadow:e.$isFocusVisible?"0 0 0 3px ".concat(n.colors.accent):"0 1px 4px rgba(0, 0, 0, 0.12)",cursor:k?"not-allowed":"inherit"}});we.displayName="Thumb";we.displayName="Thumb";we.displayName="StyledThumb";var Oe=J("div",function(e){var n=e.$disabled,r=e.$theme;return{position:"absolute",top:"-16px",width:"4px",height:"20px",backgroundColor:n?r.colors.sliderHandleFillDisabled:r.colors.sliderHandleInnerFill}});Oe.displayName="InnerThumb";Oe.displayName="InnerThumb";Oe.displayName="StyledInnerThumb";var Re=J("div",function(e){var n=e.$disabled,r=e.$theme;return ge(ge({position:"absolute",top:"-".concat(r.sizing.scale1400)},r.typography.font200),{},{backgroundColor:n?r.colors.sliderHandleFillDisabled:r.colors.sliderHandleInnerFill,color:r.colors.contentInversePrimary,paddingLeft:r.sizing.scale600,paddingRight:r.sizing.scale600,paddingTop:r.sizing.scale500,paddingBottom:r.sizing.scale500,borderBottomLeftRadius:"48px",borderBottomRightRadius:"48px",borderTopLeftRadius:"48px",borderTopRightRadius:"48px",whiteSpace:"nowrap"})});Re.displayName="ThumbValue";Re.displayName="ThumbValue";Re.displayName="StyledThumbValue";function We(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),r.push.apply(r,s)}return r}function It(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?We(Object(r),!0).forEach(function(s){jt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jt(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},q.apply(this,arguments)}function Y(e,n){return $t(e)||Bt(e,n)||Ct(e,n)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ct(e,n){if(e){if(typeof e=="string")return Ye(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(e,n)}}function Ye(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=e[r];return s}function Bt(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s=[],g=!0,k=!1,l,h;try{for(r=r.call(e);!(g=(l=r.next()).done)&&(s.push(l.value),!(n&&s.length===n));g=!0);}catch(L){k=!0,h=L}finally{try{!g&&r.return!=null&&r.return()}finally{if(k)throw h}}return s}}function $t(e){if(Array.isArray(e))return e}var At=function(e){if(e.length>2||e.length===0)throw new Error("the value prop represents positions of thumbs, so its length can be only one or two");return e};function Vt(e){var n=e.overrides,r=n===void 0?{}:n,s=e.disabled,g=s===void 0?!1:s,k=e.marks,l=k===void 0?!1:k,h=e.onChange,L=h===void 0?function(){}:h,z=e.onFinalChange,N=z===void 0?function(){}:z,M=e.min,y=M===void 0?0:M,p=e.max,t=p===void 0?100:p,a=e.step,c=a===void 0?1:a,d=e.persistentThumb,v=d===void 0?!1:d,x=e.valueToLabel,P=x===void 0?function(V){return V}:x,w=e.value,O=I.useContext(xt),S=I.useState(!1),B=Y(S,2),R=B[0],D=B[1],_=I.useState(!1),i=Y(_,2),o=i[0],u=i[1],f=I.useState(!1),b=Y(f,2),m=b[0],T=b[1],E=I.useState(-1),C=Y(E,2),j=C[0],U=C[1],F=I.useCallback(function(V){wt(V)&&T(!0);var K=V.target.parentNode.firstChild===V.target?0:1;U(K)},[]),X=I.useCallback(function(V){m!==!1&&T(!1),U(-1)},[]),$=At(w),A={$disabled:g,$step:c,$min:y,$max:t,$marks:l,$value:$,$isFocusVisible:m},Q=G(r.Root,ve),ne=Y(Q,2),se=ne[0],ee=ne[1],ue=G(r.Track,be),ce=Y(ue,2),le=ce[0],Me=ce[1],te=G(r.InnerTrack,ye),ie=Y(te,2),de=ie[0],fe=ie[1],Qe=G(r.Thumb,we),Ie=Y(Qe,2),Ge=Ie[0],Je=Ie[1],et=G(r.InnerThumb,Oe),je=Y(et,2),tt=je[0],nt=je[1],rt=G(r.ThumbValue,Re),Pe=Y(rt,2),at=Pe[0],it=Pe[1],ot=G(r.Tick,ke),Ce=Y(ot,2),Be=Ce[0],$e=Ce[1],st=G(r.TickBar,xe),Ae=Y(st,2),ut=Ae[0],ct=Ae[1],lt=G(r.Mark,Te),Ve=Y(lt,2),dt=Ve[0],ft=Ve[1];return I.createElement(se,q({"data-baseweb":"slider"},A,ee,{onFocus:Rt(ee,F),onBlur:Ot(ee,X)}),I.createElement(Ze.Range,q({step:c,min:y,max:t,values:$,disabled:g,onChange:function(V){return L({value:V})},onFinalChange:function(V){return N({value:V})},rtl:O.direction==="rtl",renderTrack:function(V){var K=V.props,W=V.children,re=V.isDragged;return I.createElement(le,q({onMouseDown:K.onMouseDown,onTouchStart:K.onTouchStart,$isDragged:re},A,Me),I.createElement(de,q({$isDragged:re,ref:K.ref},A,fe),W))},renderThumb:function(V){var K=V.props,W=V.index,re=V.isDragged,Le=v||(!!W&&o||!W&&R||re)&&!g;return I.createElement(Ge,q({},K,{onMouseEnter:function(){W===0?D(!0):u(!0)},onMouseLeave:function(){W===0?D(!1):u(!1)},$thumbIndex:W,$isDragged:re,style:It({},K.style)},A,Je,{$isFocusVisible:m&&j===W}),Le&&I.createElement(at,q({$thumbIndex:W,$isDragged:re},A,it),P($[W])),Le&&I.createElement(tt,q({$thumbIndex:W,$isDragged:re},A,nt)))}},l?{renderMark:function(V){var K=V.props,W=V.index;return I.createElement(dt,q({$markIndex:W},K,A,ft))}}:{})),I.createElement(ut,q({},A,ct),I.createElement(Be,q({},A,$e),P(y)),I.createElement(Be,q({},A,$e),P(t))))}const Lt=me("div",{target:"ew7r33m3"})({name:"bjn8wh",styles:"position:relative"}),zt=me("div",{target:"ew7r33m2"})(({disabled:e,theme:n,isDragged:r})=>({alignItems:"center",backgroundColor:e?n.colors.gray60:n.colors.primary,borderTopLeftRadius:"100%",borderTopRightRadius:"100%",borderBottomLeftRadius:"100%",borderBottomRightRadius:"100%",borderTopStyle:"none",borderBottomStyle:"none",borderRightStyle:"none",borderLeftStyle:"none",display:"flex",justifyContent:"center",height:n.sizes.sliderThumb,width:n.sizes.sliderThumb,boxShadow:r?`0 0 0 0.2rem ${ze(n.colors.primary,.5)}`:"none",":focus":{outline:"none"},":focus-visible":{boxShadow:`0 0 0 0.2rem ${ze(n.colors.primary,.5)}`}}),""),_t=me("div",{target:"ew7r33m1"})(({disabled:e,theme:n})=>({fontFamily:n.genericFonts.bodyFont,fontSize:n.fontSizes.sm,color:e?n.colors.gray60:n.colors.primary,top:"-1.6em",position:"absolute",whiteSpace:"nowrap",backgroundColor:n.colors.transparent,lineHeight:n.lineHeights.base,fontWeight:n.fontWeights.normal,pointerEvents:"none"}),""),Ft=me("div",{target:"ew7r33m0"})(({theme:e,isHovered:n,isDisabled:r})=>({position:"absolute",left:0,right:0,top:"100%",display:"flex",justifyContent:"space-between",pointerEvents:"none",marginTop:`-${e.spacing.md}`,fontSize:e.fontSizes.sm,lineHeight:e.lineHeights.base,fontWeight:e.fontWeights.normal,color:r?e.colors.fadedText40:e.colors.fadedText60,opacity:n?1:0,transition:"opacity 70ms ease-in-out"}),"");function Nt({minLabel:e,maxLabel:n,isHovered:r,isDisabled:s}){return Z.jsxs(Ft,{"data-testid":"stSliderTickBar",isHovered:r,isDisabled:s,children:[Z.jsx("span",{children:e}),Z.jsx("span",{children:n})]})}function Ut({disabled:e,element:n,widgetMgr:r,fragmentId:s}){const[g,k]=Mt({getStateFromWidgetMgr:Ht,getDefaultStateFromProto:Xt,getCurrStateFromProto:Wt,updateWidgetMgrState:Yt,element:n,widgetMgr:r,fragmentId:s}),[l,h]=I.useState(g),[L,z]=I.useState(!1),[N,M]=I.useState(!1),y=I.useCallback(()=>z(!0),[]),p=I.useCallback(()=>z(!1),[]),t=I.useRef(null),[a]=I.useState([]),[c]=I.useState([]),d=ht(),v=l.map(D=>De(D,n)),x=De(n.min,n),P=De(n.max,n),w=n.label;I.useEffect(()=>{h(g)},[g]);const O=I.useCallback(({value:D})=>{k({value:D,fromUi:!0}),M(!1)},[k]),S=I.useCallback(({value:D})=>{h(D),M(!0)},[]),B=I.useCallback(I.forwardRef(function(D,_){const{$thumbIndex:i}=D,o=i||0;a[o]=_,c[o]||=I.createRef();const u=gt(D,["role","style","aria-valuemax","aria-valuemin","aria-valuenow","tabIndex","onKeyUp","onKeyDown","onMouseEnter","onMouseLeave","draggable"]),f=v[o];return Z.jsx(zt,{...u,disabled:D.$disabled===!0,isDragged:D.$isDragged===!0,ref:a[o],"aria-valuetext":f,"aria-label":w,children:Z.jsx(_t,{"data-testid":"stSliderThumbValue",disabled:D.$disabled===!0,ref:c[o],children:f})})}),[]);I.useEffect(()=>{c.map((f,b)=>{f.current&&(f.current.innerText=v[b])}),a.map((f,b)=>{f.current&&f.current.setAttribute("aria-valuetext",v[b])});const D=t.current??null,_=a[0].current,i=a[1]?.current,o=c[0].current,u=c[1]?.current;Zt(D,_,i,o,u)});const R=I.useCallback(({$disabled:D})=>({height:d.spacing.twoXS,...D?{background:d.colors.darkenedBgMix25}:{}}),[d.colors.darkenedBgMix25,d.spacing.twoXS]);return Z.jsxs(Lt,{ref:t,className:"stSlider","data-testid":"stSlider",onMouseEnter:y,onMouseLeave:p,children:[Z.jsx(mt,{label:n.label,disabled:e,labelVisibility:vt(n.labelVisibility?.value),children:n.help&&Z.jsx(bt,{children:Z.jsx(yt,{content:n.help,placement:Tt.TOP_RIGHT})})}),Z.jsx(Vt,{min:n.min,max:n.max,step:n.step,value:Kt(l,n),onChange:S,onFinalChange:O,disabled:e,overrides:{Thumb:B,Track:{style:{backgroundColor:"none !important",paddingLeft:d.spacing.none,paddingRight:d.spacing.none,paddingTop:`calc((${d.sizes.minElementHeight} - ${d.spacing.twoXS}) / 2)`,paddingBottom:`calc((${d.sizes.minElementHeight} - ${d.spacing.twoXS}) / 2)`}},InnerTrack:{style:R},TickBar:{component:Nt,props:{minLabel:x,maxLabel:P,isHovered:L||N,isDisabled:e}}}})]})}function Ht(e,n){return e.getDoubleArrayValue(n)}function Xt(e){return e.default}function Wt(e){return e.value}function Yt(e,n,r,s){n.setDoubleArrayValue(e,r.value,{fromUi:r.fromUi},s)}function qt(e){const{dataType:n}=e;return n===Se.DataType.DATETIME||n===Se.DataType.DATE||n===Se.DataType.TIME}function De(e,n){const{format:r,options:s}=n;return qt(n)?kt.utc(e/1e3).format(r):s.length>0?_e.sprintf(r,s[e]):_e.sprintf(r,e)}function Kt(e,n){const{min:r,max:s}=n;let g=e[0],k=e.length>1?e[1]:e[0];return g>k&&(g=k),g<r&&(g=r),g>s&&(g=s),k<r&&(k=r),k>s&&(k=s),e.length>1?[g,k]:[g]}function Zt(e,n,r,s,g){!e||!n||!s||(ae(e,n,s),r&&g&&(ae(e,r,g),Qt(e,n,r,s,g)))}function ae(e,n,r){const s=e.getBoundingClientRect(),g=n.getBoundingClientRect(),k=r.getBoundingClientRect(),l=g.left+g.width/2,h=l-k.width/2<s.left,L=l+k.width/2>s.right;r.style.left=h?"0":"",r.style.right=L?"0":""}function Qt(e,n,r,s,g){const k=e.getBoundingClientRect(),l=n.getBoundingClientRect(),h=r.getBoundingClientRect(),L=s.getBoundingClientRect(),z=g.getBoundingClientRect(),N=k.left+k.width/2,M=l.left+l.width/2,y=h.left+h.width/2,p=M-L.width/2>=k.left,t=y+z.width/2<=k.right,a=l.left-L.width>=k.left,c=h.right+z.width<=k.right,d=p?L.width/2:L.width,v=t?z.width/2:z.width,x=M+d;if(y-v-x>24){ae(e,n,s),ae(e,r,g);return}if(a&&c){s.style.left="",s.style.right=`${Math.round(l.width)}px`,g.style.left=`${Math.round(h.width)}px`,g.style.right="";return}M<N?(ae(e,n,s),g.style.left=`${Math.round(M+d+24-y)}px`,g.style.right=""):(ae(e,r,g),s.style.left="",s.style.right=`${-Math.round(y-v-24-M)}px`)}const nn=pt(I.memo(Ut));export{nn as default};
