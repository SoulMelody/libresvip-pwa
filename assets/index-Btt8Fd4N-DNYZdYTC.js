import{r as j,bD as I,aU as C,j as t,c as u,a as E,a9 as y,l as M}from"./index-DszHqU8b.js";import{v as S,m as v}from"./withFullScreenWrapper-C6OFHNq5-DvM6r-nE.js";import{H as x,k as L}from"./Toolbar-KmsdFNjA-BofM4H6o.js";const R=u("div",{target:"e115fcil2"})(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:e.spacing.lg,maxWidth:"100%",width:"fit-content"}),""),H=u("div",{target:"e115fcil1"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"stretch",width:"auto",flexGrow:0,">img":{borderRadius:e.radii.default}}),""),W=u("div",{target:"e115fcil0"})(({theme:e})=>({textAlign:"center",marginTop:e.spacing.xs,wordWrap:"break-word",padding:e.spacing.threeXS}),""),F=M.getLogger("ImageList"),T=({itemKey:e,image:r,imgStyle:n,buildMediaURL:d,handleImageError:a})=>{const c=E(r.url);return t.jsxs(H,{"data-testid":"stImageContainer",children:[t.jsx("img",{style:n,src:d(r.url),alt:e,onError:a,crossOrigin:c}),r.caption&&t.jsx(W,{"data-testid":"stImageCaption",style:n,children:t.jsx(y,{source:r.caption,allowHTML:!1,isCaption:!0,isLabel:!0})})]})};function U({element:e,endpoints:r,disableFullscreenMode:n}){const d=I(e.imgs),{expanded:a,width:c,height:g,expand:h,collapse:f}=C(v),p=c||0;let l;const s=e.width;if([-1,-3,-4].includes(s))l=void 0;else if([-2,-5].includes(s))l=p;else if(s>0)l=s;else throw Error(`Invalid image width: ${s}`);const i={};g&&a?(i.maxHeight=g,i.objectFit="contain",i.width="100%"):(i.width=l??"100%",i.maxWidth="100%");const w=m=>{const o=m.currentTarget.src;F.error(`Client Error: Image source error - ${o}`),r.sendClientErrorToHost("Image","Image source failed to load","onerror triggered",o)};return t.jsxs(x,{width:p,height:g,useContainerWidth:a,topCentered:!0,children:[t.jsx(L,{target:x,isFullScreen:a,onExpand:h,onCollapse:f,disableFullscreenMode:n}),t.jsx(R,{className:"stImage","data-testid":"stImage",children:d.map((m,o)=>t.jsx(T,{itemKey:o.toString(),image:m,imgStyle:i,buildMediaURL:b=>r.buildMediaURL(b),handleImageError:w},o))})]})}const $=S(U),G=j.memo($);export{G as default};
