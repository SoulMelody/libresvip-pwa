import{cE as ht,r as E,m as pt,db as gt,j as Z,c as me,cl as mt,cm as bt,cF as vt,cn as yt,c7 as wt,a4 as kt,V as ze,cY as xt,cO as Tt,cB as J,cA as Q,dc as Se,aS as Ke,cZ as Ot,c_ as Mt}from"./index-B_CN4CJH.js";import{_ as Ae}from"./sprintf-D5E86llw-6tzWM3a-.js";import{W as Rt}from"./useBasicWidgetState-DTudxgQh-C_dMYmMi.js";import"./FormClearHelper-D8MdXVn3-NTpCcfAz.js";var he={},H={},pe={},ie={},_e;function Ie(){if(_e)return ie;_e=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.Direction=void 0;var e;return(function(r){r.Right="to right",r.Left="to left",r.Down="to bottom",r.Up="to top"})(e||(ie.Direction=e={})),ie}var Ue;function Ye(){return Ue||(Ue=1,(function(e){var r=pe&&pe.__spreadArray||function(o,i,u){if(u||arguments.length===2)for(var f=0,v=i.length,m;f<v;f++)(m||!(f in i))&&(m||(m=Array.prototype.slice.call(i,0,f)),m[f]=i[f]);return o.concat(m||Array.prototype.slice.call(i))};Object.defineProperty(e,"__esModule",{value:!0}),e.isIOS=e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var n=Ke(),s=Ie(),g=function(o){var i=o.toString().split(".")[1];return i?i.length:0};e.getStepDecimals=g;function k(o){return o.touches&&o.touches.length||o.changedTouches&&o.changedTouches.length}e.isTouchEvent=k;function c(o,i,u){var f=(i-o)/u,v=8,m=Number(f.toFixed(v));return parseInt(m.toString(),10)===m}e.isStepDivisible=c;function p(o,i,u,f,v,m,w){var I=1e11;if(o=Math.round(o*I)/I,!m){var $=w[i-1],j=w[i+1];if($&&$>o)return $;if(j&&j<o)return j}if(o>f)return f;if(o<u)return u;var N=Math.floor(o*I-u*I)%Math.floor(v*I),_=Math.floor(o*I-Math.abs(N)),X=N===0?o:_/I,C=Math.abs(N/I)<v/2?X:X+v,L=(0,e.getStepDecimals)(v);return parseFloat(C.toFixed(L))}e.normalizeValue=p;function V(o,i,u){return(o-i)/(u-i)}e.relativeValue=V;function z(o){return o===s.Direction.Up||o===s.Direction.Down}e.isVertical=z;function U(o,i,u){if(i>=u)throw new RangeError("min (".concat(i,") is equal/bigger than max (").concat(u,")"));if(o<i)throw new RangeError("value (".concat(o,") is smaller than min (").concat(i,")"));if(o>u)throw new RangeError("value (".concat(o,") is bigger than max (").concat(u,")"))}e.checkBoundaries=U;function R(o,i,u){return o<i?i:o>u?u:o}e.checkValuesAgainstBoundaries=R;function y(o){if(!(o.length<2)&&!o.slice(1).every(function(i,u){return o[u]<=i}))throw new RangeError("values={[".concat(o,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=y;function h(o){var i=window.getComputedStyle(o);return{top:parseInt(i["margin-top"],10),bottom:parseInt(i["margin-bottom"],10),left:parseInt(i["margin-left"],10),right:parseInt(i["margin-right"],10)}}e.getMargin=h;function t(o){var i=window.getComputedStyle(o);return{top:parseInt(i["padding-top"],10)+parseInt(i["border-top-width"],10),bottom:parseInt(i["padding-bottom"],10)+parseInt(i["border-bottom-width"],10),left:parseInt(i["padding-left"],10)+parseInt(i["border-left-width"],10),right:parseInt(i["padding-right"],10)+parseInt(i["border-right-width"],10)}}e.getPaddingAndBorder=t;function a(o,i,u){var f=u?-1:1;o.forEach(function(v,m){return d(v,f*i[m].x,i[m].y)})}e.translateThumbs=a;function l(o,i,u,f){for(var v=0,m=D(o[0],i,u,f),w=1;w<o.length;w++){var I=D(o[w],i,u,f);I<m&&(m=I,v=w)}return v}e.getClosestThumbIndex=l;function d(o,i,u){o.style.transform="translate(".concat(i,"px, ").concat(u,"px)")}e.translate=d;var b=function(o){var i=[],u=null,f=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];i=v,!u&&(u=requestAnimationFrame(function(){u=null,o.apply(void 0,i)}))};return f};e.schd=b;function x(o,i,u){var f=o.slice(0);return f[i]=u,f}e.replaceAt=x;function P(o){var i=o.values,u=o.colors,f=o.min,v=o.max,m=o.direction,w=m===void 0?s.Direction.Right:m,I=o.rtl,$=I===void 0?!1:I;$&&w===s.Direction.Right?w=s.Direction.Left:$&&s.Direction.Left&&(w=s.Direction.Right);var j=i.slice(0).sort(function(_,X){return _-X}).map(function(_){return(_-f)/(v-f)*100}),N=j.reduce(function(_,X,C){return"".concat(_,", ").concat(u[C]," ").concat(X,"%, ").concat(u[C+1]," ").concat(X,"%")},"");return"linear-gradient(".concat(w,", ").concat(u[0]," 0%").concat(N,", ").concat(u[u.length-1]," 100%)")}e.getTrackBackground=P;function T(){}e.voidFn=T;function O(o){throw new Error("Didn't expect to get here")}e.assertUnreachable=O;var S=function(o,i,u,f,v){v===void 0&&(v=function(w){return w});var m=Math.ceil(r([o],Array.from(o.children),!0).reduce(function(w,I){var $=Math.ceil(I.getBoundingClientRect().width);if(I.innerText&&I.innerText.includes(u)&&I.childElementCount===0){var j=I.cloneNode(!0);j.innerHTML=v(i.toFixed(f)),j.style.visibility="hidden",document.body.appendChild(j),$=Math.ceil(j.getBoundingClientRect().width),document.body.removeChild(j)}return $>w?$:w},o.getBoundingClientRect().width));return m},B=function(o,i,u,f,v,m,w){w===void 0&&(w=function(j){return j});var I=[],$=function(j){var N=S(u[j],f[j],v,m,w),_=i[j].x;i.forEach(function(X,C){var L=X.x,G=S(u[C],f[C],v,m,w);j!==C&&(_>=L&&_<=L+G||_+N>=L&&_+N<=L+G)&&(I.includes(C)||(I.push(j),I.push(C),I=r(r([],I,!0),[j,C],!1),$(C)))})};return $(o),Array.from(new Set(I.sort()))},M=function(o,i,u,f,v,m){f===void 0&&(f=.1),v===void 0&&(v=" - "),m===void 0&&(m=function(C){return C});var w=(0,e.getStepDecimals)(f),I=(0,n.useState)({}),$=I[0],j=I[1],N=(0,n.useState)(m(i[u].toFixed(w))),_=N[0],X=N[1];return(0,n.useEffect)(function(){if(o){var C=o.getThumbs();if(C.length<1)return;var L={},G=o.getOffsets(),re=B(u,G,C,i,v,w,m),se=m(i[u].toFixed(w));if(re.length){var ee=re.reduce(function(te,oe,de,fe){return te.length?r(r([],te,!0),[G[fe[de]].x],!1):[G[fe[de]].x]},[]);if(Math.min.apply(Math,ee)===G[u].x){var ue=[];re.forEach(function(te){ue.push(i[te].toFixed(w))}),se=Array.from(new Set(ue.sort(function(te,oe){return parseFloat(te)-parseFloat(oe)}))).map(m).join(v);var le=Math.min.apply(Math,ee),ce=Math.max.apply(Math,ee),Re=C[re[ee.indexOf(ce)]].getBoundingClientRect().width;L.left="".concat(Math.abs(le-(ce+Re))/2,"px"),L.transform="translate(-50%, 0)"}else L.visibility="hidden"}X(se),j(L)}},[o,i]),[_,$]};e.useThumbOverlap=M;function D(o,i,u,f){var v=o.getBoundingClientRect(),m=v.left,w=v.top,I=v.width,$=v.height;return z(f)?Math.abs(u-(w+$/2)):Math.abs(i-(m+I/2))}var A=function(){var o,i=((o=navigator.userAgentData)===null||o===void 0?void 0:o.platform)||navigator.platform;return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(i)||navigator.userAgent.includes("Mac")&&"ontouchend"in document};e.isIOS=A})(pe)),pe}var Ne;function St(){if(Ne)return H;Ne=1;var e=H&&H.__extends||(function(){var R=function(y,h){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])},R(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");R(y,h);function t(){this.constructor=y}y.prototype=h===null?Object.create(h):(t.prototype=h.prototype,new t)}})(),r=H&&H.__createBinding||(Object.create?(function(R,y,h,t){t===void 0&&(t=h);var a=Object.getOwnPropertyDescriptor(y,h);(!a||("get"in a?!y.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return y[h]}}),Object.defineProperty(R,t,a)}):(function(R,y,h,t){t===void 0&&(t=h),R[t]=y[h]})),n=H&&H.__setModuleDefault||(Object.create?(function(R,y){Object.defineProperty(R,"default",{enumerable:!0,value:y})}):function(R,y){R.default=y}),s=H&&H.__importStar||function(R){if(R&&R.__esModule)return R;var y={};if(R!=null)for(var h in R)h!=="default"&&Object.prototype.hasOwnProperty.call(R,h)&&r(y,R,h);return n(y,R),y},g=H&&H.__spreadArray||function(R,y,h){if(h||arguments.length===2)for(var t=0,a=y.length,l;t<a;t++)(l||!(t in y))&&(l||(l=Array.prototype.slice.call(y,0,t)),l[t]=y[t]);return R.concat(l||Array.prototype.slice.call(y))};Object.defineProperty(H,"__esModule",{value:!0});var k=s(Ke()),c=Ye(),p=Ie(),V=["ArrowRight","ArrowUp","k","PageUp"],z=["ArrowLeft","ArrowDown","j","PageDown"],U=(function(R){e(y,R);function y(h){var t=R.call(this,h)||this;if(t.trackRef=k.createRef(),t.thumbRefs=[],t.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(t.props.values.length).fill(0).map(function(a,l){return l}),isChanged:!1,markOffsets:[]},t.getOffsets=function(){var a=t.props,l=a.direction,d=a.values,b=a.min,x=a.max,P=t.trackRef.current;if(!P)return console.warn("No track element found."),[];var T=P.getBoundingClientRect(),O=(0,c.getPaddingAndBorder)(P);return t.getThumbs().map(function(S,B){var M={x:0,y:0},D=S.getBoundingClientRect(),A=(0,c.getMargin)(S);switch(l){case p.Direction.Right:return M.x=(A.left+O.left)*-1,M.y=((D.height-T.height)/2+O.top)*-1,M.x+=T.width*(0,c.relativeValue)(d[B],b,x)-D.width/2,M;case p.Direction.Left:return M.x=(A.right+O.right)*-1,M.y=((D.height-T.height)/2+O.top)*-1,M.x+=T.width-T.width*(0,c.relativeValue)(d[B],b,x)-D.width/2,M;case p.Direction.Up:return M.x=((D.width-T.width)/2+A.left+O.left)*-1,M.y=-O.left,M.y+=T.height-T.height*(0,c.relativeValue)(d[B],b,x)-D.height/2,M;case p.Direction.Down:return M.x=((D.width-T.width)/2+A.left+O.left)*-1,M.y=-O.left,M.y+=T.height*(0,c.relativeValue)(d[B],b,x)-D.height/2,M;default:return(0,c.assertUnreachable)(l)}})},t.getThumbs=function(){return t.trackRef&&t.trackRef.current?Array.from(t.trackRef.current.children).filter(function(a){return a.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},t.getTargetIndex=function(a){return t.getThumbs().findIndex(function(l){return l===a.target||l.contains(a.target)})},t.addTouchEvents=function(a){document.addEventListener("touchmove",t.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",t.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",t.schdOnEnd,{passive:!1})},t.addMouseEvents=function(a){document.addEventListener("mousemove",t.schdOnMouseMove),document.addEventListener("mouseup",t.schdOnEnd)},t.onMouseDownTrack=function(a){var l;if(!(a.button!==0||(0,c.isIOS)()))if(a.persist(),a.preventDefault(),t.addMouseEvents(a.nativeEvent),t.props.values.length>1&&t.props.draggableTrack){if(t.thumbRefs.some(function(b){var x;return(x=b.current)===null||x===void 0?void 0:x.contains(a.target)}))return;t.setState({draggedTrackPos:[a.clientX,a.clientY]},function(){return t.onMove(a.clientX,a.clientY)})}else{var d=(0,c.getClosestThumbIndex)(t.thumbRefs.map(function(b){return b.current}),a.clientX,a.clientY,t.props.direction);(l=t.thumbRefs[d].current)===null||l===void 0||l.focus(),t.setState({draggedThumbIndex:d},function(){return t.onMove(a.clientX,a.clientY)})}},t.onResize=function(){(0,c.translateThumbs)(t.getThumbs(),t.getOffsets(),t.props.rtl),t.calculateMarkOffsets()},t.onTouchStartTrack=function(a){var l;if(a.persist(),t.addTouchEvents(a.nativeEvent),t.props.values.length>1&&t.props.draggableTrack){if(t.thumbRefs.some(function(b){var x;return(x=b.current)===null||x===void 0?void 0:x.contains(a.target)}))return;t.setState({draggedTrackPos:[a.touches[0].clientX,a.touches[0].clientY]},function(){return t.onMove(a.touches[0].clientX,a.touches[0].clientY)})}else{var d=(0,c.getClosestThumbIndex)(t.thumbRefs.map(function(b){return b.current}),a.touches[0].clientX,a.touches[0].clientY,t.props.direction);(l=t.thumbRefs[d].current)===null||l===void 0||l.focus(),t.setState({draggedThumbIndex:d},function(){return t.onMove(a.touches[0].clientX,a.touches[0].clientY)})}},t.onMouseOrTouchStart=function(a){if(!t.props.disabled){var l=(0,c.isTouchEvent)(a);if(!(!l&&a.button!==0)){var d=t.getTargetIndex(a);d!==-1&&(l?t.addTouchEvents(a):t.addMouseEvents(a),t.setState({draggedThumbIndex:d,thumbZIndexes:t.state.thumbZIndexes.map(function(b,x){return x===d?Math.max.apply(Math,t.state.thumbZIndexes):b<=t.state.thumbZIndexes[d]?b:b-1})}))}}},t.onMouseMove=function(a){a.preventDefault(),t.onMove(a.clientX,a.clientY)},t.onTouchMove=function(a){a.preventDefault(),t.onMove(a.touches[0].clientX,a.touches[0].clientY)},t.onKeyDown=function(a){var l=t.props,d=l.values,b=l.onChange,x=l.step,P=l.rtl,T=l.direction,O=t.state.isChanged,S=t.getTargetIndex(a.nativeEvent),B=P||T===p.Direction.Left||T===p.Direction.Down?-1:1;S!==-1&&(V.includes(a.key)?(a.preventDefault(),t.setState({draggedThumbIndex:S,isChanged:!0}),b((0,c.replaceAt)(d,S,t.normalizeValue(d[S]+B*(a.key==="PageUp"?x*10:x),S)))):z.includes(a.key)?(a.preventDefault(),t.setState({draggedThumbIndex:S,isChanged:!0}),b((0,c.replaceAt)(d,S,t.normalizeValue(d[S]-B*(a.key==="PageDown"?x*10:x),S)))):a.key==="Tab"?t.setState({draggedThumbIndex:-1},function(){O&&t.fireOnFinalChange()}):O&&t.fireOnFinalChange())},t.onKeyUp=function(a){var l=t.state.isChanged;t.setState({draggedThumbIndex:-1},function(){l&&t.fireOnFinalChange()})},t.onMove=function(a,l){var d=t.state,b=d.draggedThumbIndex,x=d.draggedTrackPos,P=t.props,T=P.direction,O=P.min,S=P.max,B=P.onChange,M=P.values,D=P.step,A=P.rtl;if(b===-1&&x[0]===-1&&x[1]===-1)return null;var o=t.trackRef.current;if(!o)return null;var i=o.getBoundingClientRect(),u=(0,c.isVertical)(T)?i.height:i.width;if(x[0]!==-1&&x[1]!==-1){var f=a-x[0],v=l-x[1],m=0;switch(T){case p.Direction.Right:case p.Direction.Left:m=f/u*(S-O);break;case p.Direction.Down:case p.Direction.Up:m=v/u*(S-O);break;default:(0,c.assertUnreachable)(T)}if(A&&(m*=-1),Math.abs(m)>=D/2){for(var w=0;w<t.thumbRefs.length;w++){if(M[w]===S&&Math.sign(m)===1||M[w]===O&&Math.sign(m)===-1)return;var I=M[w]+m;I>S?m=S-M[w]:I<O&&(m=O-M[w])}for(var $=M.slice(0),w=0;w<t.thumbRefs.length;w++)$=(0,c.replaceAt)($,w,t.normalizeValue(M[w]+m,w));t.setState({draggedTrackPos:[a,l]}),B($)}}else{var j=0;switch(T){case p.Direction.Right:j=(a-i.left)/u*(S-O)+O;break;case p.Direction.Left:j=(u-(a-i.left))/u*(S-O)+O;break;case p.Direction.Down:j=(l-i.top)/u*(S-O)+O;break;case p.Direction.Up:j=(u-(l-i.top))/u*(S-O)+O;break;default:(0,c.assertUnreachable)(T)}A&&(j=S+O-j),Math.abs(M[b]-j)>=D/2&&B((0,c.replaceAt)(M,b,t.normalizeValue(j,b)))}},t.normalizeValue=function(a,l){var d=t.props,b=d.min,x=d.max,P=d.step,T=d.allowOverlap,O=d.values;return(0,c.normalizeValue)(a,l,b,x,P,T,O)},t.onEnd=function(a){if(a.preventDefault(),document.removeEventListener("mousemove",t.schdOnMouseMove),document.removeEventListener("touchmove",t.schdOnTouchMove),document.removeEventListener("mouseup",t.schdOnEnd),document.removeEventListener("touchend",t.schdOnEnd),document.removeEventListener("touchcancel",t.schdOnEnd),t.state.draggedThumbIndex===-1&&t.state.draggedTrackPos[0]===-1&&t.state.draggedTrackPos[1]===-1)return null;t.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){t.fireOnFinalChange()})},t.fireOnFinalChange=function(){t.setState({isChanged:!1});var a=t.props,l=a.onFinalChange,d=a.values;l&&l(d)},t.updateMarkRefs=function(a){if(!a.renderMark){t.numOfMarks=void 0,t.markRefs=void 0;return}t.numOfMarks=(a.max-a.min)/t.props.step,t.markRefs=[];for(var l=0;l<t.numOfMarks+1;l++)t.markRefs[l]=k.createRef()},t.calculateMarkOffsets=function(){if(!(!t.props.renderMark||!t.trackRef||!t.numOfMarks||!t.markRefs||t.trackRef.current===null)){for(var a=window.getComputedStyle(t.trackRef.current),l=parseInt(a.width,10),d=parseInt(a.height,10),b=parseInt(a.paddingLeft,10),x=parseInt(a.paddingTop,10),P=[],T=0;T<t.numOfMarks+1;T++){var O=9999,S=9999;if(t.markRefs[T].current){var B=t.markRefs[T].current.getBoundingClientRect();O=B.height,S=B.width}t.props.direction===p.Direction.Left||t.props.direction===p.Direction.Right?P.push([Math.round(l/t.numOfMarks*T+b-S/2),-Math.round((O-d)/2)]):P.push([Math.round(d/t.numOfMarks*T+x-O/2),-Math.round((S-l)/2)])}t.setState({markOffsets:P})}},h.step===0)throw new Error('"step" property should be a positive number');return t.schdOnMouseMove=(0,c.schd)(t.onMouseMove),t.schdOnTouchMove=(0,c.schd)(t.onTouchMove),t.schdOnEnd=(0,c.schd)(t.onEnd),t.thumbRefs=h.values.map(function(){return k.createRef()}),t.updateMarkRefs(h),t}return y.prototype.componentDidMount=function(){var h=this,t=this.props,a=t.values,l=t.min,d=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",h.onResize)},unobserve:function(){return window.removeEventListener("resize",h.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,c.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(b){return(0,c.checkBoundaries)(b,h.props.min,h.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,c.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),a.forEach(function(b){(0,c.isStepDivisible)(l,b,d)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},y.prototype.componentDidUpdate=function(h,t){var a=this.props,l=a.max,d=a.min,b=a.step,x=a.values,P=a.rtl;(h.max!==l||h.min!==d||h.step!==b)&&this.updateMarkRefs(this.props),(0,c.translateThumbs)(this.getThumbs(),this.getOffsets(),P),(h.max!==l||h.min!==d||h.step!==b||t.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),x.forEach(function(T){(0,c.isStepDivisible)(d,T,b)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},y.prototype.componentWillUnmount=function(){var h={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,h),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},y.prototype.render=function(){var h=this,t=this.props,a=t.label,l=t.labelledBy,d=t.renderTrack,b=t.renderThumb,x=t.renderMark,P=x===void 0?function(){return null}:x,T=t.values,O=t.min,S=t.max,B=t.allowOverlap,M=t.disabled,D=this.state,A=D.draggedThumbIndex,o=D.thumbZIndexes,i=D.markOffsets;return d({props:{style:{transform:"scale(1)",cursor:A>-1?"grabbing":this.props.draggableTrack?(0,c.isVertical)(this.props.direction)?"ns-resize":"ew-resize":T.length===1&&!M?"pointer":"inherit"},onMouseDown:M?c.voidFn:this.onMouseDownTrack,onTouchStart:M?c.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:M,children:g(g([],i.map(function(u,f,v){return P({props:{style:h.props.direction===p.Direction.Left||h.props.direction===p.Direction.Right?{position:"absolute",left:"".concat(u[0],"px"),marginTop:"".concat(u[1],"px")}:{position:"absolute",top:"".concat(u[0],"px"),marginLeft:"".concat(u[1],"px")},key:"mark".concat(f),ref:h.markRefs[f]},index:f})}),!0),T.map(function(u,f){var v=h.state.draggedThumbIndex===f;return b({index:f,value:u,isDragged:v,props:{style:{position:"absolute",zIndex:o[f],cursor:M?"inherit":v?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:f,tabIndex:M?void 0:0,"aria-valuemax":B?S:T[f+1]||S,"aria-valuemin":B?O:T[f-1]||O,"aria-valuenow":u,draggable:!1,ref:h.thumbRefs[f],"aria-label":a,"aria-labelledby":l,role:"slider",onKeyDown:M?c.voidFn:h.onKeyDown,onKeyUp:M?c.voidFn:h.onKeyUp}})}),!0)})},y.defaultProps={label:"Accessibility label",labelledBy:null,step:1,direction:p.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},y})(k.Component);return H.default=U,H}var He;function Dt(){return He||(He=1,(function(e){var r=he&&he.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var n=r(St());e.Range=n.default;var s=Ye();Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return s.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return s.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return s.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return s.checkValuesAgainstBoundaries}});var g=Ie();Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return g.Direction}})})(he)),he}var Ze=Dt();function Xe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,s)}return n}function ge(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Xe(Object(n),!0).forEach(function(s){It(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function It(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var be=Q("div",{position:"relative",width:"100%"});be.displayName="Root";be.displayName="Root";be.displayName="StyledRoot";var ve=Q("div",function(e){var r=e.$theme,n=e.$value,s=n===void 0?[]:n,g=e.$disabled,k=e.$isDragged,c=r.sizing,p="inherit";return g?p="not-allowed":k?p="grabbing":s.length===1&&(p="pointer"),{paddingTop:c.scale600,paddingBottom:c.scale600,paddingRight:c.scale600,paddingLeft:c.scale600,display:"flex",cursor:p,backgroundColor:r.colors.sliderTrackFill}});ve.displayName="Track";ve.displayName="Track";ve.displayName="StyledTrack";var ye=Q("div",function(e){var r=e.$theme,n=e.$value,s=n===void 0?[]:n,g=e.$min,k=e.$max,c=e.$disabled,p=r.colors,V=r.borders,z=r.direction,U=r.borders.useRoundedCorners?V.radius100:0;return{borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,background:Ze.getTrackBackground({values:s,colors:s.length===1?[c?p.borderOpaque:p.primary,c?p.backgroundSecondary:p.borderOpaque]:[c?p.backgroundSecondary:p.borderOpaque,c?p.borderOpaque:p.primary,c?p.backgroundSecondary:p.borderOpaque],min:g||0,max:k||0,rtl:z==="rtl"}),height:"2px",width:"100%",alignSelf:"center",cursor:c?"not-allowed":"inherit"}});ye.displayName="InnerTrack";ye.displayName="InnerTrack";ye.displayName="StyledInnerTrack";var we=Q("div",function(e){return{width:"4px",height:"2px",backgroundColor:e.$theme.colors.backgroundPrimary,marginLeft:"16px"}});we.displayName="Mark";we.displayName="Mark";we.displayName="StyledMark";var ke=Q("div",function(e){return ge(ge({},e.$theme.typography.font200),{},{color:e.$theme.colors.contentPrimary})});ke.displayName="Tick";ke.displayName="Tick";ke.displayName="StyledTick";var xe=Q("div",function(e){var r=e.$theme,n=r.sizing;return{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:n.scale600,paddingLeft:n.scale600,paddingBottom:n.scale400}});xe.displayName="TickBar";xe.displayName="TickBar";xe.displayName="StyledTickBar";var Te=Q("div",function(e){var r=e.$theme,n=e.$value,s=n===void 0?[]:n,g=e.$thumbIndex,k=e.$disabled,c=s.length===2&&g===0,p=s.length===2&&g===1;return r.direction==="rtl"&&(p||c)&&(c=!c,p=!p),{height:"24px",width:"24px",borderTopLeftRadius:"24px",borderTopRightRadius:"24px",borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:k?r.colors.sliderHandleFillDisabled:r.colors.sliderHandleFill,outline:"none",boxShadow:e.$isFocusVisible?"0 0 0 3px ".concat(r.colors.accent):"0 1px 4px rgba(0, 0, 0, 0.12)",cursor:k?"not-allowed":"inherit"}});Te.displayName="Thumb";Te.displayName="Thumb";Te.displayName="StyledThumb";var Oe=Q("div",function(e){var r=e.$disabled,n=e.$theme;return{position:"absolute",top:"-16px",width:"4px",height:"20px",backgroundColor:r?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleInnerFill}});Oe.displayName="InnerThumb";Oe.displayName="InnerThumb";Oe.displayName="StyledInnerThumb";var Me=Q("div",function(e){var r=e.$disabled,n=e.$theme;return ge(ge({position:"absolute",top:"-".concat(n.sizing.scale1400)},n.typography.font200),{},{backgroundColor:r?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleInnerFill,color:n.colors.contentInversePrimary,paddingLeft:n.sizing.scale600,paddingRight:n.sizing.scale600,paddingTop:n.sizing.scale500,paddingBottom:n.sizing.scale500,borderBottomLeftRadius:"48px",borderBottomRightRadius:"48px",borderTopLeftRadius:"48px",borderTopRightRadius:"48px",whiteSpace:"nowrap"})});Me.displayName="ThumbValue";Me.displayName="ThumbValue";Me.displayName="StyledThumbValue";function We(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,s)}return n}function Et(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?We(Object(n),!0).forEach(function(s){jt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jt(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K.apply(this,arguments)}function q(e,r){return Ct(e)||Bt(e,r)||$t(e,r)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,r){if(e){if(typeof e=="string")return qe(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,r)}}function qe(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function Bt(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],g=!0,k=!1,c,p;try{for(n=n.call(e);!(g=(c=n.next()).done)&&(s.push(c.value),!(r&&s.length===r));g=!0);}catch(V){k=!0,p=V}finally{try{!g&&n.return!=null&&n.return()}finally{if(k)throw p}}return s}}function Ct(e){if(Array.isArray(e))return e}var Lt=function(e){if(e.length>2||e.length===0)throw new Error("the value prop represents positions of thumbs, so its length can be only one or two");return e};function Ft(e){var r=e.overrides,n=r===void 0?{}:r,s=e.disabled,g=s===void 0?!1:s,k=e.marks,c=k===void 0?!1:k,p=e.onChange,V=p===void 0?function(){}:p,z=e.onFinalChange,U=z===void 0?function(){}:z,R=e.min,y=R===void 0?0:R,h=e.max,t=h===void 0?100:h,a=e.step,l=a===void 0?1:a,d=e.persistentThumb,b=d===void 0?!1:d,x=e.valueToLabel,P=x===void 0?function(F){return F}:x,T=e.value,O=E.useContext(xt),S=E.useState(!1),B=q(S,2),M=B[0],D=B[1],A=E.useState(!1),o=q(A,2),i=o[0],u=o[1],f=E.useState(!1),v=q(f,2),m=v[0],w=v[1],I=E.useState(-1),$=q(I,2),j=$[0],N=$[1],_=E.useCallback(function(F){Tt(F)&&w(!0);var Y=F.target.parentNode.firstChild===F.target?0:1;N(Y)},[]),X=E.useCallback(function(F){m!==!1&&w(!1),N(-1)},[]),C=Lt(T),L={$disabled:g,$step:l,$min:y,$max:t,$marks:c,$value:C,$isFocusVisible:m},G=J(n.Root,be),re=q(G,2),se=re[0],ee=re[1],ue=J(n.Track,ve),le=q(ue,2),ce=le[0],Re=le[1],te=J(n.InnerTrack,ye),oe=q(te,2),de=oe[0],fe=oe[1],Ge=J(n.Thumb,Te),Ee=q(Ge,2),Je=Ee[0],Qe=Ee[1],et=J(n.InnerThumb,Oe),je=q(et,2),tt=je[0],rt=je[1],nt=J(n.ThumbValue,Me),Pe=q(nt,2),at=Pe[0],ot=Pe[1],it=J(n.Tick,ke),$e=q(it,2),Be=$e[0],Ce=$e[1],st=J(n.TickBar,xe),Le=q(st,2),ut=Le[0],lt=Le[1],ct=J(n.Mark,we),Fe=q(ct,2),dt=Fe[0],ft=Fe[1];return E.createElement(se,K({"data-baseweb":"slider"},L,ee,{onFocus:Mt(ee,_),onBlur:Ot(ee,X)}),E.createElement(Ze.Range,K({step:l,min:y,max:t,values:C,disabled:g,onChange:function(F){return V({value:F})},onFinalChange:function(F){return U({value:F})},rtl:O.direction==="rtl",renderTrack:function(F){var Y=F.props,W=F.children,ne=F.isDragged;return E.createElement(ce,K({onMouseDown:Y.onMouseDown,onTouchStart:Y.onTouchStart,$isDragged:ne},L,Re),E.createElement(de,K({$isDragged:ne,ref:Y.ref},L,fe),W))},renderThumb:function(F){var Y=F.props,W=F.index,ne=F.isDragged,Ve=b||(!!W&&i||!W&&M||ne)&&!g;return E.createElement(Je,K({},Y,{onMouseEnter:function(){W===0?D(!0):u(!0)},onMouseLeave:function(){W===0?D(!1):u(!1)},$thumbIndex:W,$isDragged:ne,style:Et({},Y.style)},L,Qe,{$isFocusVisible:m&&j===W}),Ve&&E.createElement(at,K({$thumbIndex:W,$isDragged:ne},L,ot),P(C[W])),Ve&&E.createElement(tt,K({$thumbIndex:W,$isDragged:ne},L,rt)))}},c?{renderMark:function(F){var Y=F.props,W=F.index;return E.createElement(dt,K({$markIndex:W},Y,L,ft))}}:{})),E.createElement(ut,K({},L,lt),E.createElement(Be,K({},L,Ce),P(y)),E.createElement(Be,K({},L,Ce),P(t))))}const Vt=me("div",{target:"ew7r33m3"})({name:"bjn8wh",styles:"position:relative"}),zt=me("div",{target:"ew7r33m2"})(({disabled:e,theme:r,isDragged:n})=>({alignItems:"center",backgroundColor:e?r.colors.gray60:r.colors.primary,borderTopLeftRadius:"100%",borderTopRightRadius:"100%",borderBottomLeftRadius:"100%",borderBottomRightRadius:"100%",borderTopStyle:"none",borderBottomStyle:"none",borderRightStyle:"none",borderLeftStyle:"none",display:"flex",justifyContent:"center",height:r.sizes.sliderThumb,width:r.sizes.sliderThumb,boxShadow:n?`0 0 0 0.2rem ${ze(r.colors.primary,.5)}`:"none",":focus":{outline:"none"},":focus-visible":{boxShadow:`0 0 0 0.2rem ${ze(r.colors.primary,.5)}`}}),""),At=me("div",{target:"ew7r33m1"})(({disabled:e,theme:r})=>({fontFamily:r.genericFonts.bodyFont,fontSize:r.fontSizes.sm,color:e?r.colors.gray60:r.colors.primary,top:"-1.6em",position:"absolute",whiteSpace:"nowrap",backgroundColor:r.colors.transparent,lineHeight:r.lineHeights.base,fontWeight:r.fontWeights.normal,pointerEvents:"none"}),""),_t=me("div",{target:"ew7r33m0"})(({theme:e,isHovered:r,isDisabled:n})=>({position:"absolute",left:0,right:0,top:"100%",display:"flex",justifyContent:"space-between",pointerEvents:"none",marginTop:`-${e.spacing.md}`,fontSize:e.fontSizes.sm,lineHeight:e.lineHeights.base,fontWeight:e.fontWeights.normal,color:n?e.colors.fadedText40:e.colors.fadedText60,opacity:r?1:0,transition:"opacity 70ms ease-in-out"}),"");function Ut({minLabel:e,maxLabel:r,isHovered:n,isDisabled:s}){return Z.jsxs(_t,{"data-testid":"stSliderTickBar",isHovered:n,isDisabled:s,children:[Z.jsx("span",{children:e}),Z.jsx("span",{children:r})]})}function Nt({disabled:e,element:r,widgetMgr:n,fragmentId:s}){const[g,k]=Rt({getStateFromWidgetMgr:Ht,getDefaultStateFromProto:Xt,getCurrStateFromProto:Wt,updateWidgetMgrState:qt,element:r,widgetMgr:n,fragmentId:s}),[c,p]=E.useState(g),[V,z]=E.useState(!1),[U,R]=E.useState(!1),y=E.useCallback(()=>z(!0),[]),h=E.useCallback(()=>z(!1),[]),t=E.useRef(null),[a]=E.useState([]),[l]=E.useState([]),d=pt(),b=c.map(D=>De(D,r)),x=De(r.min,r),P=De(r.max,r),T=r.label;E.useEffect(()=>{p(g)},[g]);const O=E.useCallback(({value:D})=>{k({value:D,fromUi:!0}),R(!1)},[k]),S=E.useCallback(({value:D})=>{p(D),R(!0)},[]),B=E.useCallback(E.forwardRef(function(D,A){const{$thumbIndex:o}=D,i=o||0;a[i]=A,l[i]||=E.createRef();const u=gt(D,["role","style","aria-valuemax","aria-valuemin","aria-valuenow","tabIndex","onKeyUp","onKeyDown","onMouseEnter","onMouseLeave","draggable"]),f=b[i];return Z.jsx(zt,{...u,disabled:D.$disabled===!0,isDragged:D.$isDragged===!0,ref:a[i],"aria-valuetext":f,"aria-label":T,children:Z.jsx(At,{"data-testid":"stSliderThumbValue",disabled:D.$disabled===!0,ref:l[i],children:f})})}),[]);E.useEffect(()=>{l.map((f,v)=>{f.current&&(f.current.innerText=b[v])}),a.map((f,v)=>{f.current&&f.current.setAttribute("aria-valuetext",b[v])});const D=t.current??null,A=a[0].current,o=a[1]?.current,i=l[0].current,u=l[1]?.current;Zt(D,A,o,i,u)});const M=E.useCallback(({$disabled:D})=>({height:d.spacing.twoXS,...D?{background:d.colors.darkenedBgMix25}:{}}),[d.colors.darkenedBgMix25,d.spacing.twoXS]);return Z.jsxs(Vt,{ref:t,className:"stSlider","data-testid":"stSlider",onMouseEnter:y,onMouseLeave:h,children:[Z.jsx(mt,{label:r.label,disabled:e,labelVisibility:bt(r.labelVisibility?.value),children:r.help&&Z.jsx(vt,{children:Z.jsx(yt,{content:r.help,placement:wt.TOP_RIGHT})})}),Z.jsx(Ft,{min:r.min,max:r.max,step:r.step,value:Yt(c,r),onChange:S,onFinalChange:O,disabled:e,overrides:{Thumb:B,Track:{style:{backgroundColor:"none !important",paddingLeft:d.spacing.none,paddingRight:d.spacing.none,paddingTop:`calc((${d.sizes.minElementHeight} - ${d.spacing.twoXS}) / 2)`,paddingBottom:`calc((${d.sizes.minElementHeight} - ${d.spacing.twoXS}) / 2)`}},InnerTrack:{style:M},TickBar:{component:Ut,props:{minLabel:x,maxLabel:P,isHovered:V||U,isDisabled:e}}}})]})}function Ht(e,r){return e.getDoubleArrayValue(r)}function Xt(e){return e.default}function Wt(e){return e.value}function qt(e,r,n,s){r.setDoubleArrayValue(e,n.value,{fromUi:n.fromUi},s)}function Kt(e){const{dataType:r}=e;return r===Se.DataType.DATETIME||r===Se.DataType.DATE||r===Se.DataType.TIME}function De(e,r){const{format:n,options:s}=r;return Kt(r)?kt.utc(e/1e3).format(n):s.length>0?Ae.sprintf(n,s[e]):Ae.sprintf(n,e)}function Yt(e,r){const{min:n,max:s}=r;let g=e[0],k=e.length>1?e[1]:e[0];return g>k&&(g=k),g<n&&(g=n),g>s&&(g=s),k<n&&(k=n),k>s&&(k=s),e.length>1?[g,k]:[g]}function Zt(e,r,n,s,g){!e||!r||!s||(ae(e,r,s),n&&g&&(ae(e,n,g),Gt(e,r,n,s,g)))}function ae(e,r,n){const s=e.getBoundingClientRect(),g=r.getBoundingClientRect(),k=n.getBoundingClientRect(),c=g.left+g.width/2,p=c-k.width/2<s.left,V=c+k.width/2>s.right;n.style.left=p?"0":"",n.style.right=V?"0":""}function Gt(e,r,n,s,g){const k=e.getBoundingClientRect(),c=r.getBoundingClientRect(),p=n.getBoundingClientRect(),V=s.getBoundingClientRect(),z=g.getBoundingClientRect(),U=k.left+k.width/2,R=c.left+c.width/2,y=p.left+p.width/2,h=R-V.width/2>=k.left,t=y+z.width/2<=k.right,a=c.left-V.width>=k.left,l=p.right+z.width<=k.right,d=h?V.width/2:V.width,b=t?z.width/2:z.width,x=R+d;if(y-b-x>24){ae(e,r,s),ae(e,n,g);return}if(a&&l){s.style.left="",s.style.right=`${Math.round(c.width)}px`,g.style.left=`${Math.round(p.width)}px`,g.style.right="";return}R<U?(ae(e,r,s),g.style.left=`${Math.round(R+d+24-y)}px`,g.style.right=""):(ae(e,n,g),s.style.left="",s.style.right=`${-Math.round(y-b-24-R)}px`)}const rr=ht(E.memo(Nt));export{rr as default};
