import{r as j,b_ as C,e as I,j as i,c as h,a as E,ac as y,l as M}from"./index-BXy9S0ZG.js";import{E as L,m as W}from"./withFullScreenWrapper-Dg0Awf9i-COlHnLQx-Bp_4iEIe.js";import{V as p,k as v}from"./Toolbar-DwupCvdF-D3M7JP7B-Cc0ZFnXH.js";const R=h("div",{target:"e115fcil2"})(({theme:e,shouldStretch:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",rowGap:e.spacing.lg,maxWidth:"100%",width:t?"100%":"fit-content"}),""),$=h("div",{target:"e115fcil1"})(({theme:e,shouldStretch:t})=>({display:"flex",flexDirection:"column",alignItems:"stretch",width:t?"100%":"auto",flexGrow:t?1:0,">img":{borderRadius:e.radii.default}}),""),F=h("div",{target:"e115fcil0"})(({theme:e})=>({textAlign:"center",marginTop:e.spacing.xs,wordWrap:"break-word",padding:e.spacing.threeXS}),""),T=M.getLogger("ImageList");function H(e,t,r){if(e){if(e.useStretch)return r;if(e.useContent)return;if(e.pixelWidth)return e.pixelWidth}if(t!=null)switch(t){case-1:case-3:case-4:return;case-2:case-5:return r;default:return t>0?t:void 0}}const O=({itemKey:e,image:t,imgStyle:r,buildMediaURL:n,handleImageError:l,shouldStretch:s})=>{const d=E(t.url);return i.jsxs($,{"data-testid":"stImageContainer",shouldStretch:s,children:[i.jsx("img",{style:r,src:n(t.url),alt:e,onError:l,crossOrigin:d}),t.caption&&i.jsx(F,{"data-testid":"stImageCaption",style:r,children:i.jsx(y,{source:t.caption,allowHTML:!1,isCaption:!0,isLabel:!0})})]})};function U({element:e,endpoints:t,widthConfig:r,disableFullscreenMode:n}){const l=C(e.imgs),{expanded:s,width:d,height:c,expand:x,collapse:f}=I(W),g=d||0,w=H(r,e.width,g),m=r?.useStretch||e.width===-5,a={};c&&s?(a.maxHeight=c,a.objectFit="contain",a.width="100%"):(a.width=w??"100%",a.maxWidth="100%");const S=u=>{const o=u.currentTarget.src;T.error(`Client Error: Image source error - ${o}`),t.sendClientErrorToHost("Image","Image source failed to load","onerror triggered",o)};return i.jsxs(p,{width:g,height:c,useContainerWidth:s,topCentered:!0,children:[i.jsx(v,{target:p,isFullScreen:s,onExpand:x,onCollapse:f,disableFullscreenMode:n}),i.jsx(R,{className:"stImage","data-testid":"stImage",shouldStretch:m,children:l.map((u,o)=>i.jsx(O,{itemKey:o.toString(),image:u,imgStyle:a,buildMediaURL:b=>t.buildMediaURL(b),handleImageError:S,shouldStretch:m},o))})]})}const k=L(U),D=j.memo(k);export{D as default};
