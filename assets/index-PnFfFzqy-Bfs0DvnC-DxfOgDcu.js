import{r as i,m as S,j as e,c as f,ae as T,ac as v,by as n,bz as z,bA as R,a9 as j,x as E}from"./index-BXy9S0ZG.js";const k=f("button",{target:"elibz2u2"})(({theme:t})=>({fontSize:t.fontSizes.sm,lineHeight:t.lineHeights.base,color:t.colors.fadedText60,backgroundColor:t.colors.transparent,fontFamily:"inherit",margin:t.spacing.none,border:"none",boxShadow:"none",padding:t.spacing.none,"&:hover, &:active, &:focus":{border:"none",outline:"none",boxShadow:"none"},"&:hover":{color:t.colors.primary}}),""),B=f("div",{target:"elibz2u1"})(({theme:t})=>({display:"flex",flexDirection:"row",gap:t.spacing.lg,"> span":{marginTop:t.spacing.twoXS}}),""),C=f("div",{target:"elibz2u0"})(({theme:t})=>({display:"flex",flexDirection:"column",gap:t.spacing.sm,alignItems:"start",justifyContent:"center",overflow:"hidden",minHeight:"100%",fontSize:t.fontSizes.sm,lineHeight:t.lineHeights.base,div:{display:"inline-flex"}}),"");function H(t){const o=j(t);return{Body:{props:{"data-testid":"stToast",className:"stToast"},style:{display:"flex",flexDirection:"row",gap:t.spacing.md,width:t.sizes.toastWidth,marginTop:t.spacing.sm,borderTopLeftRadius:t.radii.default,borderTopRightRadius:t.radii.default,borderBottomLeftRadius:t.radii.default,borderBottomRightRadius:t.radii.default,paddingTop:t.spacing.lg,paddingBottom:t.spacing.lg,paddingLeft:t.spacing.twoXL,paddingRight:t.spacing.twoXL,backgroundColor:t.colors.bgColor,filter:o?"brightness(0.98)":"brightness(1.2)",color:t.colors.bodyText,boxShadow:o?"0px 4px 16px rgba(0, 0, 0, 0.16)":"0px 4px 16px rgba(0, 0, 0, 0.7)"}},CloseIcon:{style:{color:t.colors.fadedText40,width:t.fontSizes.lg,height:t.fontSizes.lg,marginRight:`calc(-1 * ${t.spacing.lg} / 2)`,":hover":{color:t.colors.bodyText}}}}}function L(t){if(t.length>104){let o=t.replace(/^(.{104}[^\s]*).*/,"$1");return o.length>104&&(o=o.substring(0,104).split(" ").slice(0,-1).join(" ")),o.trim()}return t}function I({element:t}){const{body:o,icon:r,duration:d}=t,a=S(),l=L(o),c=o!==l,[s,b]=i.useState(!c),[m,x]=i.useState(0),h=i.useCallback(()=>{b(!s)},[s]),g=i.useMemo(()=>H(a),[a]),p=i.useMemo(()=>e.jsxs(B,{expanded:s,children:[r&&e.jsx(T,{iconValue:r,size:"xl",testid:"stToastDynamicIcon"}),e.jsxs(C,{children:[e.jsx(v,{source:s?o:l,allowHTML:!1,isToast:!0}),c&&e.jsx(k,{"data-testid":"stToastViewButton",onClick:h,children:s?"view less":"view more"})]})]}),[c,s,o,r,l,h]);i.useEffect(()=>{if(a.inSidebar)return;const w=E(d)?d===0?0:d*1e3:4e3,u=n.info(p,{overrides:{...g},autoHideDuration:w});return x(u),()=>{n.update(u,{overrides:{Body:{style:{display:"none"}}}}),n.clear(u)}},[]),i.useEffect(()=>{n.update(m,{children:p,overrides:{...g}})},[m,p,g]);const y=e.jsx(z,{kind:R.ERROR,body:"Streamlit API Error: `st.toast` cannot be called directly on the sidebar with `st.sidebar.toast`.\n        See our `st.toast` API [docs](https://docs.streamlit.io/develop/api-reference/status/st.toast) for more information."});return e.jsx(e.Fragment,{children:a.inSidebar&&y})}const M=i.memo(I);export{M as default};
