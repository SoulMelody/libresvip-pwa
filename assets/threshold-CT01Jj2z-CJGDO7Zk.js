import{I as A,n as q,V as $,b as I,y as V,d as m}from"./value-DKQTM160-BzWdDXpE.js";function M(n,r){return n==null||r==null?NaN:n<r?-1:n>r?1:n>=r?0:NaN}function E(n,r){return n==null||r==null?NaN:r<n?-1:r>n?1:r>=n?0:NaN}function y(n){let r,u,t;n.length!==2?(r=M,u=(i,f)=>M(n(i),f),t=(i,f)=>n(i)-f):(r=n===M||n===E?n:F,u=n,t=n);function a(i,f,e=0,h=i.length){if(e<h){if(r(f,f)!==0)return h;do{const l=e+h>>>1;u(i[l],f)<0?e=l+1:h=l}while(e<h)}return e}function o(i,f,e=0,h=i.length){if(e<h){if(r(f,f)!==0)return h;do{const l=e+h>>>1;u(i[l],f)<=0?e=l+1:h=l}while(e<h)}return e}function c(i,f,e=0,h=i.length){const l=a(i,f,e,h-1);return l>e&&t(i[l-1],f)>-t(i[l],f)?l-1:l}return{left:a,center:c,right:o}}function F(){return 0}function O(n){return n===null?NaN:+n}function*rn(n,r){if(r===void 0)for(let u of n)u!=null&&(u=+u)>=u&&(yield u);else{let u=-1;for(let t of n)(t=r(t,++u,n))!=null&&(t=+t)>=t&&(yield t)}}const b=y(M),k=b.right,tn=b.left;y(O).center;const R=Math.sqrt(50),j=Math.sqrt(10),z=Math.sqrt(2);function p(n,r,u){const t=(r-n)/Math.max(0,u),a=Math.floor(Math.log10(t)),o=t/Math.pow(10,a),c=o>=R?10:o>=j?5:o>=z?2:1;let i,f,e;return a<0?(e=Math.pow(10,-a)/c,i=Math.round(n*e),f=Math.round(r*e),i/e<n&&++i,f/e>r&&--f,e=-e):(e=Math.pow(10,a)*c,i=Math.round(n/e),f=Math.round(r/e),i*e<n&&++i,f*e>r&&--f),f<i&&.5<=u&&u<2?p(n,r,u*2):[i,f,e]}function B(n,r,u){if(r=+r,n=+n,u=+u,!(u>0))return[];if(n===r)return[n];const t=r<n,[a,o,c]=t?p(r,n,u):p(n,r,u);if(!(o>=a))return[];const i=o-a+1,f=new Array(i);if(t)if(c<0)for(let e=0;e<i;++e)f[e]=(o-e)/-c;else for(let e=0;e<i;++e)f[e]=(o-e)*c;else if(c<0)for(let e=0;e<i;++e)f[e]=(a+e)/-c;else for(let e=0;e<i;++e)f[e]=(a+e)*c;return f}function d(n,r,u){return r=+r,n=+n,u=+u,p(n,r,u)[2]}function C(n,r,u){r=+r,n=+n,u=+u;const t=r<n,a=t?d(r,n,u):d(n,r,u);return(t?-1:1)*(a<0?1/-a:a)}function D(n){return Math.max(0,-m(Math.abs(n)))}function G(n,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(m(r)/3)))*3-m(Math.abs(n)))}function H(n,r){return n=Math.abs(n),r=Math.abs(r)-n,Math.max(0,m(r)-m(n))+1}function w(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function en(n,r){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}function T(n,r){return n=+n,r=+r,function(u){return Math.round(n*(1-u)+r*u)}}function U(n){return function(){return n}}function W(n){return+n}var v=[0,1];function g(n){return n}function N(n,r){return(r-=n=+n)?function(u){return(u-n)/r}:U(isNaN(r)?NaN:.5)}function X(n,r){var u;return n>r&&(u=n,n=r,r=u),function(t){return Math.max(n,Math.min(r,t))}}function Y(n,r,u){var t=n[0],a=n[1],o=r[0],c=r[1];return a<t?(t=N(a,t),o=u(c,o)):(t=N(t,a),o=u(o,c)),function(i){return o(t(i))}}function Z(n,r,u){var t=Math.min(n.length,r.length)-1,a=new Array(t),o=new Array(t),c=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++c<t;)a[c]=N(n[c],n[c+1]),o[c]=u(r[c],r[c+1]);return function(i){var f=k(n,i,1,t)-1;return o[f](a[f](i))}}function _(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function J(){var n=v,r=v,u=q,t,a,o,c=g,i,f,e;function h(){var s=Math.min(n.length,r.length);return c!==g&&(c=X(n[0],n[s-1])),i=s>2?Z:Y,f=e=null,l}function l(s){return s==null||isNaN(s=+s)?o:(f||(f=i(n.map(t),r,u)))(t(c(s)))}return l.invert=function(s){return c(a((e||(e=i(r,n.map(t),A)))(s)))},l.domain=function(s){return arguments.length?(n=Array.from(s,W),h()):n.slice()},l.range=function(s){return arguments.length?(r=Array.from(s),h()):r.slice()},l.rangeRound=function(s){return r=Array.from(s),u=T,h()},l.clamp=function(s){return arguments.length?(c=s?!0:g,h()):c!==g},l.interpolate=function(s){return arguments.length?(u=s,h()):u},l.unknown=function(s){return arguments.length?(o=s,l):o},function(s,x){return t=s,a=x,h()}}function K(){return J()(g,g)}function L(n,r,u,t){var a=C(n,r,u),o;switch(t=$(t??",f"),t.type){case"s":{var c=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(o=G(a,c))&&(t.precision=o),I(t,c)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(o=H(a,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=o-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(o=D(a))&&(t.precision=o-(t.type==="%")*2);break}}return V(t)}function P(n){var r=n.domain;return n.ticks=function(u){var t=r();return B(t[0],t[t.length-1],u??10)},n.tickFormat=function(u,t){var a=r();return L(a[0],a[a.length-1],u??10,t)},n.nice=function(u){u==null&&(u=10);var t=r(),a=0,o=t.length-1,c=t[a],i=t[o],f,e,h=10;for(i<c&&(e=c,c=i,i=e,e=a,a=o,o=e);h-- >0;){if(e=d(c,i,u),e===f)return t[a]=c,t[o]=i,r(t);if(e>0)c=Math.floor(c/e)*e,i=Math.ceil(i/e)*e;else if(e<0)c=Math.ceil(c*e)/e,i=Math.floor(i*e)/e;else break;f=e}return n},n}function Q(){var n=K();return n.copy=function(){return _(n,Q())},w.apply(n,arguments),P(n)}function S(){var n=[.5],r=[0,1],u,t=1;function a(o){return o!=null&&o<=o?r[k(n,o,0,t)]:u}return a.domain=function(o){return arguments.length?(n=Array.from(o),t=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(o){return arguments.length?(r=Array.from(o),t=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(o){var c=r.indexOf(o);return[n[c-1],n[c]]},a.unknown=function(o){return arguments.length?(u=o,a):u},a.copy=function(){return S().domain(n).range(r).unknown(u)},w.apply(a,arguments)}export{C as A,J as B,K as C,L as D,T as E,W as F,P as G,Q as H,S as I,M,_ as R,rn as V,tn as W,en as _,w as b,y as d,g,G as j,O as k,D as q,k as v,B as x,H as z};
